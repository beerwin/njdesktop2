(()=>{var e={496:e=>{e.exports=function(){var e={};Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0,e.default=function(e){return!(!e||!e.Window)&&e instanceof e.Window};var t={};Object.defineProperty(t,"__esModule",{value:!0}),t.getWindow=function(t){return(0,e.default)(t)?t:(t.ownerDocument||t).defaultView||i.window},t.init=r,t.window=t.realWindow=void 0;var n=void 0;t.realWindow=n;var i=void 0;function r(e){t.realWindow=n=e;var r=e.document.createTextNode("");r.ownerDocument!==e.document&&"function"==typeof e.wrap&&e.wrap(r)===r&&(e=e.wrap(e)),t.window=i=e}t.window=i,"undefined"!=typeof window&&window&&r(window);var s={};function o(e){return o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},o(e)}Object.defineProperty(s,"__esModule",{value:!0}),s.default=void 0;var a=function(e){return!!e&&"object"===o(e)},l=function(e){return"function"==typeof e},c={window:function(n){return n===t.window||(0,e.default)(n)},docFrag:function(e){return a(e)&&11===e.nodeType},object:a,func:l,number:function(e){return"number"==typeof e},bool:function(e){return"boolean"==typeof e},string:function(e){return"string"==typeof e},element:function(e){if(!e||"object"!==o(e))return!1;var n=t.getWindow(e)||t.window;return/object|function/.test("undefined"==typeof Element?"undefined":o(Element))?e instanceof Element||e instanceof n.Element:1===e.nodeType&&"string"==typeof e.nodeName},plainObject:function(e){return a(e)&&!!e.constructor&&/function Object\b/.test(e.constructor.toString())},array:function(e){return a(e)&&void 0!==e.length&&l(e.splice)}};s.default=c;var d={};function u(e){var t=e.interaction;if("drag"===t.prepared.name){var n=t.prepared.axis;"x"===n?(t.coords.cur.page.y=t.coords.start.page.y,t.coords.cur.client.y=t.coords.start.client.y,t.coords.velocity.client.y=0,t.coords.velocity.page.y=0):"y"===n&&(t.coords.cur.page.x=t.coords.start.page.x,t.coords.cur.client.x=t.coords.start.client.x,t.coords.velocity.client.x=0,t.coords.velocity.page.x=0)}}function h(e){var t=e.iEvent,n=e.interaction;if("drag"===n.prepared.name){var i=n.prepared.axis;if("x"===i||"y"===i){var r="x"===i?"y":"x";t.page[r]=n.coords.start.page[r],t.client[r]=n.coords.start.client[r],t.delta[r]=0}}}Object.defineProperty(d,"__esModule",{value:!0}),d.default=void 0;var p={id:"actions/drag",install:function(e){var t=e.actions,n=e.Interactable,i=e.defaults;n.prototype.draggable=p.draggable,t.map.drag=p,t.methodDict.drag="draggable",i.actions.drag=p.defaults},listeners:{"interactions:before-action-move":u,"interactions:action-resume":u,"interactions:action-move":h,"auto-start:check":function(e){var t=e.interaction,n=e.interactable,i=e.buttons,r=n.options.drag;if(r&&r.enabled&&(!t.pointerIsDown||!/mouse|pointer/.test(t.pointerType)||0!=(i&n.options.drag.mouseButtons)))return e.action={name:"drag",axis:"start"===r.lockAxis?r.startAxis:r.lockAxis},!1}},draggable:function(e){return s.default.object(e)?(this.options.drag.enabled=!1!==e.enabled,this.setPerAction("drag",e),this.setOnEvents("drag",e),/^(xy|x|y|start)$/.test(e.lockAxis)&&(this.options.drag.lockAxis=e.lockAxis),/^(xy|x|y)$/.test(e.startAxis)&&(this.options.drag.startAxis=e.startAxis),this):s.default.bool(e)?(this.options.drag.enabled=e,this):this.options.drag},beforeMove:u,move:h,defaults:{startAxis:"xy",lockAxis:"xy"},getCursor:function(){return"move"}},f=p;d.default=f;var m={};Object.defineProperty(m,"__esModule",{value:!0}),m.default=void 0;var g={init:function(e){var t=e;g.document=t.document,g.DocumentFragment=t.DocumentFragment||v,g.SVGElement=t.SVGElement||v,g.SVGSVGElement=t.SVGSVGElement||v,g.SVGElementInstance=t.SVGElementInstance||v,g.Element=t.Element||v,g.HTMLElement=t.HTMLElement||g.Element,g.Event=t.Event,g.Touch=t.Touch||v,g.PointerEvent=t.PointerEvent||t.MSPointerEvent},document:null,DocumentFragment:null,SVGElement:null,SVGSVGElement:null,SVGElementInstance:null,Element:null,HTMLElement:null,Event:null,Touch:null,PointerEvent:null};function v(){}var y=g;m.default=y;var b={};Object.defineProperty(b,"__esModule",{value:!0}),b.default=void 0;var w={init:function(e){var t=m.default.Element,n=e.navigator||{};w.supportsTouch="ontouchstart"in e||s.default.func(e.DocumentTouch)&&m.default.document instanceof e.DocumentTouch,w.supportsPointerEvent=!1!==n.pointerEnabled&&!!m.default.PointerEvent,w.isIOS=/iP(hone|od|ad)/.test(n.platform),w.isIOS7=/iP(hone|od|ad)/.test(n.platform)&&/OS 7[^\d]/.test(n.appVersion),w.isIe9=/MSIE 9/.test(n.userAgent),w.isOperaMobile="Opera"===n.appName&&w.supportsTouch&&/Presto/.test(n.userAgent),w.prefixedMatchesSelector="matches"in t.prototype?"matches":"webkitMatchesSelector"in t.prototype?"webkitMatchesSelector":"mozMatchesSelector"in t.prototype?"mozMatchesSelector":"oMatchesSelector"in t.prototype?"oMatchesSelector":"msMatchesSelector",w.pEventTypes=w.supportsPointerEvent?m.default.PointerEvent===e.MSPointerEvent?{up:"MSPointerUp",down:"MSPointerDown",over:"mouseover",out:"mouseout",move:"MSPointerMove",cancel:"MSPointerCancel"}:{up:"pointerup",down:"pointerdown",over:"pointerover",out:"pointerout",move:"pointermove",cancel:"pointercancel"}:null,w.wheelEvent=m.default.document&&"onmousewheel"in m.default.document?"mousewheel":"wheel"},supportsTouch:null,supportsPointerEvent:null,isIOS7:null,isIOS:null,isIe9:null,isOperaMobile:null,prefixedMatchesSelector:null,pEventTypes:null,wheelEvent:null},x=w;b.default=x;var k={};function E(e){var t=e.parentNode;if(s.default.docFrag(t)){for(;(t=t.host)&&s.default.docFrag(t););return t}return t}function S(e,n){return t.window!==t.realWindow&&(n=n.replace(/\/deep\//g," ")),e[b.default.prefixedMatchesSelector](n)}Object.defineProperty(k,"__esModule",{value:!0}),k.closest=function(e,t){for(;s.default.element(e);){if(S(e,t))return e;e=E(e)}return null},k.getActualElement=function(e){return e.correspondingUseElement||e},k.getElementClientRect=T,k.getElementRect=function(e){var n=T(e);if(!b.default.isIOS7&&n){var i=P(t.getWindow(e));n.left+=i.x,n.right+=i.x,n.top+=i.y,n.bottom+=i.y}return n},k.getPath=function(e){for(var t=[];e;)t.push(e),e=E(e);return t},k.getScrollXY=P,k.indexOfDeepestElement=function(e){for(var n,i=[],r=0;r<e.length;r++){var s=e[r],o=e[n];if(s&&r!==n)if(o){var a=_(s),l=_(o);if(a!==s.ownerDocument)if(l!==s.ownerDocument)if(a!==l){i=i.length?i:C(o);var c=void 0;if(o instanceof m.default.HTMLElement&&s instanceof m.default.SVGElement&&!(s instanceof m.default.SVGSVGElement)){if(s===l)continue;c=s.ownerSVGElement}else c=s;for(var d=C(c,o.ownerDocument),u=0;d[u]&&d[u]===i[u];)u++;var h=[d[u-1],d[u],i[u]];if(h[0])for(var p=h[0].lastChild;p;){if(p===h[1]){n=r,i=d;break}if(p===h[2])break;p=p.previousSibling}}else f=s,g=o,(parseInt(t.getWindow(f).getComputedStyle(f).zIndex,10)||0)>=(parseInt(t.getWindow(g).getComputedStyle(g).zIndex,10)||0)&&(n=r);else n=r}else n=r}var f,g;return n},k.matchesSelector=S,k.matchesUpTo=function(e,t,n){for(;s.default.element(e);){if(S(e,t))return!0;if((e=E(e))===n)return S(e,t)}return!1},k.nodeContains=function(e,t){if(e.contains)return e.contains(t);for(;t;){if(t===e)return!0;t=t.parentNode}return!1},k.parentNode=E,k.trySelector=function(e){return!!s.default.string(e)&&(m.default.document.querySelector(e),!0)};var _=function(e){return e.parentNode||e.host};function C(e,t){for(var n,i=[],r=e;(n=_(r))&&r!==t&&n!==r.ownerDocument;)i.unshift(r),r=n;return i}function P(e){return{x:(e=e||t.window).scrollX||e.document.documentElement.scrollLeft,y:e.scrollY||e.document.documentElement.scrollTop}}function T(e){var t=e instanceof m.default.SVGElement?e.getBoundingClientRect():e.getClientRects()[0];return t&&{left:t.left,right:t.right,top:t.top,bottom:t.bottom,width:t.width||t.right-t.left,height:t.height||t.bottom-t.top}}var I={};Object.defineProperty(I,"__esModule",{value:!0}),I.default=function(e,t){for(var n in t)e[n]=t[n];return e};var O={};function j(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,i=Array(t);n<t;n++)i[n]=e[n];return i}function L(e,t,n){return"parent"===e?(0,k.parentNode)(n):"self"===e?t.getRect(n):(0,k.closest)(n,e)}Object.defineProperty(O,"__esModule",{value:!0}),O.addEdges=function(e,t,n){e.left&&(t.left+=n.x),e.right&&(t.right+=n.x),e.top&&(t.top+=n.y),e.bottom&&(t.bottom+=n.y),t.width=t.right-t.left,t.height=t.bottom-t.top},O.getStringOptionResult=L,O.rectToXY=function(e){return e&&{x:"x"in e?e.x:e.left,y:"y"in e?e.y:e.top}},O.resolveRectLike=function(e,t,n,i){var r,o=e;return s.default.string(o)?o=L(o,t,n):s.default.func(o)&&(o=o.apply(void 0,function(e){if(Array.isArray(e))return j(e)}(r=i)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(r)||function(e,t){if(e){if("string"==typeof e)return j(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?j(e,t):void 0}}(r)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}())),s.default.element(o)&&(o=(0,k.getElementRect)(o)),o},O.tlbrToXywh=function(e){return!e||"x"in e&&"y"in e||((e=(0,I.default)({},e)).x=e.left||0,e.y=e.top||0,e.width=e.width||(e.right||0)-e.x,e.height=e.height||(e.bottom||0)-e.y),e},O.xywhToTlbr=function(e){return!e||"left"in e&&"top"in e||((e=(0,I.default)({},e)).left=e.x||0,e.top=e.y||0,e.right=e.right||e.left+e.width,e.bottom=e.bottom||e.top+e.height),e};var M={};Object.defineProperty(M,"__esModule",{value:!0}),M.default=function(e,t,n){var i=e.options[n],r=i&&i.origin||e.options.origin,s=(0,O.resolveRectLike)(r,e,t,[e&&t]);return(0,O.rectToXY)(s)||{x:0,y:0}};var z={};function D(e){return e.trim().split(/ +/)}Object.defineProperty(z,"__esModule",{value:!0}),z.default=function e(t,n,i){if(i=i||{},s.default.string(t)&&-1!==t.search(" ")&&(t=D(t)),s.default.array(t))return t.reduce((function(t,r){return(0,I.default)(t,e(r,n,i))}),i);if(s.default.object(t)&&(n=t,t=""),s.default.func(n))i[t]=i[t]||[],i[t].push(n);else if(s.default.array(n))for(var r=0;r<n.length;r++){var o;o=n[r],e(t,o,i)}else if(s.default.object(n))for(var a in n){var l=D(a).map((function(e){return"".concat(t).concat(e)}));e(l,n[a],i)}return i};var R={};Object.defineProperty(R,"__esModule",{value:!0}),R.default=void 0,R.default=function(e,t){return Math.sqrt(e*e+t*t)};var A={};Object.defineProperty(A,"__esModule",{value:!0}),A.default=function(e,t){e.__set||(e.__set={});var n=function(n){"function"!=typeof e[n]&&"__set"!==n&&Object.defineProperty(e,n,{get:function(){return n in e.__set?e.__set[n]:e.__set[n]=t[n]},set:function(t){e.__set[n]=t},configurable:!0})};for(var i in t)n(i);return e};var B={};function H(e){return e instanceof m.default.Event||e instanceof m.default.Touch}function $(e,t,n){return e=e||"page",(n=n||{}).x=t[e+"X"],n.y=t[e+"Y"],n}function V(e,t){return t=t||{x:0,y:0},b.default.isOperaMobile&&H(e)?($("screen",e,t),t.x+=window.scrollX,t.y+=window.scrollY):$("page",e,t),t}function W(e,t){return t=t||{},b.default.isOperaMobile&&H(e)?$("screen",e,t):$("client",e,t),t}function N(e){var t=[];return s.default.array(e)?(t[0]=e[0],t[1]=e[1]):"touchend"===e.type?1===e.touches.length?(t[0]=e.touches[0],t[1]=e.changedTouches[0]):0===e.touches.length&&(t[0]=e.changedTouches[0],t[1]=e.changedTouches[1]):(t[0]=e.touches[0],t[1]=e.touches[1]),t}function F(e){for(var t={pageX:0,pageY:0,clientX:0,clientY:0,screenX:0,screenY:0},n=0;n<e.length;n++){var i=e[n];for(var r in t)t[r]+=i[r]}for(var s in t)t[s]/=e.length;return t}Object.defineProperty(B,"__esModule",{value:!0}),B.coordsToEvent=function(e){return{coords:e,get page(){return this.coords.page},get client(){return this.coords.client},get timeStamp(){return this.coords.timeStamp},get pageX(){return this.coords.page.x},get pageY(){return this.coords.page.y},get clientX(){return this.coords.client.x},get clientY(){return this.coords.client.y},get pointerId(){return this.coords.pointerId},get target(){return this.coords.target},get type(){return this.coords.type},get pointerType(){return this.coords.pointerType},get buttons(){return this.coords.buttons},preventDefault:function(){}}},B.copyCoords=function(e,t){e.page=e.page||{},e.page.x=t.page.x,e.page.y=t.page.y,e.client=e.client||{},e.client.x=t.client.x,e.client.y=t.client.y,e.timeStamp=t.timeStamp},B.getClientXY=W,B.getEventTargets=function(e){var t=s.default.func(e.composedPath)?e.composedPath():e.path;return[k.getActualElement(t?t[0]:e.target),k.getActualElement(e.currentTarget)]},B.getPageXY=V,B.getPointerId=function(e){return s.default.number(e.pointerId)?e.pointerId:e.identifier},B.getPointerType=function(e){return s.default.string(e.pointerType)?e.pointerType:s.default.number(e.pointerType)?[void 0,void 0,"touch","pen","mouse"][e.pointerType]:/touch/.test(e.type||"")||e instanceof m.default.Touch?"touch":"mouse"},B.getTouchPair=N,B.getXY=$,B.isNativePointer=H,B.newCoords=function(){return{page:{x:0,y:0},client:{x:0,y:0},timeStamp:0}},B.pointerAverage=F,Object.defineProperty(B,"pointerExtend",{enumerable:!0,get:function(){return A.default}}),B.setCoordDeltas=function(e,t,n){e.page.x=n.page.x-t.page.x,e.page.y=n.page.y-t.page.y,e.client.x=n.client.x-t.client.x,e.client.y=n.client.y-t.client.y,e.timeStamp=n.timeStamp-t.timeStamp},B.setCoordVelocity=function(e,t){var n=Math.max(t.timeStamp/1e3,.001);e.page.x=t.page.x/n,e.page.y=t.page.y/n,e.client.x=t.client.x/n,e.client.y=t.client.y/n,e.timeStamp=n},B.setCoords=function(e,t,n){var i=t.length>1?F(t):t[0];V(i,e.page),W(i,e.client),e.timeStamp=n},B.setZeroCoords=function(e){e.page.x=0,e.page.y=0,e.client.x=0,e.client.y=0},B.touchAngle=function(e,t){var n=t+"X",i=t+"Y",r=N(e),s=r[1][n]-r[0][n],o=r[1][i]-r[0][i];return 180*Math.atan2(o,s)/Math.PI},B.touchBBox=function(e){if(!e.length)return null;var t=N(e),n=Math.min(t[0].pageX,t[1].pageX),i=Math.min(t[0].pageY,t[1].pageY),r=Math.max(t[0].pageX,t[1].pageX),s=Math.max(t[0].pageY,t[1].pageY);return{x:n,y:i,left:n,top:i,right:r,bottom:s,width:r-n,height:s-i}},B.touchDistance=function(e,t){var n=t+"X",i=t+"Y",r=N(e),s=r[0][n]-r[1][n],o=r[0][i]-r[1][i];return(0,R.default)(s,o)};var U={};function Y(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}Object.defineProperty(U,"__esModule",{value:!0}),U.BaseEvent=void 0;var q=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),Y(this,"immediatePropagationStopped",!1),Y(this,"propagationStopped",!1),this._interaction=t}var t,n;return t=e,(n=[{key:"preventDefault",value:function(){}},{key:"stopPropagation",value:function(){this.propagationStopped=!0}},{key:"stopImmediatePropagation",value:function(){this.immediatePropagationStopped=this.propagationStopped=!0}}])&&function(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}(t.prototype,n),Object.defineProperty(t,"prototype",{writable:!1}),e}();U.BaseEvent=q,Object.defineProperty(q.prototype,"interaction",{get:function(){return this._interaction._proxy},set:function(){}});var Z={};Object.defineProperty(Z,"__esModule",{value:!0}),Z.remove=Z.merge=Z.from=Z.findIndex=Z.find=Z.contains=void 0,Z.contains=function(e,t){return-1!==e.indexOf(t)},Z.remove=function(e,t){return e.splice(e.indexOf(t),1)};var X=function(e,t){for(var n=0;n<t.length;n++){var i=t[n];e.push(i)}return e};Z.merge=X,Z.from=function(e){return X([],e)};var K=function(e,t){for(var n=0;n<e.length;n++)if(t(e[n],n,e))return n;return-1};Z.findIndex=K,Z.find=function(e,t){return e[K(e,t)]};var G={};function Q(e){return Q="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Q(e)}function J(e,t){return J=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},J(e,t)}function ee(e,t){if(t&&("object"===Q(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return te(e)}function te(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function ne(e){return ne=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},ne(e)}function ie(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}Object.defineProperty(G,"__esModule",{value:!0}),G.DropEvent=void 0;var re=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&J(e,t)}(o,e);var t,n,i,r,s=(i=o,r=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=ne(i);if(r){var n=ne(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return ee(this,e)});function o(e,t,n){var i;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,o),ie(te(i=s.call(this,t._interaction)),"dropzone",void 0),ie(te(i),"dragEvent",void 0),ie(te(i),"relatedTarget",void 0),ie(te(i),"draggable",void 0),ie(te(i),"propagationStopped",!1),ie(te(i),"immediatePropagationStopped",!1);var r="dragleave"===n?e.prev:e.cur,a=r.element,l=r.dropzone;return i.type=n,i.target=a,i.currentTarget=a,i.dropzone=l,i.dragEvent=t,i.relatedTarget=t.target,i.draggable=t.interactable,i.timeStamp=t.timeStamp,i}return t=o,(n=[{key:"reject",value:function(){var e=this,t=this._interaction.dropState;if("dropactivate"===this.type||this.dropzone&&t.cur.dropzone===this.dropzone&&t.cur.element===this.target)if(t.prev.dropzone=this.dropzone,t.prev.element=this.target,t.rejected=!0,t.events.enter=null,this.stopImmediatePropagation(),"dropactivate"===this.type){var n=t.activeDrops,i=Z.findIndex(n,(function(t){var n=t.dropzone,i=t.element;return n===e.dropzone&&i===e.target}));t.activeDrops.splice(i,1);var r=new o(t,this.dragEvent,"dropdeactivate");r.dropzone=this.dropzone,r.target=this.target,this.dropzone.fire(r)}else this.dropzone.fire(new o(t,this.dragEvent,"dragleave"))}},{key:"preventDefault",value:function(){}},{key:"stopPropagation",value:function(){this.propagationStopped=!0}},{key:"stopImmediatePropagation",value:function(){this.immediatePropagationStopped=this.propagationStopped=!0}}])&&function(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}(t.prototype,n),Object.defineProperty(t,"prototype",{writable:!1}),o}(U.BaseEvent);G.DropEvent=re;var se={};function oe(e,t){for(var n=0;n<e.slice().length;n++){var i=e.slice()[n],r=i.dropzone,s=i.element;t.dropzone=r,t.target=s,r.fire(t),t.propagationStopped=t.immediatePropagationStopped=!1}}function ae(e,t){for(var n=function(e,t){for(var n=e.interactables,i=[],r=0;r<n.list.length;r++){var o=n.list[r];if(o.options.drop.enabled){var a=o.options.drop.accept;if(!(s.default.element(a)&&a!==t||s.default.string(a)&&!k.matchesSelector(t,a)||s.default.func(a)&&!a({dropzone:o,draggableElement:t})))for(var l=s.default.string(o.target)?o._context.querySelectorAll(o.target):s.default.array(o.target)?o.target:[o.target],c=0;c<l.length;c++){var d=l[c];d!==t&&i.push({dropzone:o,element:d,rect:o.getRect(d)})}}}return i}(e,t),i=0;i<n.length;i++){var r=n[i];r.rect=r.dropzone.getRect(r.element)}return n}function le(e,t,n){for(var i=e.dropState,r=e.interactable,s=e.element,o=[],a=0;a<i.activeDrops.length;a++){var l=i.activeDrops[a],c=l.dropzone,d=l.element,u=l.rect;o.push(c.dropCheck(t,n,r,s,d,u)?d:null)}var h=k.indexOfDeepestElement(o);return i.activeDrops[h]||null}function ce(e,t,n){var i=e.dropState,r={enter:null,leave:null,activate:null,deactivate:null,move:null,drop:null};return"dragstart"===n.type&&(r.activate=new G.DropEvent(i,n,"dropactivate"),r.activate.target=null,r.activate.dropzone=null),"dragend"===n.type&&(r.deactivate=new G.DropEvent(i,n,"dropdeactivate"),r.deactivate.target=null,r.deactivate.dropzone=null),i.rejected||(i.cur.element!==i.prev.element&&(i.prev.dropzone&&(r.leave=new G.DropEvent(i,n,"dragleave"),n.dragLeave=r.leave.target=i.prev.element,n.prevDropzone=r.leave.dropzone=i.prev.dropzone),i.cur.dropzone&&(r.enter=new G.DropEvent(i,n,"dragenter"),n.dragEnter=i.cur.element,n.dropzone=i.cur.dropzone)),"dragend"===n.type&&i.cur.dropzone&&(r.drop=new G.DropEvent(i,n,"drop"),n.dropzone=i.cur.dropzone,n.relatedTarget=i.cur.element),"dragmove"===n.type&&i.cur.dropzone&&(r.move=new G.DropEvent(i,n,"dropmove"),r.move.dragmove=n,n.dropzone=i.cur.dropzone)),r}function de(e,t){var n=e.dropState,i=n.activeDrops,r=n.cur,s=n.prev;t.leave&&s.dropzone.fire(t.leave),t.enter&&r.dropzone.fire(t.enter),t.move&&r.dropzone.fire(t.move),t.drop&&r.dropzone.fire(t.drop),t.deactivate&&oe(i,t.deactivate),n.prev.dropzone=r.dropzone,n.prev.element=r.element}function ue(e,t){var n=e.interaction,i=e.iEvent,r=e.event;if("dragmove"===i.type||"dragend"===i.type){var s=n.dropState;t.dynamicDrop&&(s.activeDrops=ae(t,n.element));var o=i,a=le(n,o,r);s.rejected=s.rejected&&!!a&&a.dropzone===s.cur.dropzone&&a.element===s.cur.element,s.cur.dropzone=a&&a.dropzone,s.cur.element=a&&a.element,s.events=ce(n,0,o)}}Object.defineProperty(se,"__esModule",{value:!0}),se.default=void 0;var he={id:"actions/drop",install:function(e){var t=e.actions,n=e.interactStatic,i=e.Interactable,r=e.defaults;e.usePlugin(d.default),i.prototype.dropzone=function(e){return function(e,t){if(s.default.object(t)){if(e.options.drop.enabled=!1!==t.enabled,t.listeners){var n=(0,z.default)(t.listeners),i=Object.keys(n).reduce((function(e,t){return e[/^(enter|leave)/.test(t)?"drag".concat(t):/^(activate|deactivate|move)/.test(t)?"drop".concat(t):t]=n[t],e}),{});e.off(e.options.drop.listeners),e.on(i),e.options.drop.listeners=i}return s.default.func(t.ondrop)&&e.on("drop",t.ondrop),s.default.func(t.ondropactivate)&&e.on("dropactivate",t.ondropactivate),s.default.func(t.ondropdeactivate)&&e.on("dropdeactivate",t.ondropdeactivate),s.default.func(t.ondragenter)&&e.on("dragenter",t.ondragenter),s.default.func(t.ondragleave)&&e.on("dragleave",t.ondragleave),s.default.func(t.ondropmove)&&e.on("dropmove",t.ondropmove),/^(pointer|center)$/.test(t.overlap)?e.options.drop.overlap=t.overlap:s.default.number(t.overlap)&&(e.options.drop.overlap=Math.max(Math.min(1,t.overlap),0)),"accept"in t&&(e.options.drop.accept=t.accept),"checker"in t&&(e.options.drop.checker=t.checker),e}return s.default.bool(t)?(e.options.drop.enabled=t,e):e.options.drop}(this,e)},i.prototype.dropCheck=function(e,t,n,i,r,o){return function(e,t,n,i,r,o,a){var l=!1;if(!(a=a||e.getRect(o)))return!!e.options.drop.checker&&e.options.drop.checker(t,n,l,e,o,i,r);var c=e.options.drop.overlap;if("pointer"===c){var d=(0,M.default)(i,r,"drag"),u=B.getPageXY(t);u.x+=d.x,u.y+=d.y;var h=u.x>a.left&&u.x<a.right,p=u.y>a.top&&u.y<a.bottom;l=h&&p}var f=i.getRect(r);if(f&&"center"===c){var m=f.left+f.width/2,g=f.top+f.height/2;l=m>=a.left&&m<=a.right&&g>=a.top&&g<=a.bottom}return f&&s.default.number(c)&&(l=Math.max(0,Math.min(a.right,f.right)-Math.max(a.left,f.left))*Math.max(0,Math.min(a.bottom,f.bottom)-Math.max(a.top,f.top))/(f.width*f.height)>=c),e.options.drop.checker&&(l=e.options.drop.checker(t,n,l,e,o,i,r)),l}(this,e,t,n,i,r,o)},n.dynamicDrop=function(t){return s.default.bool(t)?(e.dynamicDrop=t,n):e.dynamicDrop},(0,I.default)(t.phaselessTypes,{dragenter:!0,dragleave:!0,dropactivate:!0,dropdeactivate:!0,dropmove:!0,drop:!0}),t.methodDict.drop="dropzone",e.dynamicDrop=!1,r.actions.drop=he.defaults},listeners:{"interactions:before-action-start":function(e){var t=e.interaction;"drag"===t.prepared.name&&(t.dropState={cur:{dropzone:null,element:null},prev:{dropzone:null,element:null},rejected:null,events:null,activeDrops:[]})},"interactions:after-action-start":function(e,t){var n=e.interaction,i=(e.event,e.iEvent);if("drag"===n.prepared.name){var r=n.dropState;r.activeDrops=null,r.events=null,r.activeDrops=ae(t,n.element),r.events=ce(n,0,i),r.events.activate&&(oe(r.activeDrops,r.events.activate),t.fire("actions/drop:start",{interaction:n,dragEvent:i}))}},"interactions:action-move":ue,"interactions:after-action-move":function(e,t){var n=e.interaction,i=e.iEvent;"drag"===n.prepared.name&&(de(n,n.dropState.events),t.fire("actions/drop:move",{interaction:n,dragEvent:i}),n.dropState.events={})},"interactions:action-end":function(e,t){if("drag"===e.interaction.prepared.name){var n=e.interaction,i=e.iEvent;ue(e,t),de(n,n.dropState.events),t.fire("actions/drop:end",{interaction:n,dragEvent:i})}},"interactions:stop":function(e){var t=e.interaction;if("drag"===t.prepared.name){var n=t.dropState;n&&(n.activeDrops=null,n.events=null,n.cur.dropzone=null,n.cur.element=null,n.prev.dropzone=null,n.prev.element=null,n.rejected=!1)}}},getActiveDrops:ae,getDrop:le,getDropEvents:ce,fireDropEvents:de,defaults:{enabled:!1,accept:null,overlap:"pointer"}},pe=he;se.default=pe;var fe={};function me(e){var t=e.interaction,n=e.iEvent,i=e.phase;if("gesture"===t.prepared.name){var r=t.pointers.map((function(e){return e.pointer})),o="start"===i,a="end"===i,l=t.interactable.options.deltaSource;if(n.touches=[r[0],r[1]],o)n.distance=B.touchDistance(r,l),n.box=B.touchBBox(r),n.scale=1,n.ds=0,n.angle=B.touchAngle(r,l),n.da=0,t.gesture.startDistance=n.distance,t.gesture.startAngle=n.angle;else if(a){var c=t.prevEvent;n.distance=c.distance,n.box=c.box,n.scale=c.scale,n.ds=0,n.angle=c.angle,n.da=0}else n.distance=B.touchDistance(r,l),n.box=B.touchBBox(r),n.scale=n.distance/t.gesture.startDistance,n.angle=B.touchAngle(r,l),n.ds=n.scale-t.gesture.scale,n.da=n.angle-t.gesture.angle;t.gesture.distance=n.distance,t.gesture.angle=n.angle,s.default.number(n.scale)&&n.scale!==1/0&&!isNaN(n.scale)&&(t.gesture.scale=n.scale)}}Object.defineProperty(fe,"__esModule",{value:!0}),fe.default=void 0;var ge={id:"actions/gesture",before:["actions/drag","actions/resize"],install:function(e){var t=e.actions,n=e.Interactable,i=e.defaults;n.prototype.gesturable=function(e){return s.default.object(e)?(this.options.gesture.enabled=!1!==e.enabled,this.setPerAction("gesture",e),this.setOnEvents("gesture",e),this):s.default.bool(e)?(this.options.gesture.enabled=e,this):this.options.gesture},t.map.gesture=ge,t.methodDict.gesture="gesturable",i.actions.gesture=ge.defaults},listeners:{"interactions:action-start":me,"interactions:action-move":me,"interactions:action-end":me,"interactions:new":function(e){e.interaction.gesture={angle:0,distance:0,scale:1,startAngle:0,startDistance:0}},"auto-start:check":function(e){if(!(e.interaction.pointers.length<2)){var t=e.interactable.options.gesture;if(t&&t.enabled)return e.action={name:"gesture"},!1}}},defaults:{},getCursor:function(){return""}},ve=ge;fe.default=ve;var ye={};function be(e,t,n,i,r,o,a){if(!t)return!1;if(!0===t){var l=s.default.number(o.width)?o.width:o.right-o.left,c=s.default.number(o.height)?o.height:o.bottom-o.top;if(a=Math.min(a,Math.abs(("left"===e||"right"===e?l:c)/2)),l<0&&("left"===e?e="right":"right"===e&&(e="left")),c<0&&("top"===e?e="bottom":"bottom"===e&&(e="top")),"left"===e){var d=l>=0?o.left:o.right;return n.x<d+a}if("top"===e){var u=c>=0?o.top:o.bottom;return n.y<u+a}if("right"===e)return n.x>(l>=0?o.right:o.left)-a;if("bottom"===e)return n.y>(c>=0?o.bottom:o.top)-a}return!!s.default.element(i)&&(s.default.element(t)?t===i:k.matchesUpTo(i,t,r))}function we(e){var t=e.iEvent,n=e.interaction;if("resize"===n.prepared.name&&n.resizeAxes){var i=t;n.interactable.options.resize.square?("y"===n.resizeAxes?i.delta.x=i.delta.y:i.delta.y=i.delta.x,i.axes="xy"):(i.axes=n.resizeAxes,"x"===n.resizeAxes?i.delta.y=0:"y"===n.resizeAxes&&(i.delta.x=0))}}Object.defineProperty(ye,"__esModule",{value:!0}),ye.default=void 0;var xe={id:"actions/resize",before:["actions/drag"],install:function(e){var t=e.actions,n=e.browser,i=e.Interactable,r=e.defaults;xe.cursors=function(e){return e.isIe9?{x:"e-resize",y:"s-resize",xy:"se-resize",top:"n-resize",left:"w-resize",bottom:"s-resize",right:"e-resize",topleft:"se-resize",bottomright:"se-resize",topright:"ne-resize",bottomleft:"ne-resize"}:{x:"ew-resize",y:"ns-resize",xy:"nwse-resize",top:"ns-resize",left:"ew-resize",bottom:"ns-resize",right:"ew-resize",topleft:"nwse-resize",bottomright:"nwse-resize",topright:"nesw-resize",bottomleft:"nesw-resize"}}(n),xe.defaultMargin=n.supportsTouch||n.supportsPointerEvent?20:10,i.prototype.resizable=function(t){return function(e,t,n){return s.default.object(t)?(e.options.resize.enabled=!1!==t.enabled,e.setPerAction("resize",t),e.setOnEvents("resize",t),s.default.string(t.axis)&&/^x$|^y$|^xy$/.test(t.axis)?e.options.resize.axis=t.axis:null===t.axis&&(e.options.resize.axis=n.defaults.actions.resize.axis),s.default.bool(t.preserveAspectRatio)?e.options.resize.preserveAspectRatio=t.preserveAspectRatio:s.default.bool(t.square)&&(e.options.resize.square=t.square),e):s.default.bool(t)?(e.options.resize.enabled=t,e):e.options.resize}(this,t,e)},t.map.resize=xe,t.methodDict.resize="resizable",r.actions.resize=xe.defaults},listeners:{"interactions:new":function(e){e.interaction.resizeAxes="xy"},"interactions:action-start":function(e){!function(e){var t=e.iEvent,n=e.interaction;if("resize"===n.prepared.name&&n.prepared.edges){var i=t,r=n.rect;n._rects={start:(0,I.default)({},r),corrected:(0,I.default)({},r),previous:(0,I.default)({},r),delta:{left:0,right:0,width:0,top:0,bottom:0,height:0}},i.edges=n.prepared.edges,i.rect=n._rects.corrected,i.deltaRect=n._rects.delta}}(e),we(e)},"interactions:action-move":function(e){!function(e){var t=e.iEvent,n=e.interaction;if("resize"===n.prepared.name&&n.prepared.edges){var i=t,r=n.interactable.options.resize.invert,s="reposition"===r||"negate"===r,o=n.rect,a=n._rects,l=a.start,c=a.corrected,d=a.delta,u=a.previous;if((0,I.default)(u,c),s){if((0,I.default)(c,o),"reposition"===r){if(c.top>c.bottom){var h=c.top;c.top=c.bottom,c.bottom=h}if(c.left>c.right){var p=c.left;c.left=c.right,c.right=p}}}else c.top=Math.min(o.top,l.bottom),c.bottom=Math.max(o.bottom,l.top),c.left=Math.min(o.left,l.right),c.right=Math.max(o.right,l.left);for(var f in c.width=c.right-c.left,c.height=c.bottom-c.top,c)d[f]=c[f]-u[f];i.edges=n.prepared.edges,i.rect=c,i.deltaRect=d}}(e),we(e)},"interactions:action-end":function(e){var t=e.iEvent,n=e.interaction;if("resize"===n.prepared.name&&n.prepared.edges){var i=t;i.edges=n.prepared.edges,i.rect=n._rects.corrected,i.deltaRect=n._rects.delta}},"auto-start:check":function(e){var t=e.interaction,n=e.interactable,i=e.element,r=e.rect,o=e.buttons;if(r){var a=(0,I.default)({},t.coords.cur.page),l=n.options.resize;if(l&&l.enabled&&(!t.pointerIsDown||!/mouse|pointer/.test(t.pointerType)||0!=(o&l.mouseButtons))){if(s.default.object(l.edges)){var c={left:!1,right:!1,top:!1,bottom:!1};for(var d in c)c[d]=be(d,l.edges[d],a,t._latestPointer.eventTarget,i,r,l.margin||xe.defaultMargin);c.left=c.left&&!c.right,c.top=c.top&&!c.bottom,(c.left||c.right||c.top||c.bottom)&&(e.action={name:"resize",edges:c})}else{var u="y"!==l.axis&&a.x>r.right-xe.defaultMargin,h="x"!==l.axis&&a.y>r.bottom-xe.defaultMargin;(u||h)&&(e.action={name:"resize",axes:(u?"x":"")+(h?"y":"")})}return!e.action&&void 0}}}},defaults:{square:!1,preserveAspectRatio:!1,axis:"xy",margin:NaN,edges:null,invert:"none"},cursors:null,getCursor:function(e){var t=e.edges,n=e.axis,i=e.name,r=xe.cursors,s=null;if(n)s=r[i+n];else if(t){for(var o="",a=["top","bottom","left","right"],l=0;l<a.length;l++){var c=a[l];t[c]&&(o+=c)}s=r[o]}return s},defaultMargin:null},ke=xe;ye.default=ke;var Ee={};Object.defineProperty(Ee,"__esModule",{value:!0}),Ee.default=void 0;var Se={id:"actions",install:function(e){e.usePlugin(fe.default),e.usePlugin(ye.default),e.usePlugin(d.default),e.usePlugin(se.default)}};Ee.default=Se;var _e={};Object.defineProperty(_e,"__esModule",{value:!0}),_e.default=void 0;var Ce,Pe,Te=0,Ie={request:function(e){return Ce(e)},cancel:function(e){return Pe(e)},init:function(e){if(Ce=e.requestAnimationFrame,Pe=e.cancelAnimationFrame,!Ce)for(var t=["ms","moz","webkit","o"],n=0;n<t.length;n++){var i=t[n];Ce=e["".concat(i,"RequestAnimationFrame")],Pe=e["".concat(i,"CancelAnimationFrame")]||e["".concat(i,"CancelRequestAnimationFrame")]}Ce=Ce&&Ce.bind(e),Pe=Pe&&Pe.bind(e),Ce||(Ce=function(t){var n=Date.now(),i=Math.max(0,16-(n-Te)),r=e.setTimeout((function(){t(n+i)}),i);return Te=n+i,r},Pe=function(e){return clearTimeout(e)})}};_e.default=Ie;var Oe={};Object.defineProperty(Oe,"__esModule",{value:!0}),Oe.default=void 0,Oe.getContainer=Le,Oe.getScroll=Me,Oe.getScrollSize=function(e){return s.default.window(e)&&(e=window.document.body),{x:e.scrollWidth,y:e.scrollHeight}},Oe.getScrollSizeDelta=function(e,t){var n=e.interaction,i=e.element,r=n&&n.interactable.options[n.prepared.name].autoScroll;if(!r||!r.enabled)return t(),{x:0,y:0};var s=Le(r.container,n.interactable,i),o=Me(s);t();var a=Me(s);return{x:a.x-o.x,y:a.y-o.y}};var je={defaults:{enabled:!1,margin:60,container:null,speed:300},now:Date.now,interaction:null,i:0,x:0,y:0,isScrolling:!1,prevTime:0,margin:0,speed:0,start:function(e){je.isScrolling=!0,_e.default.cancel(je.i),e.autoScroll=je,je.interaction=e,je.prevTime=je.now(),je.i=_e.default.request(je.scroll)},stop:function(){je.isScrolling=!1,je.interaction&&(je.interaction.autoScroll=null),_e.default.cancel(je.i)},scroll:function(){var e=je.interaction,t=e.interactable,n=e.element,i=e.prepared.name,r=t.options[i].autoScroll,o=Le(r.container,t,n),a=je.now(),l=(a-je.prevTime)/1e3,c=r.speed*l;if(c>=1){var d={x:je.x*c,y:je.y*c};if(d.x||d.y){var u=Me(o);s.default.window(o)?o.scrollBy(d.x,d.y):o&&(o.scrollLeft+=d.x,o.scrollTop+=d.y);var h=Me(o),p={x:h.x-u.x,y:h.y-u.y};(p.x||p.y)&&t.fire({type:"autoscroll",target:n,interactable:t,delta:p,interaction:e,container:o})}je.prevTime=a}je.isScrolling&&(_e.default.cancel(je.i),je.i=_e.default.request(je.scroll))},check:function(e,t){var n;return null==(n=e.options[t].autoScroll)?void 0:n.enabled},onInteractionMove:function(e){var t=e.interaction,n=e.pointer;if(t.interacting()&&je.check(t.interactable,t.prepared.name))if(t.simulation)je.x=je.y=0;else{var i,r,o,a,l=t.interactable,c=t.element,d=t.prepared.name,u=l.options[d].autoScroll,h=Le(u.container,l,c);if(s.default.window(h))a=n.clientX<je.margin,i=n.clientY<je.margin,r=n.clientX>h.innerWidth-je.margin,o=n.clientY>h.innerHeight-je.margin;else{var p=k.getElementClientRect(h);a=n.clientX<p.left+je.margin,i=n.clientY<p.top+je.margin,r=n.clientX>p.right-je.margin,o=n.clientY>p.bottom-je.margin}je.x=r?1:a?-1:0,je.y=o?1:i?-1:0,je.isScrolling||(je.margin=u.margin,je.speed=u.speed,je.start(t))}}};function Le(e,n,i){return(s.default.string(e)?(0,O.getStringOptionResult)(e,n,i):e)||(0,t.getWindow)(i)}function Me(e){return s.default.window(e)&&(e=window.document.body),{x:e.scrollLeft,y:e.scrollTop}}var ze={id:"auto-scroll",install:function(e){var t=e.defaults,n=e.actions;e.autoScroll=je,je.now=function(){return e.now()},n.phaselessTypes.autoscroll=!0,t.perAction.autoScroll=je.defaults},listeners:{"interactions:new":function(e){e.interaction.autoScroll=null},"interactions:destroy":function(e){e.interaction.autoScroll=null,je.stop(),je.interaction&&(je.interaction=null)},"interactions:stop":je.stop,"interactions:action-move":function(e){return je.onInteractionMove(e)}}},De=ze;Oe.default=De;var Re={};Object.defineProperty(Re,"__esModule",{value:!0}),Re.copyAction=function(e,t){return e.name=t.name,e.axis=t.axis,e.edges=t.edges,e},Re.sign=void 0,Re.warnOnce=function(e,n){var i=!1;return function(){return i||(t.window.console.warn(n),i=!0),e.apply(this,arguments)}},Re.sign=function(e){return e>=0?1:-1};var Ae={};function Be(e){return s.default.bool(e)?(this.options.styleCursor=e,this):null===e?(delete this.options.styleCursor,this):this.options.styleCursor}function He(e){return s.default.func(e)?(this.options.actionChecker=e,this):null===e?(delete this.options.actionChecker,this):this.options.actionChecker}Object.defineProperty(Ae,"__esModule",{value:!0}),Ae.default=void 0;var $e={id:"auto-start/interactableMethods",install:function(e){var t=e.Interactable;t.prototype.getAction=function(t,n,i,r){var s=function(e,t,n,i,r){var s=e.getRect(i),o={action:null,interactable:e,interaction:n,element:i,rect:s,buttons:t.buttons||{0:1,1:4,3:8,4:16}[t.button]};return r.fire("auto-start:check",o),o.action}(this,n,i,r,e);return this.options.actionChecker?this.options.actionChecker(t,n,s,this,r,i):s},t.prototype.ignoreFrom=(0,Re.warnOnce)((function(e){return this._backCompatOption("ignoreFrom",e)}),"Interactable.ignoreFrom() has been deprecated. Use Interactble.draggable({ignoreFrom: newValue})."),t.prototype.allowFrom=(0,Re.warnOnce)((function(e){return this._backCompatOption("allowFrom",e)}),"Interactable.allowFrom() has been deprecated. Use Interactble.draggable({allowFrom: newValue})."),t.prototype.actionChecker=He,t.prototype.styleCursor=Be}};Ae.default=$e;var Ve={};function We(e,t,n,i,r){return t.testIgnoreAllow(t.options[e.name],n,i)&&t.options[e.name].enabled&&Ye(t,n,e,r)?e:null}function Ne(e,t,n,i,r,s,o){for(var a=0,l=i.length;a<l;a++){var c=i[a],d=r[a],u=c.getAction(t,n,e,d);if(u){var h=We(u,c,d,s,o);if(h)return{action:h,interactable:c,element:d}}}return{action:null,interactable:null,element:null}}function Fe(e,t,n,i,r){var o=[],a=[],l=i;function c(e){o.push(e),a.push(l)}for(;s.default.element(l);){o=[],a=[],r.interactables.forEachMatch(l,c);var d=Ne(e,t,n,o,a,i,r);if(d.action&&!d.interactable.options[d.action.name].manualStart)return d;l=k.parentNode(l)}return{action:null,interactable:null,element:null}}function Ue(e,t,n){var i=t.action,r=t.interactable,s=t.element;i=i||{name:null},e.interactable=r,e.element=s,(0,Re.copyAction)(e.prepared,i),e.rect=r&&i.name?r.getRect(s):null,Xe(e,n),n.fire("autoStart:prepared",{interaction:e})}function Ye(e,t,n,i){var r=e.options,s=r[n.name].max,o=r[n.name].maxPerElement,a=i.autoStart.maxInteractions,l=0,c=0,d=0;if(!(s&&o&&a))return!1;for(var u=0;u<i.interactions.list.length;u++){var h=i.interactions.list[u],p=h.prepared.name;if(h.interacting()){if(++l>=a)return!1;if(h.interactable===e){if((c+=p===n.name?1:0)>=s)return!1;if(h.element===t&&(d++,p===n.name&&d>=o))return!1}}}return a>0}function qe(e,t){return s.default.number(e)?(t.autoStart.maxInteractions=e,this):t.autoStart.maxInteractions}function Ze(e,t,n){var i=n.autoStart.cursorElement;i&&i!==e&&(i.style.cursor=""),e.ownerDocument.documentElement.style.cursor=t,e.style.cursor=t,n.autoStart.cursorElement=t?e:null}function Xe(e,t){var n=e.interactable,i=e.element,r=e.prepared;if("mouse"===e.pointerType&&n&&n.options.styleCursor){var o="";if(r.name){var a=n.options[r.name].cursorChecker;o=s.default.func(a)?a(r,n,i,e._interacting):t.actions.map[r.name].getCursor(r)}Ze(e.element,o||"",t)}else t.autoStart.cursorElement&&Ze(t.autoStart.cursorElement,"",t)}Object.defineProperty(Ve,"__esModule",{value:!0}),Ve.default=void 0;var Ke={id:"auto-start/base",before:["actions"],install:function(e){var t=e.interactStatic,n=e.defaults;e.usePlugin(Ae.default),n.base.actionChecker=null,n.base.styleCursor=!0,(0,I.default)(n.perAction,{manualStart:!1,max:1/0,maxPerElement:1,allowFrom:null,ignoreFrom:null,mouseButtons:1}),t.maxInteractions=function(t){return qe(t,e)},e.autoStart={maxInteractions:1/0,withinInteractionLimit:Ye,cursorElement:null}},listeners:{"interactions:down":function(e,t){var n=e.interaction,i=e.pointer,r=e.event,s=e.eventTarget;n.interacting()||Ue(n,Fe(n,i,r,s,t),t)},"interactions:move":function(e,t){!function(e,t){var n=e.interaction,i=e.pointer,r=e.event,s=e.eventTarget;"mouse"!==n.pointerType||n.pointerIsDown||n.interacting()||Ue(n,Fe(n,i,r,s,t),t)}(e,t),function(e,t){var n=e.interaction;if(n.pointerIsDown&&!n.interacting()&&n.pointerWasMoved&&n.prepared.name){t.fire("autoStart:before-start",e);var i=n.interactable,r=n.prepared.name;r&&i&&(i.options[r].manualStart||!Ye(i,n.element,n.prepared,t)?n.stop():(n.start(n.prepared,i,n.element),Xe(n,t)))}}(e,t)},"interactions:stop":function(e,t){var n=e.interaction,i=n.interactable;i&&i.options.styleCursor&&Ze(n.element,"",t)}},maxInteractions:qe,withinInteractionLimit:Ye,validateAction:We},Ge=Ke;Ve.default=Ge;var Qe={};Object.defineProperty(Qe,"__esModule",{value:!0}),Qe.default=void 0;var Je={id:"auto-start/dragAxis",listeners:{"autoStart:before-start":function(e,t){var n=e.interaction,i=e.eventTarget,r=e.dx,o=e.dy;if("drag"===n.prepared.name){var a=Math.abs(r),l=Math.abs(o),c=n.interactable.options.drag,d=c.startAxis,u=a>l?"x":a<l?"y":"xy";if(n.prepared.axis="start"===c.lockAxis?u[0]:c.lockAxis,"xy"!==u&&"xy"!==d&&d!==u){n.prepared.name=null;for(var h=i,p=function(e){if(e!==n.interactable){var r=n.interactable.options.drag;if(!r.manualStart&&e.testIgnoreAllow(r,h,i)){var s=e.getAction(n.downPointer,n.downEvent,n,h);if(s&&"drag"===s.name&&function(e,t){if(!t)return!1;var n=t.options.drag.startAxis;return"xy"===e||"xy"===n||n===e}(u,e)&&Ve.default.validateAction(s,e,h,i,t))return e}}};s.default.element(h);){var f=t.interactables.forEachMatch(h,p);if(f){n.prepared.name="drag",n.interactable=f,n.element=h;break}h=(0,k.parentNode)(h)}}}}}};Qe.default=Je;var et={};function tt(e){var t=e.prepared&&e.prepared.name;if(!t)return null;var n=e.interactable.options;return n[t].hold||n[t].delay}Object.defineProperty(et,"__esModule",{value:!0}),et.default=void 0;var nt={id:"auto-start/hold",install:function(e){var t=e.defaults;e.usePlugin(Ve.default),t.perAction.hold=0,t.perAction.delay=0},listeners:{"interactions:new":function(e){e.interaction.autoStartHoldTimer=null},"autoStart:prepared":function(e){var t=e.interaction,n=tt(t);n>0&&(t.autoStartHoldTimer=setTimeout((function(){t.start(t.prepared,t.interactable,t.element)}),n))},"interactions:move":function(e){var t=e.interaction,n=e.duplicate;t.autoStartHoldTimer&&t.pointerWasMoved&&!n&&(clearTimeout(t.autoStartHoldTimer),t.autoStartHoldTimer=null)},"autoStart:before-start":function(e){var t=e.interaction;tt(t)>0&&(t.prepared.name=null)}},getHoldDuration:tt},it=nt;et.default=it;var rt={};Object.defineProperty(rt,"__esModule",{value:!0}),rt.default=void 0;var st={id:"auto-start",install:function(e){e.usePlugin(Ve.default),e.usePlugin(et.default),e.usePlugin(Qe.default)}};rt.default=st;var ot={};function at(e){return/^(always|never|auto)$/.test(e)?(this.options.preventDefault=e,this):s.default.bool(e)?(this.options.preventDefault=e?"always":"never",this):this.options.preventDefault}function lt(e){var t=e.interaction,n=e.event;t.interactable&&t.interactable.checkAndPreventDefault(n)}function ct(e){var n=e.Interactable;n.prototype.preventDefault=at,n.prototype.checkAndPreventDefault=function(n){return function(e,n,i){var r=e.options.preventDefault;if("never"!==r)if("always"!==r){if(n.events.supportsPassive&&/^touch(start|move)$/.test(i.type)){var o=(0,t.getWindow)(i.target).document,a=n.getDocOptions(o);if(!a||!a.events||!1!==a.events.passive)return}/^(mouse|pointer|touch)*(down|start)/i.test(i.type)||s.default.element(i.target)&&(0,k.matchesSelector)(i.target,"input,select,textarea,[contenteditable=true],[contenteditable=true] *")||i.preventDefault()}else i.preventDefault()}(this,e,n)},e.interactions.docEvents.push({type:"dragstart",listener:function(t){for(var n=0;n<e.interactions.list.length;n++){var i=e.interactions.list[n];if(i.element&&(i.element===t.target||(0,k.nodeContains)(i.element,t.target)))return void i.interactable.checkAndPreventDefault(t)}}})}Object.defineProperty(ot,"__esModule",{value:!0}),ot.default=void 0,ot.install=ct;var dt={id:"core/interactablePreventDefault",install:ct,listeners:["down","move","up","cancel"].reduce((function(e,t){return e["interactions:".concat(t)]=lt,e}),{})};ot.default=dt;var ut={};Object.defineProperty(ut,"__esModule",{value:!0}),ut.default=void 0,ut.default={};var ht,pt={};Object.defineProperty(pt,"__esModule",{value:!0}),pt.default=void 0,function(e){e.touchAction="touchAction",e.boxSizing="boxSizing",e.noListeners="noListeners"}(ht||(ht={})),ht.touchAction,ht.boxSizing,ht.noListeners;pt.default={id:"dev-tools",install:function(){}};var ft={};Object.defineProperty(ft,"__esModule",{value:!0}),ft.default=function e(t){var n={};for(var i in t){var r=t[i];s.default.plainObject(r)?n[i]=e(r):s.default.array(r)?n[i]=Z.from(r):n[i]=r}return n};var mt={};function gt(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var i,r,s=[],o=!0,a=!1;try{for(n=n.call(e);!(o=(i=n.next()).done)&&(s.push(i.value),!t||s.length!==t);o=!0);}catch(e){a=!0,r=e}finally{try{o||null==n.return||n.return()}finally{if(a)throw r}}return s}}(e,t)||function(e,t){if(e){if("string"==typeof e)return vt(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?vt(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function vt(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,i=Array(t);n<t;n++)i[n]=e[n];return i}function yt(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}Object.defineProperty(mt,"__esModule",{value:!0}),mt.default=void 0,mt.getRectOffset=xt;var bt=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),yt(this,"states",[]),yt(this,"startOffset",{left:0,right:0,top:0,bottom:0}),yt(this,"startDelta",void 0),yt(this,"result",void 0),yt(this,"endResult",void 0),yt(this,"edges",void 0),yt(this,"interaction",void 0),this.interaction=t,this.result=wt()}var t,n;return t=e,(n=[{key:"start",value:function(e,t){var n=e.phase,i=this.interaction,r=function(e){var t=e.interactable.options[e.prepared.name],n=t.modifiers;return n&&n.length?n:["snap","snapSize","snapEdges","restrict","restrictEdges","restrictSize"].map((function(e){var n=t[e];return n&&n.enabled&&{options:n,methods:n._methods}})).filter((function(e){return!!e}))}(i);this.prepareStates(r),this.edges=(0,I.default)({},i.edges),this.startOffset=xt(i.rect,t),this.startDelta={x:0,y:0};var s=this.fillArg({phase:n,pageCoords:t,preEnd:!1});return this.result=wt(),this.startAll(s),this.result=this.setAll(s)}},{key:"fillArg",value:function(e){var t=this.interaction;return e.interaction=t,e.interactable=t.interactable,e.element=t.element,e.rect=e.rect||t.rect,e.edges=this.edges,e.startOffset=this.startOffset,e}},{key:"startAll",value:function(e){for(var t=0;t<this.states.length;t++){var n=this.states[t];n.methods.start&&(e.state=n,n.methods.start(e))}}},{key:"setAll",value:function(e){var t=e.phase,n=e.preEnd,i=e.skipModifiers,r=e.rect;e.coords=(0,I.default)({},e.pageCoords),e.rect=(0,I.default)({},r);for(var s=i?this.states.slice(i):this.states,o=wt(e.coords,e.rect),a=0;a<s.length;a++){var l,c=s[a],d=c.options,u=(0,I.default)({},e.coords),h=null;null!=(l=c.methods)&&l.set&&this.shouldDo(d,n,t)&&(e.state=c,h=c.methods.set(e),O.addEdges(this.interaction.edges,e.rect,{x:e.coords.x-u.x,y:e.coords.y-u.y})),o.eventProps.push(h)}o.delta.x=e.coords.x-e.pageCoords.x,o.delta.y=e.coords.y-e.pageCoords.y,o.rectDelta.left=e.rect.left-r.left,o.rectDelta.right=e.rect.right-r.right,o.rectDelta.top=e.rect.top-r.top,o.rectDelta.bottom=e.rect.bottom-r.bottom;var p=this.result.coords,f=this.result.rect;if(p&&f){var m=o.rect.left!==f.left||o.rect.right!==f.right||o.rect.top!==f.top||o.rect.bottom!==f.bottom;o.changed=m||p.x!==o.coords.x||p.y!==o.coords.y}return o}},{key:"applyToInteraction",value:function(e){var t=this.interaction,n=e.phase,i=t.coords.cur,r=t.coords.start,s=this.result,o=this.startDelta,a=s.delta;"start"===n&&(0,I.default)(this.startDelta,s.delta);for(var l=0;l<[[r,o],[i,a]].length;l++){var c=gt([[r,o],[i,a]][l],2),d=c[0],u=c[1];d.page.x+=u.x,d.page.y+=u.y,d.client.x+=u.x,d.client.y+=u.y}var h=this.result.rectDelta,p=e.rect||t.rect;p.left+=h.left,p.right+=h.right,p.top+=h.top,p.bottom+=h.bottom,p.width=p.right-p.left,p.height=p.bottom-p.top}},{key:"setAndApply",value:function(e){var t=this.interaction,n=e.phase,i=e.preEnd,r=e.skipModifiers,s=this.setAll(this.fillArg({preEnd:i,phase:n,pageCoords:e.modifiedCoords||t.coords.cur.page}));if(this.result=s,!s.changed&&(!r||r<this.states.length)&&t.interacting())return!1;if(e.modifiedCoords){var o=t.coords.cur.page,a={x:e.modifiedCoords.x-o.x,y:e.modifiedCoords.y-o.y};s.coords.x+=a.x,s.coords.y+=a.y,s.delta.x+=a.x,s.delta.y+=a.y}this.applyToInteraction(e)}},{key:"beforeEnd",value:function(e){var t=e.interaction,n=e.event,i=this.states;if(i&&i.length){for(var r=!1,s=0;s<i.length;s++){var o=i[s];e.state=o;var a=o.options,l=o.methods,c=l.beforeEnd&&l.beforeEnd(e);if(c)return this.endResult=c,!1;r=r||!r&&this.shouldDo(a,!0,e.phase,!0)}r&&t.move({event:n,preEnd:!0})}}},{key:"stop",value:function(e){var t=e.interaction;if(this.states&&this.states.length){var n=(0,I.default)({states:this.states,interactable:t.interactable,element:t.element,rect:null},e);this.fillArg(n);for(var i=0;i<this.states.length;i++){var r=this.states[i];n.state=r,r.methods.stop&&r.methods.stop(n)}this.states=null,this.endResult=null}}},{key:"prepareStates",value:function(e){this.states=[];for(var t=0;t<e.length;t++){var n=e[t],i=n.options,r=n.methods,s=n.name;this.states.push({options:i,methods:r,index:t,name:s})}return this.states}},{key:"restoreInteractionCoords",value:function(e){var t=e.interaction,n=t.coords,i=t.rect,r=t.modification;if(r.result){for(var s=r.startDelta,o=r.result,a=o.delta,l=o.rectDelta,c=[[n.start,s],[n.cur,a]],d=0;d<c.length;d++){var u=gt(c[d],2),h=u[0],p=u[1];h.page.x-=p.x,h.page.y-=p.y,h.client.x-=p.x,h.client.y-=p.y}i.left-=l.left,i.right-=l.right,i.top-=l.top,i.bottom-=l.bottom}}},{key:"shouldDo",value:function(e,t,n,i){return!(!e||!1===e.enabled||i&&!e.endOnly||e.endOnly&&!t||"start"===n&&!e.setStart)}},{key:"copyFrom",value:function(e){this.startOffset=e.startOffset,this.startDelta=e.startDelta,this.edges=e.edges,this.states=e.states.map((function(e){return(0,ft.default)(e)})),this.result=wt((0,I.default)({},e.result.coords),(0,I.default)({},e.result.rect))}},{key:"destroy",value:function(){for(var e in this)this[e]=null}}])&&function(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}(t.prototype,n),Object.defineProperty(t,"prototype",{writable:!1}),e}();function wt(e,t){return{rect:t,coords:e,delta:{x:0,y:0},rectDelta:{left:0,right:0,top:0,bottom:0},eventProps:[],changed:!0}}function xt(e,t){return e?{left:t.x-e.left,top:t.y-e.top,right:e.right-t.x,bottom:e.bottom-t.y}:{left:0,top:0,right:0,bottom:0}}mt.default=bt;var kt={};function Et(e){var t=e.iEvent,n=e.interaction.modification.result;n&&(t.modifiers=n.eventProps)}Object.defineProperty(kt,"__esModule",{value:!0}),kt.addEventModifiers=Et,kt.default=void 0,kt.makeModifier=function(e,t){var n=e.defaults,i={start:e.start,set:e.set,beforeEnd:e.beforeEnd,stop:e.stop},r=function(e){var r=e||{};for(var s in r.enabled=!1!==r.enabled,n)s in r||(r[s]=n[s]);var o={options:r,methods:i,name:t,enable:function(){return r.enabled=!0,o},disable:function(){return r.enabled=!1,o}};return o};return t&&"string"==typeof t&&(r._defaults=n,r._methods=i),r};var St={id:"modifiers/base",before:["actions"],install:function(e){e.defaults.perAction.modifiers=[]},listeners:{"interactions:new":function(e){var t=e.interaction;t.modification=new mt.default(t)},"interactions:before-action-start":function(e){var t=e.interaction.modification;t.start(e,e.interaction.coords.start.page),e.interaction.edges=t.edges,t.applyToInteraction(e)},"interactions:before-action-move":function(e){return e.interaction.modification.setAndApply(e)},"interactions:before-action-end":function(e){return e.interaction.modification.beforeEnd(e)},"interactions:action-start":Et,"interactions:action-move":Et,"interactions:action-end":Et,"interactions:after-action-start":function(e){return e.interaction.modification.restoreInteractionCoords(e)},"interactions:after-action-move":function(e){return e.interaction.modification.restoreInteractionCoords(e)},"interactions:stop":function(e){return e.interaction.modification.stop(e)}}},_t=St;kt.default=_t;var Ct={};Object.defineProperty(Ct,"__esModule",{value:!0}),Ct.defaults=void 0,Ct.defaults={base:{preventDefault:"auto",deltaSource:"page"},perAction:{enabled:!1,origin:{x:0,y:0}},actions:{}};var Pt={};function Tt(e){return Tt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Tt(e)}function It(e,t){return It=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},It(e,t)}function Ot(e,t){if(t&&("object"===Tt(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return jt(e)}function jt(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Lt(e){return Lt=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},Lt(e)}function Mt(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}Object.defineProperty(Pt,"__esModule",{value:!0}),Pt.InteractEvent=void 0;var zt=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&It(e,t)}(o,e);var t,n,i,r,s=(i=o,r=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=Lt(i);if(r){var n=Lt(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return Ot(this,e)});function o(e,t,n,i,r,a,l){var c;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,o),Mt(jt(c=s.call(this,e)),"relatedTarget",null),Mt(jt(c),"screenX",void 0),Mt(jt(c),"screenY",void 0),Mt(jt(c),"button",void 0),Mt(jt(c),"buttons",void 0),Mt(jt(c),"ctrlKey",void 0),Mt(jt(c),"shiftKey",void 0),Mt(jt(c),"altKey",void 0),Mt(jt(c),"metaKey",void 0),Mt(jt(c),"page",void 0),Mt(jt(c),"client",void 0),Mt(jt(c),"delta",void 0),Mt(jt(c),"rect",void 0),Mt(jt(c),"x0",void 0),Mt(jt(c),"y0",void 0),Mt(jt(c),"t0",void 0),Mt(jt(c),"dt",void 0),Mt(jt(c),"duration",void 0),Mt(jt(c),"clientX0",void 0),Mt(jt(c),"clientY0",void 0),Mt(jt(c),"velocity",void 0),Mt(jt(c),"speed",void 0),Mt(jt(c),"swipe",void 0),Mt(jt(c),"axes",void 0),Mt(jt(c),"preEnd",void 0),r=r||e.element;var d=e.interactable,u=(d&&d.options||Ct.defaults).deltaSource,h=(0,M.default)(d,r,n),p="start"===i,f="end"===i,m=p?jt(c):e.prevEvent,g=p?e.coords.start:f?{page:m.page,client:m.client,timeStamp:e.coords.cur.timeStamp}:e.coords.cur;return c.page=(0,I.default)({},g.page),c.client=(0,I.default)({},g.client),c.rect=(0,I.default)({},e.rect),c.timeStamp=g.timeStamp,f||(c.page.x-=h.x,c.page.y-=h.y,c.client.x-=h.x,c.client.y-=h.y),c.ctrlKey=t.ctrlKey,c.altKey=t.altKey,c.shiftKey=t.shiftKey,c.metaKey=t.metaKey,c.button=t.button,c.buttons=t.buttons,c.target=r,c.currentTarget=r,c.preEnd=a,c.type=l||n+(i||""),c.interactable=d,c.t0=p?e.pointers[e.pointers.length-1].downTime:m.t0,c.x0=e.coords.start.page.x-h.x,c.y0=e.coords.start.page.y-h.y,c.clientX0=e.coords.start.client.x-h.x,c.clientY0=e.coords.start.client.y-h.y,c.delta=p||f?{x:0,y:0}:{x:c[u].x-m[u].x,y:c[u].y-m[u].y},c.dt=e.coords.delta.timeStamp,c.duration=c.timeStamp-c.t0,c.velocity=(0,I.default)({},e.coords.velocity[u]),c.speed=(0,R.default)(c.velocity.x,c.velocity.y),c.swipe=f||"inertiastart"===i?c.getSwipe():null,c}return t=o,(n=[{key:"getSwipe",value:function(){var e=this._interaction;if(e.prevEvent.speed<600||this.timeStamp-e.prevEvent.timeStamp>150)return null;var t=180*Math.atan2(e.prevEvent.velocityY,e.prevEvent.velocityX)/Math.PI;t<0&&(t+=360);var n=112.5<=t&&t<247.5,i=202.5<=t&&t<337.5;return{up:i,down:!i&&22.5<=t&&t<157.5,left:n,right:!n&&(292.5<=t||t<67.5),angle:t,speed:e.prevEvent.speed,velocity:{x:e.prevEvent.velocityX,y:e.prevEvent.velocityY}}}},{key:"preventDefault",value:function(){}},{key:"stopImmediatePropagation",value:function(){this.immediatePropagationStopped=this.propagationStopped=!0}},{key:"stopPropagation",value:function(){this.propagationStopped=!0}}])&&function(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}(t.prototype,n),Object.defineProperty(t,"prototype",{writable:!1}),o}(U.BaseEvent);Pt.InteractEvent=zt,Object.defineProperties(zt.prototype,{pageX:{get:function(){return this.page.x},set:function(e){this.page.x=e}},pageY:{get:function(){return this.page.y},set:function(e){this.page.y=e}},clientX:{get:function(){return this.client.x},set:function(e){this.client.x=e}},clientY:{get:function(){return this.client.y},set:function(e){this.client.y=e}},dx:{get:function(){return this.delta.x},set:function(e){this.delta.x=e}},dy:{get:function(){return this.delta.y},set:function(e){this.delta.y=e}},velocityX:{get:function(){return this.velocity.x},set:function(e){this.velocity.x=e}},velocityY:{get:function(){return this.velocity.y},set:function(e){this.velocity.y=e}}});var Dt={};function Rt(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}function At(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}Object.defineProperty(Dt,"__esModule",{value:!0}),Dt.PointerInfo=void 0;var Bt=function(e,t,n){return t&&Rt(e.prototype,t),n&&Rt(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}((function e(t,n,i,r,s){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),At(this,"id",void 0),At(this,"pointer",void 0),At(this,"event",void 0),At(this,"downTime",void 0),At(this,"downTarget",void 0),this.id=t,this.pointer=n,this.event=i,this.downTime=r,this.downTarget=s}));Dt.PointerInfo=Bt;var Ht,$t,Vt={};function Wt(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}Object.defineProperty(Vt,"__esModule",{value:!0}),Vt.Interaction=void 0,Object.defineProperty(Vt,"PointerInfo",{enumerable:!0,get:function(){return Dt.PointerInfo}}),Vt.default=Vt._ProxyValues=Vt._ProxyMethods=void 0,Vt._ProxyValues=Ht,function(e){e.interactable="",e.element="",e.prepared="",e.pointerIsDown="",e.pointerWasMoved="",e._proxy=""}(Ht||(Vt._ProxyValues=Ht={})),Vt._ProxyMethods=$t,function(e){e.start="",e.move="",e.end="",e.stop="",e.interacting=""}($t||(Vt._ProxyMethods=$t={}));var Nt=0,Ft=function(){function e(t){var n=this,i=t.pointerType,r=t.scopeFire;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),Wt(this,"interactable",null),Wt(this,"element",null),Wt(this,"rect",null),Wt(this,"_rects",void 0),Wt(this,"edges",null),Wt(this,"_scopeFire",void 0),Wt(this,"prepared",{name:null,axis:null,edges:null}),Wt(this,"pointerType",void 0),Wt(this,"pointers",[]),Wt(this,"downEvent",null),Wt(this,"downPointer",{}),Wt(this,"_latestPointer",{pointer:null,event:null,eventTarget:null}),Wt(this,"prevEvent",null),Wt(this,"pointerIsDown",!1),Wt(this,"pointerWasMoved",!1),Wt(this,"_interacting",!1),Wt(this,"_ending",!1),Wt(this,"_stopped",!0),Wt(this,"_proxy",null),Wt(this,"simulation",null),Wt(this,"doMove",(0,Re.warnOnce)((function(e){this.move(e)}),"The interaction.doMove() method has been renamed to interaction.move()")),Wt(this,"coords",{start:B.newCoords(),prev:B.newCoords(),cur:B.newCoords(),delta:B.newCoords(),velocity:B.newCoords()}),Wt(this,"_id",Nt++),this._scopeFire=r,this.pointerType=i;var s=this;this._proxy={};var o=function(e){Object.defineProperty(n._proxy,e,{get:function(){return s[e]}})};for(var a in Ht)o(a);var l=function(e){Object.defineProperty(n._proxy,e,{value:function(){return s[e].apply(s,arguments)}})};for(var c in $t)l(c);this._scopeFire("interactions:new",{interaction:this})}var t,n;return t=e,n=[{key:"pointerMoveTolerance",get:function(){return 1}},{key:"pointerDown",value:function(e,t,n){var i=this.updatePointer(e,t,n,!0),r=this.pointers[i];this._scopeFire("interactions:down",{pointer:e,event:t,eventTarget:n,pointerIndex:i,pointerInfo:r,type:"down",interaction:this})}},{key:"start",value:function(e,t,n){return!(this.interacting()||!this.pointerIsDown||this.pointers.length<("gesture"===e.name?2:1)||!t.options[e.name].enabled)&&((0,Re.copyAction)(this.prepared,e),this.interactable=t,this.element=n,this.rect=t.getRect(n),this.edges=this.prepared.edges?(0,I.default)({},this.prepared.edges):{left:!0,right:!0,top:!0,bottom:!0},this._stopped=!1,this._interacting=this._doPhase({interaction:this,event:this.downEvent,phase:"start"})&&!this._stopped,this._interacting)}},{key:"pointerMove",value:function(e,t,n){this.simulation||this.modification&&this.modification.endResult||this.updatePointer(e,t,n,!1);var i,r,s=this.coords.cur.page.x===this.coords.prev.page.x&&this.coords.cur.page.y===this.coords.prev.page.y&&this.coords.cur.client.x===this.coords.prev.client.x&&this.coords.cur.client.y===this.coords.prev.client.y;this.pointerIsDown&&!this.pointerWasMoved&&(i=this.coords.cur.client.x-this.coords.start.client.x,r=this.coords.cur.client.y-this.coords.start.client.y,this.pointerWasMoved=(0,R.default)(i,r)>this.pointerMoveTolerance);var o=this.getPointerIndex(e),a={pointer:e,pointerIndex:o,pointerInfo:this.pointers[o],event:t,type:"move",eventTarget:n,dx:i,dy:r,duplicate:s,interaction:this};s||B.setCoordVelocity(this.coords.velocity,this.coords.delta),this._scopeFire("interactions:move",a),s||this.simulation||(this.interacting()&&(a.type=null,this.move(a)),this.pointerWasMoved&&B.copyCoords(this.coords.prev,this.coords.cur))}},{key:"move",value:function(e){e&&e.event||B.setZeroCoords(this.coords.delta),(e=(0,I.default)({pointer:this._latestPointer.pointer,event:this._latestPointer.event,eventTarget:this._latestPointer.eventTarget,interaction:this},e||{})).phase="move",this._doPhase(e)}},{key:"pointerUp",value:function(e,t,n,i){var r=this.getPointerIndex(e);-1===r&&(r=this.updatePointer(e,t,n,!1));var s=/cancel$/i.test(t.type)?"cancel":"up";this._scopeFire("interactions:".concat(s),{pointer:e,pointerIndex:r,pointerInfo:this.pointers[r],event:t,eventTarget:n,type:s,curEventTarget:i,interaction:this}),this.simulation||this.end(t),this.removePointer(e,t)}},{key:"documentBlur",value:function(e){this.end(e),this._scopeFire("interactions:blur",{event:e,type:"blur",interaction:this})}},{key:"end",value:function(e){var t;this._ending=!0,e=e||this._latestPointer.event,this.interacting()&&(t=this._doPhase({event:e,interaction:this,phase:"end"})),this._ending=!1,!0===t&&this.stop()}},{key:"currentAction",value:function(){return this._interacting?this.prepared.name:null}},{key:"interacting",value:function(){return this._interacting}},{key:"stop",value:function(){this._scopeFire("interactions:stop",{interaction:this}),this.interactable=this.element=null,this._interacting=!1,this._stopped=!0,this.prepared.name=this.prevEvent=null}},{key:"getPointerIndex",value:function(e){var t=B.getPointerId(e);return"mouse"===this.pointerType||"pen"===this.pointerType?this.pointers.length-1:Z.findIndex(this.pointers,(function(e){return e.id===t}))}},{key:"getPointerInfo",value:function(e){return this.pointers[this.getPointerIndex(e)]}},{key:"updatePointer",value:function(e,t,n,i){var r=B.getPointerId(e),s=this.getPointerIndex(e),o=this.pointers[s];return i=!1!==i&&(i||/(down|start)$/i.test(t.type)),o?o.pointer=e:(o=new Dt.PointerInfo(r,e,t,null,null),s=this.pointers.length,this.pointers.push(o)),B.setCoords(this.coords.cur,this.pointers.map((function(e){return e.pointer})),this._now()),B.setCoordDeltas(this.coords.delta,this.coords.prev,this.coords.cur),i&&(this.pointerIsDown=!0,o.downTime=this.coords.cur.timeStamp,o.downTarget=n,B.pointerExtend(this.downPointer,e),this.interacting()||(B.copyCoords(this.coords.start,this.coords.cur),B.copyCoords(this.coords.prev,this.coords.cur),this.downEvent=t,this.pointerWasMoved=!1)),this._updateLatestPointer(e,t,n),this._scopeFire("interactions:update-pointer",{pointer:e,event:t,eventTarget:n,down:i,pointerInfo:o,pointerIndex:s,interaction:this}),s}},{key:"removePointer",value:function(e,t){var n=this.getPointerIndex(e);if(-1!==n){var i=this.pointers[n];this._scopeFire("interactions:remove-pointer",{pointer:e,event:t,eventTarget:null,pointerIndex:n,pointerInfo:i,interaction:this}),this.pointers.splice(n,1),this.pointerIsDown=!1}}},{key:"_updateLatestPointer",value:function(e,t,n){this._latestPointer.pointer=e,this._latestPointer.event=t,this._latestPointer.eventTarget=n}},{key:"destroy",value:function(){this._latestPointer.pointer=null,this._latestPointer.event=null,this._latestPointer.eventTarget=null}},{key:"_createPreparedEvent",value:function(e,t,n,i){return new Pt.InteractEvent(this,e,this.prepared.name,t,this.element,n,i)}},{key:"_fireEvent",value:function(e){var t;null==(t=this.interactable)||t.fire(e),(!this.prevEvent||e.timeStamp>=this.prevEvent.timeStamp)&&(this.prevEvent=e)}},{key:"_doPhase",value:function(e){var t=e.event,n=e.phase,i=e.preEnd,r=e.type,s=this.rect;if(s&&"move"===n&&(O.addEdges(this.edges,s,this.coords.delta[this.interactable.options.deltaSource]),s.width=s.right-s.left,s.height=s.bottom-s.top),!1===this._scopeFire("interactions:before-action-".concat(n),e))return!1;var o=e.iEvent=this._createPreparedEvent(t,n,i,r);return this._scopeFire("interactions:action-".concat(n),e),"start"===n&&(this.prevEvent=o),this._fireEvent(o),this._scopeFire("interactions:after-action-".concat(n),e),!0}},{key:"_now",value:function(){return Date.now()}}],n&&function(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}(t.prototype,n),Object.defineProperty(t,"prototype",{writable:!1}),e}();Vt.Interaction=Ft;var Ut=Ft;Vt.default=Ut;var Yt={};function qt(e){e.pointerIsDown&&(Gt(e.coords.cur,e.offset.total),e.offset.pending.x=0,e.offset.pending.y=0)}function Zt(e){Xt(e.interaction)}function Xt(e){if(!function(e){return!(!e.offset.pending.x&&!e.offset.pending.y)}(e))return!1;var t=e.offset.pending;return Gt(e.coords.cur,t),Gt(e.coords.delta,t),O.addEdges(e.edges,e.rect,t),t.x=0,t.y=0,!0}function Kt(e){var t=e.x,n=e.y;this.offset.pending.x+=t,this.offset.pending.y+=n,this.offset.total.x+=t,this.offset.total.y+=n}function Gt(e,t){var n=e.page,i=e.client,r=t.x,s=t.y;n.x+=r,n.y+=s,i.x+=r,i.y+=s}Object.defineProperty(Yt,"__esModule",{value:!0}),Yt.addTotal=qt,Yt.applyPending=Xt,Yt.default=void 0,Vt._ProxyMethods.offsetBy="";var Qt={id:"offset",before:["modifiers","pointer-events","actions","inertia"],install:function(e){e.Interaction.prototype.offsetBy=Kt},listeners:{"interactions:new":function(e){e.interaction.offset={total:{x:0,y:0},pending:{x:0,y:0}}},"interactions:update-pointer":function(e){return qt(e.interaction)},"interactions:before-action-start":Zt,"interactions:before-action-move":Zt,"interactions:before-action-end":function(e){var t=e.interaction;if(Xt(t))return t.move({offset:!0}),t.end(),!1},"interactions:stop":function(e){var t=e.interaction;t.offset.total.x=0,t.offset.total.y=0,t.offset.pending.x=0,t.offset.pending.y=0}}},Jt=Qt;Yt.default=Jt;var en={};function tn(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}Object.defineProperty(en,"__esModule",{value:!0}),en.default=en.InertiaState=void 0;var nn=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),tn(this,"active",!1),tn(this,"isModified",!1),tn(this,"smoothEnd",!1),tn(this,"allowResume",!1),tn(this,"modification",void 0),tn(this,"modifierCount",0),tn(this,"modifierArg",void 0),tn(this,"startCoords",void 0),tn(this,"t0",0),tn(this,"v0",0),tn(this,"te",0),tn(this,"targetOffset",void 0),tn(this,"modifiedOffset",void 0),tn(this,"currentOffset",void 0),tn(this,"lambda_v0",0),tn(this,"one_ve_v0",0),tn(this,"timeout",void 0),tn(this,"interaction",void 0),this.interaction=t}var t,n;return t=e,(n=[{key:"start",value:function(e){var t=this.interaction,n=rn(t);if(!n||!n.enabled)return!1;var i=t.coords.velocity.client,r=(0,R.default)(i.x,i.y),s=this.modification||(this.modification=new mt.default(t));if(s.copyFrom(t.modification),this.t0=t._now(),this.allowResume=n.allowResume,this.v0=r,this.currentOffset={x:0,y:0},this.startCoords=t.coords.cur.page,this.modifierArg=s.fillArg({pageCoords:this.startCoords,preEnd:!0,phase:"inertiastart"}),this.t0-t.coords.cur.timeStamp<50&&r>n.minSpeed&&r>n.endSpeed)this.startInertia();else{if(s.result=s.setAll(this.modifierArg),!s.result.changed)return!1;this.startSmoothEnd()}return t.modification.result.rect=null,t.offsetBy(this.targetOffset),t._doPhase({interaction:t,event:e,phase:"inertiastart"}),t.offsetBy({x:-this.targetOffset.x,y:-this.targetOffset.y}),t.modification.result.rect=null,this.active=!0,t.simulation=this,!0}},{key:"startInertia",value:function(){var e=this,t=this.interaction.coords.velocity.client,n=rn(this.interaction),i=n.resistance,r=-Math.log(n.endSpeed/this.v0)/i;this.targetOffset={x:(t.x-r)/i,y:(t.y-r)/i},this.te=r,this.lambda_v0=i/this.v0,this.one_ve_v0=1-n.endSpeed/this.v0;var s=this.modification,o=this.modifierArg;o.pageCoords={x:this.startCoords.x+this.targetOffset.x,y:this.startCoords.y+this.targetOffset.y},s.result=s.setAll(o),s.result.changed&&(this.isModified=!0,this.modifiedOffset={x:this.targetOffset.x+s.result.delta.x,y:this.targetOffset.y+s.result.delta.y}),this.onNextFrame((function(){return e.inertiaTick()}))}},{key:"startSmoothEnd",value:function(){var e=this;this.smoothEnd=!0,this.isModified=!0,this.targetOffset={x:this.modification.result.delta.x,y:this.modification.result.delta.y},this.onNextFrame((function(){return e.smoothEndTick()}))}},{key:"onNextFrame",value:function(e){var t=this;this.timeout=_e.default.request((function(){t.active&&e()}))}},{key:"inertiaTick",value:function(){var e,t,n,i,r,s=this,o=this.interaction,a=rn(o).resistance,l=(o._now()-this.t0)/1e3;if(l<this.te){var c,d=1-(Math.exp(-a*l)-this.lambda_v0)/this.one_ve_v0;this.isModified?(e=this.targetOffset.x,t=this.targetOffset.y,n=this.modifiedOffset.x,i=this.modifiedOffset.y,c={x:on(r=d,0,e,n),y:on(r,0,t,i)}):c={x:this.targetOffset.x*d,y:this.targetOffset.y*d};var u={x:c.x-this.currentOffset.x,y:c.y-this.currentOffset.y};this.currentOffset.x+=u.x,this.currentOffset.y+=u.y,o.offsetBy(u),o.move(),this.onNextFrame((function(){return s.inertiaTick()}))}else o.offsetBy({x:this.modifiedOffset.x-this.currentOffset.x,y:this.modifiedOffset.y-this.currentOffset.y}),this.end()}},{key:"smoothEndTick",value:function(){var e=this,t=this.interaction,n=t._now()-this.t0,i=rn(t).smoothEndDuration;if(n<i){var r={x:an(n,0,this.targetOffset.x,i),y:an(n,0,this.targetOffset.y,i)},s={x:r.x-this.currentOffset.x,y:r.y-this.currentOffset.y};this.currentOffset.x+=s.x,this.currentOffset.y+=s.y,t.offsetBy(s),t.move({skipModifiers:this.modifierCount}),this.onNextFrame((function(){return e.smoothEndTick()}))}else t.offsetBy({x:this.targetOffset.x-this.currentOffset.x,y:this.targetOffset.y-this.currentOffset.y}),this.end()}},{key:"resume",value:function(e){var t=e.pointer,n=e.event,i=e.eventTarget,r=this.interaction;r.offsetBy({x:-this.currentOffset.x,y:-this.currentOffset.y}),r.updatePointer(t,n,i,!0),r._doPhase({interaction:r,event:n,phase:"resume"}),(0,B.copyCoords)(r.coords.prev,r.coords.cur),this.stop()}},{key:"end",value:function(){this.interaction.move(),this.interaction.end(),this.stop()}},{key:"stop",value:function(){this.active=this.smoothEnd=!1,this.interaction.simulation=null,_e.default.cancel(this.timeout)}}])&&function(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}(t.prototype,n),Object.defineProperty(t,"prototype",{writable:!1}),e}();function rn(e){var t=e.interactable,n=e.prepared;return t&&t.options&&n.name&&t.options[n.name].inertia}en.InertiaState=nn;var sn={id:"inertia",before:["modifiers","actions"],install:function(e){var t=e.defaults;e.usePlugin(Yt.default),e.usePlugin(kt.default),e.actions.phases.inertiastart=!0,e.actions.phases.resume=!0,t.perAction.inertia={enabled:!1,resistance:10,minSpeed:100,endSpeed:10,allowResume:!0,smoothEndDuration:300}},listeners:{"interactions:new":function(e){var t=e.interaction;t.inertia=new nn(t)},"interactions:before-action-end":function(e){var t=e.interaction,n=e.event;return(!t._interacting||t.simulation||!t.inertia.start(n))&&null},"interactions:down":function(e){var t=e.interaction,n=e.eventTarget,i=t.inertia;if(i.active)for(var r=n;s.default.element(r);){if(r===t.element){i.resume(e);break}r=k.parentNode(r)}},"interactions:stop":function(e){var t=e.interaction.inertia;t.active&&t.stop()},"interactions:before-action-resume":function(e){var t=e.interaction.modification;t.stop(e),t.start(e,e.interaction.coords.cur.page),t.applyToInteraction(e)},"interactions:before-action-inertiastart":function(e){return e.interaction.modification.setAndApply(e)},"interactions:action-resume":kt.addEventModifiers,"interactions:action-inertiastart":kt.addEventModifiers,"interactions:after-action-inertiastart":function(e){return e.interaction.modification.restoreInteractionCoords(e)},"interactions:after-action-resume":function(e){return e.interaction.modification.restoreInteractionCoords(e)}}};function on(e,t,n,i){var r=1-e;return r*r*t+2*r*e*n+e*e*i}function an(e,t,n,i){return-n*(e/=i)*(e-2)+t}var ln=sn;en.default=ln;var cn={};function dn(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function un(e,t){for(var n=0;n<t.length;n++){var i=t[n];if(e.immediatePropagationStopped)break;i(e)}}Object.defineProperty(cn,"__esModule",{value:!0}),cn.Eventable=void 0;var hn=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),dn(this,"options",void 0),dn(this,"types",{}),dn(this,"propagationStopped",!1),dn(this,"immediatePropagationStopped",!1),dn(this,"global",void 0),this.options=(0,I.default)({},t||{})}var t,n;return t=e,(n=[{key:"fire",value:function(e){var t,n=this.global;(t=this.types[e.type])&&un(e,t),!e.propagationStopped&&n&&(t=n[e.type])&&un(e,t)}},{key:"on",value:function(e,t){var n=(0,z.default)(e,t);for(e in n)this.types[e]=Z.merge(this.types[e]||[],n[e])}},{key:"off",value:function(e,t){var n=(0,z.default)(e,t);for(e in n){var i=this.types[e];if(i&&i.length)for(var r=0;r<n[e].length;r++){var s=n[e][r],o=i.indexOf(s);-1!==o&&i.splice(o,1)}}}},{key:"getRect",value:function(e){return null}}])&&function(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}(t.prototype,n),Object.defineProperty(t,"prototype",{writable:!1}),e}();cn.Eventable=hn;var pn={};Object.defineProperty(pn,"__esModule",{value:!0}),pn.default=function(e,t){if(t.phaselessTypes[e])return!0;for(var n in t.map)if(0===e.indexOf(n)&&e.substr(n.length)in t.phases)return!0;return!1};var fn={};Object.defineProperty(fn,"__esModule",{value:!0}),fn.createInteractStatic=function(e){var t=function t(n,i){var r=e.interactables.get(n,i);return r||((r=e.interactables.new(n,i)).events.global=t.globalEvents),r};return t.getPointerAverage=B.pointerAverage,t.getTouchBBox=B.touchBBox,t.getTouchDistance=B.touchDistance,t.getTouchAngle=B.touchAngle,t.getElementRect=k.getElementRect,t.getElementClientRect=k.getElementClientRect,t.matchesSelector=k.matchesSelector,t.closest=k.closest,t.globalEvents={},t.version="1.10.17",t.scope=e,t.use=function(e,t){return this.scope.usePlugin(e,t),this},t.isSet=function(e,t){return!!this.scope.interactables.get(e,t&&t.context)},t.on=(0,Re.warnOnce)((function(e,t,n){if(s.default.string(e)&&-1!==e.search(" ")&&(e=e.trim().split(/ +/)),s.default.array(e)){for(var i=0;i<e.length;i++){var r=e[i];this.on(r,t,n)}return this}if(s.default.object(e)){for(var o in e)this.on(o,e[o],t);return this}return(0,pn.default)(e,this.scope.actions)?this.globalEvents[e]?this.globalEvents[e].push(t):this.globalEvents[e]=[t]:this.scope.events.add(this.scope.document,e,t,{options:n}),this}),"The interact.on() method is being deprecated"),t.off=(0,Re.warnOnce)((function(e,t,n){if(s.default.string(e)&&-1!==e.search(" ")&&(e=e.trim().split(/ +/)),s.default.array(e)){for(var i=0;i<e.length;i++){var r=e[i];this.off(r,t,n)}return this}if(s.default.object(e)){for(var o in e)this.off(o,e[o],t);return this}var a;return(0,pn.default)(e,this.scope.actions)?e in this.globalEvents&&-1!==(a=this.globalEvents[e].indexOf(t))&&this.globalEvents[e].splice(a,1):this.scope.events.remove(this.scope.document,e,t,n),this}),"The interact.off() method is being deprecated"),t.debug=function(){return this.scope},t.supportsTouch=function(){return b.default.supportsTouch},t.supportsPointerEvent=function(){return b.default.supportsPointerEvent},t.stop=function(){for(var e=0;e<this.scope.interactions.list.length;e++)this.scope.interactions.list[e].stop();return this},t.pointerMoveTolerance=function(e){return s.default.number(e)?(this.scope.interactions.pointerMoveTolerance=e,this):this.scope.interactions.pointerMoveTolerance},t.addDocument=function(e,t){this.scope.addDocument(e,t)},t.removeDocument=function(e){this.scope.removeDocument(e)},t};var mn={};function gn(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}Object.defineProperty(mn,"__esModule",{value:!0}),mn.Interactable=void 0;var vn=function(){function e(n,i,r,s){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),gn(this,"options",void 0),gn(this,"_actions",void 0),gn(this,"target",void 0),gn(this,"events",new cn.Eventable),gn(this,"_context",void 0),gn(this,"_win",void 0),gn(this,"_doc",void 0),gn(this,"_scopeEvents",void 0),gn(this,"_rectChecker",void 0),this._actions=i.actions,this.target=n,this._context=i.context||r,this._win=(0,t.getWindow)((0,k.trySelector)(n)?this._context:n),this._doc=this._win.document,this._scopeEvents=s,this.set(i)}var n,i;return n=e,(i=[{key:"_defaults",get:function(){return{base:{},perAction:{},actions:{}}}},{key:"setOnEvents",value:function(e,t){return s.default.func(t.onstart)&&this.on("".concat(e,"start"),t.onstart),s.default.func(t.onmove)&&this.on("".concat(e,"move"),t.onmove),s.default.func(t.onend)&&this.on("".concat(e,"end"),t.onend),s.default.func(t.oninertiastart)&&this.on("".concat(e,"inertiastart"),t.oninertiastart),this}},{key:"updatePerActionListeners",value:function(e,t,n){(s.default.array(t)||s.default.object(t))&&this.off(e,t),(s.default.array(n)||s.default.object(n))&&this.on(e,n)}},{key:"setPerAction",value:function(e,t){var n=this._defaults;for(var i in t){var r=i,o=this.options[e],a=t[r];"listeners"===r&&this.updatePerActionListeners(e,o.listeners,a),s.default.array(a)?o[r]=Z.from(a):s.default.plainObject(a)?(o[r]=(0,I.default)(o[r]||{},(0,ft.default)(a)),s.default.object(n.perAction[r])&&"enabled"in n.perAction[r]&&(o[r].enabled=!1!==a.enabled)):s.default.bool(a)&&s.default.object(n.perAction[r])?o[r].enabled=a:o[r]=a}}},{key:"getRect",value:function(e){return e=e||(s.default.element(this.target)?this.target:null),s.default.string(this.target)&&(e=e||this._context.querySelector(this.target)),(0,k.getElementRect)(e)}},{key:"rectChecker",value:function(e){var t=this;return s.default.func(e)?(this._rectChecker=e,this.getRect=function(e){var n=(0,I.default)({},t._rectChecker(e));return"width"in n||(n.width=n.right-n.left,n.height=n.bottom-n.top),n},this):null===e?(delete this.getRect,delete this._rectChecker,this):this.getRect}},{key:"_backCompatOption",value:function(e,t){if((0,k.trySelector)(t)||s.default.object(t)){for(var n in this.options[e]=t,this._actions.map)this.options[n][e]=t;return this}return this.options[e]}},{key:"origin",value:function(e){return this._backCompatOption("origin",e)}},{key:"deltaSource",value:function(e){return"page"===e||"client"===e?(this.options.deltaSource=e,this):this.options.deltaSource}},{key:"context",value:function(){return this._context}},{key:"inContext",value:function(e){return this._context===e.ownerDocument||(0,k.nodeContains)(this._context,e)}},{key:"testIgnoreAllow",value:function(e,t,n){return!this.testIgnore(e.ignoreFrom,t,n)&&this.testAllow(e.allowFrom,t,n)}},{key:"testAllow",value:function(e,t,n){return!e||!!s.default.element(n)&&(s.default.string(e)?(0,k.matchesUpTo)(n,e,t):!!s.default.element(e)&&(0,k.nodeContains)(e,n))}},{key:"testIgnore",value:function(e,t,n){return!(!e||!s.default.element(n))&&(s.default.string(e)?(0,k.matchesUpTo)(n,e,t):!!s.default.element(e)&&(0,k.nodeContains)(e,n))}},{key:"fire",value:function(e){return this.events.fire(e),this}},{key:"_onOff",value:function(e,t,n,i){s.default.object(t)&&!s.default.array(t)&&(i=n,n=null);var r="on"===e?"add":"remove",o=(0,z.default)(t,n);for(var a in o){"wheel"===a&&(a=b.default.wheelEvent);for(var l=0;l<o[a].length;l++){var c=o[a][l];(0,pn.default)(a,this._actions)?this.events[e](a,c):s.default.string(this.target)?this._scopeEvents["".concat(r,"Delegate")](this.target,this._context,a,c,i):this._scopeEvents[r](this.target,a,c,i)}}return this}},{key:"on",value:function(e,t,n){return this._onOff("on",e,t,n)}},{key:"off",value:function(e,t,n){return this._onOff("off",e,t,n)}},{key:"set",value:function(e){var t=this._defaults;for(var n in s.default.object(e)||(e={}),this.options=(0,ft.default)(t.base),this._actions.methodDict){var i=n,r=this._actions.methodDict[i];this.options[i]={},this.setPerAction(i,(0,I.default)((0,I.default)({},t.perAction),t.actions[i])),this[r](e[i])}for(var o in e)s.default.func(this[o])&&this[o](e[o]);return this}},{key:"unset",value:function(){if(s.default.string(this.target))for(var e in this._scopeEvents.delegatedEvents)for(var t=this._scopeEvents.delegatedEvents[e],n=t.length-1;n>=0;n--){var i=t[n],r=i.selector,o=i.context,a=i.listeners;r===this.target&&o===this._context&&t.splice(n,1);for(var l=a.length-1;l>=0;l--)this._scopeEvents.removeDelegate(this.target,this._context,e,a[l][0],a[l][1])}else this._scopeEvents.remove(this.target,"all")}}])&&function(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}(n.prototype,i),Object.defineProperty(n,"prototype",{writable:!1}),e}();mn.Interactable=vn;var yn={};function bn(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}Object.defineProperty(yn,"__esModule",{value:!0}),yn.InteractableSet=void 0;var wn=function(){function e(t){var n=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),bn(this,"list",[]),bn(this,"selectorMap",{}),bn(this,"scope",void 0),this.scope=t,t.addListeners({"interactable:unset":function(e){var t=e.interactable,i=t.target,r=t._context,o=s.default.string(i)?n.selectorMap[i]:i[n.scope.id],a=Z.findIndex(o,(function(e){return e.context===r}));o[a]&&(o[a].context=null,o[a].interactable=null),o.splice(a,1)}})}var t,n;return t=e,(n=[{key:"new",value:function(e,t){t=(0,I.default)(t||{},{actions:this.scope.actions});var n=new this.scope.Interactable(e,t,this.scope.document,this.scope.events),i={context:n._context,interactable:n};return this.scope.addDocument(n._doc),this.list.push(n),s.default.string(e)?(this.selectorMap[e]||(this.selectorMap[e]=[]),this.selectorMap[e].push(i)):(n.target[this.scope.id]||Object.defineProperty(e,this.scope.id,{value:[],configurable:!0}),e[this.scope.id].push(i)),this.scope.fire("interactable:new",{target:e,options:t,interactable:n,win:this.scope._win}),n}},{key:"get",value:function(e,t){var n=t&&t.context||this.scope.document,i=s.default.string(e),r=i?this.selectorMap[e]:e[this.scope.id];if(!r)return null;var o=Z.find(r,(function(t){return t.context===n&&(i||t.interactable.inContext(e))}));return o&&o.interactable}},{key:"forEachMatch",value:function(e,t){for(var n=0;n<this.list.length;n++){var i=this.list[n],r=void 0;if((s.default.string(i.target)?s.default.element(e)&&k.matchesSelector(e,i.target):e===i.target)&&i.inContext(e)&&(r=t(i)),void 0!==r)return r}}}])&&function(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}(t.prototype,n),Object.defineProperty(t,"prototype",{writable:!1}),e}();yn.InteractableSet=wn;var xn={};function kn(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function En(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var i,r,s=[],o=!0,a=!1;try{for(n=n.call(e);!(o=(i=n.next()).done)&&(s.push(i.value),!t||s.length!==t);o=!0);}catch(e){a=!0,r=e}finally{try{o||null==n.return||n.return()}finally{if(a)throw r}}return s}}(e,t)||function(e,t){if(e){if("string"==typeof e)return Sn(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Sn(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Sn(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,i=Array(t);n<t;n++)i[n]=e[n];return i}Object.defineProperty(xn,"__esModule",{value:!0}),xn.default=void 0;var _n=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),kn(this,"currentTarget",void 0),kn(this,"originalEvent",void 0),kn(this,"type",void 0),this.originalEvent=t,(0,A.default)(this,t)}var t,n;return t=e,(n=[{key:"preventOriginalDefault",value:function(){this.originalEvent.preventDefault()}},{key:"stopPropagation",value:function(){this.originalEvent.stopPropagation()}},{key:"stopImmediatePropagation",value:function(){this.originalEvent.stopImmediatePropagation()}}])&&function(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}(t.prototype,n),Object.defineProperty(t,"prototype",{writable:!1}),e}();function Cn(e){if(!s.default.object(e))return{capture:!!e,passive:!1};var t=(0,I.default)({},e);return t.capture=!!e.capture,t.passive=!!e.passive,t}var Pn={id:"events",install:function(e){var t,n=[],i={},r=[],o={add:a,remove:l,addDelegate:function(e,t,n,s,o){var l=Cn(o);if(!i[n]){i[n]=[];for(var u=0;u<r.length;u++){var h=r[u];a(h,n,c),a(h,n,d,!0)}}var p=i[n],f=Z.find(p,(function(n){return n.selector===e&&n.context===t}));f||(f={selector:e,context:t,listeners:[]},p.push(f)),f.listeners.push([s,l])},removeDelegate:function(e,t,n,r,s){var o,a=Cn(s),u=i[n],h=!1;if(u)for(o=u.length-1;o>=0;o--){var p=u[o];if(p.selector===e&&p.context===t){for(var f=p.listeners,m=f.length-1;m>=0;m--){var g=En(f[m],2),v=g[0],y=g[1],b=y.capture,w=y.passive;if(v===r&&b===a.capture&&w===a.passive){f.splice(m,1),f.length||(u.splice(o,1),l(t,n,c),l(t,n,d,!0)),h=!0;break}}if(h)break}}},delegateListener:c,delegateUseCapture:d,delegatedEvents:i,documents:r,targets:n,supportsOptions:!1,supportsPassive:!1};function a(e,t,i,r){var s=Cn(r),a=Z.find(n,(function(t){return t.eventTarget===e}));a||(a={eventTarget:e,events:{}},n.push(a)),a.events[t]||(a.events[t]=[]),e.addEventListener&&!Z.contains(a.events[t],i)&&(e.addEventListener(t,i,o.supportsOptions?s:s.capture),a.events[t].push(i))}function l(e,t,i,r){var s=Cn(r),a=Z.findIndex(n,(function(t){return t.eventTarget===e})),c=n[a];if(c&&c.events)if("all"!==t){var d=!1,u=c.events[t];if(u){if("all"===i){for(var h=u.length-1;h>=0;h--)l(e,t,u[h],s);return}for(var p=0;p<u.length;p++)if(u[p]===i){e.removeEventListener(t,i,o.supportsOptions?s:s.capture),u.splice(p,1),0===u.length&&(delete c.events[t],d=!0);break}}d&&!Object.keys(c.events).length&&n.splice(a,1)}else for(t in c.events)c.events.hasOwnProperty(t)&&l(e,t,"all")}function c(e,t){for(var n=Cn(t),r=new _n(e),o=i[e.type],a=En(B.getEventTargets(e),1)[0],l=a;s.default.element(l);){for(var c=0;c<o.length;c++){var d=o[c],u=d.selector,h=d.context;if(k.matchesSelector(l,u)&&k.nodeContains(h,a)&&k.nodeContains(h,l)){var p=d.listeners;r.currentTarget=l;for(var f=0;f<p.length;f++){var m=En(p[f],2),g=m[0],v=m[1],y=v.capture,b=v.passive;y===n.capture&&b===n.passive&&g(r)}}}l=k.parentNode(l)}}function d(e){return c(e,!0)}return null==(t=e.document)||t.createElement("div").addEventListener("test",null,{get capture(){return o.supportsOptions=!0},get passive(){return o.supportsPassive=!0}}),e.events=o,o}};xn.default=Pn;var Tn={};Object.defineProperty(Tn,"__esModule",{value:!0}),Tn.default=void 0;var In={methodOrder:["simulationResume","mouseOrPen","hasPointer","idle"],search:function(e){for(var t=0;t<In.methodOrder.length;t++){var n;n=In.methodOrder[t];var i=In[n](e);if(i)return i}return null},simulationResume:function(e){var t=e.pointerType,n=e.eventType,i=e.eventTarget,r=e.scope;if(!/down|start/i.test(n))return null;for(var s=0;s<r.interactions.list.length;s++){var o=r.interactions.list[s],a=i;if(o.simulation&&o.simulation.allowResume&&o.pointerType===t)for(;a;){if(a===o.element)return o;a=k.parentNode(a)}}return null},mouseOrPen:function(e){var t,n=e.pointerId,i=e.pointerType,r=e.eventType,s=e.scope;if("mouse"!==i&&"pen"!==i)return null;for(var o=0;o<s.interactions.list.length;o++){var a=s.interactions.list[o];if(a.pointerType===i){if(a.simulation&&!On(a,n))continue;if(a.interacting())return a;t||(t=a)}}if(t)return t;for(var l=0;l<s.interactions.list.length;l++){var c=s.interactions.list[l];if(!(c.pointerType!==i||/down/i.test(r)&&c.simulation))return c}return null},hasPointer:function(e){for(var t=e.pointerId,n=e.scope,i=0;i<n.interactions.list.length;i++){var r=n.interactions.list[i];if(On(r,t))return r}return null},idle:function(e){for(var t=e.pointerType,n=e.scope,i=0;i<n.interactions.list.length;i++){var r=n.interactions.list[i];if(1===r.pointers.length){var s=r.interactable;if(s&&(!s.options.gesture||!s.options.gesture.enabled))continue}else if(r.pointers.length>=2)continue;if(!r.interacting()&&t===r.pointerType)return r}return null}};function On(e,t){return e.pointers.some((function(e){return e.id===t}))}var jn=In;Tn.default=jn;var Ln={};function Mn(e){return Mn="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Mn(e)}function zn(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var i,r,s=[],o=!0,a=!1;try{for(n=n.call(e);!(o=(i=n.next()).done)&&(s.push(i.value),!t||s.length!==t);o=!0);}catch(e){a=!0,r=e}finally{try{o||null==n.return||n.return()}finally{if(a)throw r}}return s}}(e,t)||function(e,t){if(e){if("string"==typeof e)return Dn(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Dn(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Dn(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,i=Array(t);n<t;n++)i[n]=e[n];return i}function Rn(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function An(e,t){return An=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},An(e,t)}function Bn(e,t){if(t&&("object"===Mn(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function Hn(e){return Hn=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},Hn(e)}Object.defineProperty(Ln,"__esModule",{value:!0}),Ln.default=void 0;var $n=["pointerDown","pointerMove","pointerUp","updatePointer","removePointer","windowBlur"];function Vn(e,t){return function(n){var i=t.interactions.list,r=B.getPointerType(n),s=zn(B.getEventTargets(n),2),o=s[0],a=s[1],l=[];if(/^touch/.test(n.type)){t.prevTouchTime=t.now();for(var c=0;c<n.changedTouches.length;c++){var d=n.changedTouches[c],u={pointer:d,pointerId:B.getPointerId(d),pointerType:r,eventType:n.type,eventTarget:o,curEventTarget:a,scope:t},h=Wn(u);l.push([u.pointer,u.eventTarget,u.curEventTarget,h])}}else{var p=!1;if(!b.default.supportsPointerEvent&&/mouse/.test(n.type)){for(var f=0;f<i.length&&!p;f++)p="mouse"!==i[f].pointerType&&i[f].pointerIsDown;p=p||t.now()-t.prevTouchTime<500||0===n.timeStamp}if(!p){var m={pointer:n,pointerId:B.getPointerId(n),pointerType:r,eventType:n.type,curEventTarget:a,eventTarget:o,scope:t},g=Wn(m);l.push([m.pointer,m.eventTarget,m.curEventTarget,g])}}for(var v=0;v<l.length;v++){var y=zn(l[v],4),w=y[0],x=y[1],k=y[2];y[3][e](w,n,x,k)}}}function Wn(e){var t=e.pointerType,n=e.scope,i={interaction:Tn.default.search(e),searchDetails:e};return n.fire("interactions:find",i),i.interaction||n.interactions.new({pointerType:t})}function Nn(e,t){var n=e.doc,i=e.scope,r=e.options,s=i.interactions.docEvents,o=i.events,a=o[t];for(var l in i.browser.isIOS&&!r.events&&(r.events={passive:!1}),o.delegatedEvents)a(n,l,o.delegateListener),a(n,l,o.delegateUseCapture,!0);for(var c=r&&r.events,d=0;d<s.length;d++){var u=s[d];a(n,u.type,u.listener,c)}}var Fn={id:"core/interactions",install:function(e){for(var t={},n=0;n<$n.length;n++){var i=$n[n];t[i]=Vn(i,e)}var r,s=b.default.pEventTypes;function o(){for(var t=0;t<e.interactions.list.length;t++){var n=e.interactions.list[t];if(n.pointerIsDown&&"touch"===n.pointerType&&!n._interacting)for(var i=function(){var t=n.pointers[r];e.documents.some((function(e){var n=e.doc;return(0,k.nodeContains)(n,t.downTarget)}))||n.removePointer(t.pointer,t.event)},r=0;r<n.pointers.length;r++)i()}}(r=m.default.PointerEvent?[{type:s.down,listener:o},{type:s.down,listener:t.pointerDown},{type:s.move,listener:t.pointerMove},{type:s.up,listener:t.pointerUp},{type:s.cancel,listener:t.pointerUp}]:[{type:"mousedown",listener:t.pointerDown},{type:"mousemove",listener:t.pointerMove},{type:"mouseup",listener:t.pointerUp},{type:"touchstart",listener:o},{type:"touchstart",listener:t.pointerDown},{type:"touchmove",listener:t.pointerMove},{type:"touchend",listener:t.pointerUp},{type:"touchcancel",listener:t.pointerUp}]).push({type:"blur",listener:function(t){for(var n=0;n<e.interactions.list.length;n++)e.interactions.list[n].documentBlur(t)}}),e.prevTouchTime=0,e.Interaction=function(t){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&An(e,t)}(a,t);var n,i,r,s,o=(r=a,s=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=Hn(r);if(s){var n=Hn(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return Bn(this,e)});function a(){return Rn(this,a),o.apply(this,arguments)}return n=a,(i=[{key:"pointerMoveTolerance",get:function(){return e.interactions.pointerMoveTolerance},set:function(t){e.interactions.pointerMoveTolerance=t}},{key:"_now",value:function(){return e.now()}}])&&function(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}(n.prototype,i),Object.defineProperty(n,"prototype",{writable:!1}),a}(Vt.default),e.interactions={list:[],new:function(t){t.scopeFire=function(t,n){return e.fire(t,n)};var n=new e.Interaction(t);return e.interactions.list.push(n),n},listeners:t,docEvents:r,pointerMoveTolerance:1},e.usePlugin(ot.default)},listeners:{"scope:add-document":function(e){return Nn(e,"add")},"scope:remove-document":function(e){return Nn(e,"remove")},"interactable:unset":function(e,t){for(var n=e.interactable,i=t.interactions.list.length-1;i>=0;i--){var r=t.interactions.list[i];r.interactable===n&&(r.stop(),t.fire("interactions:destroy",{interaction:r}),r.destroy(),t.interactions.list.length>2&&t.interactions.list.splice(i,1))}}},onDocSignal:Nn,doOnInteractions:Vn,methodNames:$n},Un=Fn;Ln.default=Un;var Yn={};function qn(e){return qn="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},qn(e)}function Zn(){return Zn="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(e,t,n){var i=Xn(e,t);if(i){var r=Object.getOwnPropertyDescriptor(i,t);return r.get?r.get.call(arguments.length<3?e:n):r.value}},Zn.apply(this,arguments)}function Xn(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=Qn(e)););return e}function Kn(e,t){return Kn=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},Kn(e,t)}function Gn(e,t){if(t&&("object"===qn(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function Qn(e){return Qn=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},Qn(e)}function Jn(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function ei(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}function ti(e,t,n){return t&&ei(e.prototype,t),n&&ei(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function ni(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}Object.defineProperty(Yn,"__esModule",{value:!0}),Yn.Scope=void 0,Yn.initScope=ri;var ii=function(){function e(){var t=this;Jn(this,e),ni(this,"id","__interact_scope_".concat(Math.floor(100*Math.random()))),ni(this,"isInitialized",!1),ni(this,"listenerMaps",[]),ni(this,"browser",b.default),ni(this,"defaults",(0,ft.default)(Ct.defaults)),ni(this,"Eventable",cn.Eventable),ni(this,"actions",{map:{},phases:{start:!0,move:!0,end:!0},methodDict:{},phaselessTypes:{}}),ni(this,"interactStatic",(0,fn.createInteractStatic)(this)),ni(this,"InteractEvent",Pt.InteractEvent),ni(this,"Interactable",void 0),ni(this,"interactables",new yn.InteractableSet(this)),ni(this,"_win",void 0),ni(this,"document",void 0),ni(this,"window",void 0),ni(this,"documents",[]),ni(this,"_plugins",{list:[],map:{}}),ni(this,"onWindowUnload",(function(e){return t.removeDocument(e.target)}));var n=this;this.Interactable=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Kn(e,t)}(s,e);var t,i,r=(t=s,i=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,n=Qn(t);if(i){var r=Qn(this).constructor;e=Reflect.construct(n,arguments,r)}else e=n.apply(this,arguments);return Gn(this,e)});function s(){return Jn(this,s),r.apply(this,arguments)}return ti(s,[{key:"_defaults",get:function(){return n.defaults}},{key:"set",value:function(e){return Zn(Qn(s.prototype),"set",this).call(this,e),n.fire("interactable:set",{options:e,interactable:this}),this}},{key:"unset",value:function(){Zn(Qn(s.prototype),"unset",this).call(this);var e=n.interactables.list.indexOf(this);e<0||(Zn(Qn(s.prototype),"unset",this).call(this),n.interactables.list.splice(e,1),n.fire("interactable:unset",{interactable:this}))}}]),s}(mn.Interactable)}return ti(e,[{key:"addListeners",value:function(e,t){this.listenerMaps.push({id:t,map:e})}},{key:"fire",value:function(e,t){for(var n=0;n<this.listenerMaps.length;n++){var i=this.listenerMaps[n].map[e];if(i&&!1===i(t,this,e))return!1}}},{key:"init",value:function(e){return this.isInitialized?this:ri(this,e)}},{key:"pluginIsInstalled",value:function(e){return this._plugins.map[e.id]||-1!==this._plugins.list.indexOf(e)}},{key:"usePlugin",value:function(e,t){if(!this.isInitialized)return this;if(this.pluginIsInstalled(e))return this;if(e.id&&(this._plugins.map[e.id]=e),this._plugins.list.push(e),e.install&&e.install(this,t),e.listeners&&e.before){for(var n=0,i=this.listenerMaps.length,r=e.before.reduce((function(e,t){return e[t]=!0,e[si(t)]=!0,e}),{});n<i;n++){var s=this.listenerMaps[n].id;if(r[s]||r[si(s)])break}this.listenerMaps.splice(n,0,{id:e.id,map:e.listeners})}else e.listeners&&this.listenerMaps.push({id:e.id,map:e.listeners});return this}},{key:"addDocument",value:function(e,n){if(-1!==this.getDocIndex(e))return!1;var i=t.getWindow(e);n=n?(0,I.default)({},n):{},this.documents.push({doc:e,options:n}),this.events.documents.push(e),e!==this.document&&this.events.add(i,"unload",this.onWindowUnload),this.fire("scope:add-document",{doc:e,window:i,scope:this,options:n})}},{key:"removeDocument",value:function(e){var n=this.getDocIndex(e),i=t.getWindow(e),r=this.documents[n].options;this.events.remove(i,"unload",this.onWindowUnload),this.documents.splice(n,1),this.events.documents.splice(n,1),this.fire("scope:remove-document",{doc:e,window:i,scope:this,options:r})}},{key:"getDocIndex",value:function(e){for(var t=0;t<this.documents.length;t++)if(this.documents[t].doc===e)return t;return-1}},{key:"getDocOptions",value:function(e){var t=this.getDocIndex(e);return-1===t?null:this.documents[t].options}},{key:"now",value:function(){return(this.window.Date||Date).now()}}]),e}();function ri(e,n){return e.isInitialized=!0,s.default.window(n)&&t.init(n),m.default.init(n),b.default.init(n),_e.default.init(n),e.window=n,e.document=n.document,e.usePlugin(Ln.default),e.usePlugin(xn.default),e}function si(e){return e&&e.replace(/\/.*$/,"")}Yn.Scope=ii;var oi={};Object.defineProperty(oi,"__esModule",{value:!0}),oi.default=void 0;var ai=new Yn.Scope,li=ai.interactStatic;oi.default=li;var ci="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:void 0;ai.init(ci);var di={};Object.defineProperty(di,"__esModule",{value:!0}),di.default=void 0,di.default=function(){};var ui={};Object.defineProperty(ui,"__esModule",{value:!0}),ui.default=void 0,ui.default=function(){};var hi={};function pi(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var i,r,s=[],o=!0,a=!1;try{for(n=n.call(e);!(o=(i=n.next()).done)&&(s.push(i.value),!t||s.length!==t);o=!0);}catch(e){a=!0,r=e}finally{try{o||null==n.return||n.return()}finally{if(a)throw r}}return s}}(e,t)||function(e,t){if(e){if("string"==typeof e)return fi(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?fi(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function fi(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,i=Array(t);n<t;n++)i[n]=e[n];return i}Object.defineProperty(hi,"__esModule",{value:!0}),hi.default=void 0,hi.default=function(e){var t=[["x","y"],["left","top"],["right","bottom"],["width","height"]].filter((function(t){var n=pi(t,2),i=n[0],r=n[1];return i in e||r in e})),n=function(n,i){for(var r=e.range,s=e.limits,o=void 0===s?{left:-1/0,right:1/0,top:-1/0,bottom:1/0}:s,a=e.offset,l=void 0===a?{x:0,y:0}:a,c={range:r,grid:e,x:null,y:null},d=0;d<t.length;d++){var u=pi(t[d],2),h=u[0],p=u[1],f=Math.round((n-l.x)/e[h]),m=Math.round((i-l.y)/e[p]);c[h]=Math.max(o.left,Math.min(o.right,f*e[h]+l.x)),c[p]=Math.max(o.top,Math.min(o.bottom,m*e[p]+l.y))}return c};return n.grid=e,n.coordFields=t,n};var mi={};Object.defineProperty(mi,"__esModule",{value:!0}),Object.defineProperty(mi,"edgeTarget",{enumerable:!0,get:function(){return di.default}}),Object.defineProperty(mi,"elements",{enumerable:!0,get:function(){return ui.default}}),Object.defineProperty(mi,"grid",{enumerable:!0,get:function(){return hi.default}});var gi={};Object.defineProperty(gi,"__esModule",{value:!0}),gi.default=void 0;var vi={id:"snappers",install:function(e){var t=e.interactStatic;t.snappers=(0,I.default)(t.snappers||{},mi),t.createSnapGrid=t.snappers.grid}},yi=vi;gi.default=yi;var bi={};function wi(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function xi(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?wi(Object(n),!0).forEach((function(t){ki(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):wi(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function ki(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}Object.defineProperty(bi,"__esModule",{value:!0}),bi.default=bi.aspectRatio=void 0;var Ei={start:function(e){var t=e.state,n=e.rect,i=e.edges,r=e.pageCoords,s=t.options.ratio,o=t.options,a=o.equalDelta,l=o.modifiers;"preserve"===s&&(s=n.width/n.height),t.startCoords=(0,I.default)({},r),t.startRect=(0,I.default)({},n),t.ratio=s,t.equalDelta=a;var c=t.linkedEdges={top:i.top||i.left&&!i.bottom,left:i.left||i.top&&!i.right,bottom:i.bottom||i.right&&!i.top,right:i.right||i.bottom&&!i.left};if(t.xIsPrimaryAxis=!(!i.left&&!i.right),t.equalDelta){var d=(c.left?1:-1)*(c.top?1:-1);t.edgeSign={x:d,y:d}}else t.edgeSign={x:c.left?-1:1,y:c.top?-1:1};if((0,I.default)(e.edges,c),l&&l.length){var u=new mt.default(e.interaction);u.copyFrom(e.interaction.modification),u.prepareStates(l),t.subModification=u,u.startAll(xi({},e))}},set:function(e){var t=e.state,n=e.rect,i=e.coords,r=(0,I.default)({},i),s=t.equalDelta?Si:_i;if(s(t,t.xIsPrimaryAxis,i,n),!t.subModification)return null;var o=(0,I.default)({},n);(0,O.addEdges)(t.linkedEdges,o,{x:i.x-r.x,y:i.y-r.y});var a=t.subModification.setAll(xi(xi({},e),{},{rect:o,edges:t.linkedEdges,pageCoords:i,prevCoords:i,prevRect:o})),l=a.delta;return a.changed&&(s(t,Math.abs(l.x)>Math.abs(l.y),a.coords,a.rect),(0,I.default)(i,a.coords)),a.eventProps},defaults:{ratio:"preserve",equalDelta:!1,modifiers:[],enabled:!1}};function Si(e,t,n){var i=e.startCoords,r=e.edgeSign;t?n.y=i.y+(n.x-i.x)*r.y:n.x=i.x+(n.y-i.y)*r.x}function _i(e,t,n,i){var r=e.startRect,s=e.startCoords,o=e.ratio,a=e.edgeSign;if(t){var l=i.width/o;n.y=s.y+(l-r.height)*a.y}else{var c=i.height*o;n.x=s.x+(c-r.width)*a.x}}bi.aspectRatio=Ei;var Ci=(0,kt.makeModifier)(Ei,"aspectRatio");bi.default=Ci;var Pi={};Object.defineProperty(Pi,"__esModule",{value:!0}),Pi.default=void 0;var Ti=function(){};Ti._defaults={};var Ii=Ti;Pi.default=Ii;var Oi={};Object.defineProperty(Oi,"__esModule",{value:!0}),Object.defineProperty(Oi,"default",{enumerable:!0,get:function(){return Pi.default}});var ji={};function Li(e,t,n){return s.default.func(e)?O.resolveRectLike(e,t.interactable,t.element,[n.x,n.y,t]):O.resolveRectLike(e,t.interactable,t.element)}Object.defineProperty(ji,"__esModule",{value:!0}),ji.default=void 0,ji.getRestrictionRect=Li,ji.restrict=void 0;var Mi={start:function(e){var t=e.rect,n=e.startOffset,i=e.state,r=e.interaction,s=e.pageCoords,o=i.options,a=o.elementRect,l=(0,I.default)({left:0,top:0,right:0,bottom:0},o.offset||{});if(t&&a){var c=Li(o.restriction,r,s);if(c){var d=c.right-c.left-t.width,u=c.bottom-c.top-t.height;d<0&&(l.left+=d,l.right+=d),u<0&&(l.top+=u,l.bottom+=u)}l.left+=n.left-t.width*a.left,l.top+=n.top-t.height*a.top,l.right+=n.right-t.width*(1-a.right),l.bottom+=n.bottom-t.height*(1-a.bottom)}i.offset=l},set:function(e){var t=e.coords,n=e.interaction,i=e.state,r=i.options,s=i.offset,o=Li(r.restriction,n,t);if(o){var a=O.xywhToTlbr(o);t.x=Math.max(Math.min(a.right-s.right,t.x),a.left+s.left),t.y=Math.max(Math.min(a.bottom-s.bottom,t.y),a.top+s.top)}},defaults:{restriction:null,elementRect:null,offset:null,endOnly:!1,enabled:!1}};ji.restrict=Mi;var zi=(0,kt.makeModifier)(Mi,"restrict");ji.default=zi;var Di={};Object.defineProperty(Di,"__esModule",{value:!0}),Di.restrictEdges=Di.default=void 0;var Ri={top:1/0,left:1/0,bottom:-1/0,right:-1/0},Ai={top:-1/0,left:-1/0,bottom:1/0,right:1/0};function Bi(e,t){for(var n=["top","left","bottom","right"],i=0;i<n.length;i++){var r=n[i];r in e||(e[r]=t[r])}return e}var Hi={noInner:Ri,noOuter:Ai,start:function(e){var t,n=e.interaction,i=e.startOffset,r=e.state,s=r.options;if(s){var o=(0,ji.getRestrictionRect)(s.offset,n,n.coords.start.page);t=O.rectToXY(o)}t=t||{x:0,y:0},r.offset={top:t.y+i.top,left:t.x+i.left,bottom:t.y-i.bottom,right:t.x-i.right}},set:function(e){var t=e.coords,n=e.edges,i=e.interaction,r=e.state,s=r.offset,o=r.options;if(n){var a=(0,I.default)({},t),l=(0,ji.getRestrictionRect)(o.inner,i,a)||{},c=(0,ji.getRestrictionRect)(o.outer,i,a)||{};Bi(l,Ri),Bi(c,Ai),n.top?t.y=Math.min(Math.max(c.top+s.top,a.y),l.top+s.top):n.bottom&&(t.y=Math.max(Math.min(c.bottom+s.bottom,a.y),l.bottom+s.bottom)),n.left?t.x=Math.min(Math.max(c.left+s.left,a.x),l.left+s.left):n.right&&(t.x=Math.max(Math.min(c.right+s.right,a.x),l.right+s.right))}},defaults:{inner:null,outer:null,offset:null,endOnly:!1,enabled:!1}};Di.restrictEdges=Hi;var $i=(0,kt.makeModifier)(Hi,"restrictEdges");Di.default=$i;var Vi={};Object.defineProperty(Vi,"__esModule",{value:!0}),Vi.restrictRect=Vi.default=void 0;var Wi=(0,I.default)({get elementRect(){return{top:0,left:0,bottom:1,right:1}},set elementRect(e){}},ji.restrict.defaults),Ni={start:ji.restrict.start,set:ji.restrict.set,defaults:Wi};Vi.restrictRect=Ni;var Fi=(0,kt.makeModifier)(Ni,"restrictRect");Vi.default=Fi;var Ui={};Object.defineProperty(Ui,"__esModule",{value:!0}),Ui.restrictSize=Ui.default=void 0;var Yi={width:-1/0,height:-1/0},qi={width:1/0,height:1/0},Zi={start:function(e){return Di.restrictEdges.start(e)},set:function(e){var t=e.interaction,n=e.state,i=e.rect,r=e.edges,s=n.options;if(r){var o=O.tlbrToXywh((0,ji.getRestrictionRect)(s.min,t,e.coords))||Yi,a=O.tlbrToXywh((0,ji.getRestrictionRect)(s.max,t,e.coords))||qi;n.options={endOnly:s.endOnly,inner:(0,I.default)({},Di.restrictEdges.noInner),outer:(0,I.default)({},Di.restrictEdges.noOuter)},r.top?(n.options.inner.top=i.bottom-o.height,n.options.outer.top=i.bottom-a.height):r.bottom&&(n.options.inner.bottom=i.top+o.height,n.options.outer.bottom=i.top+a.height),r.left?(n.options.inner.left=i.right-o.width,n.options.outer.left=i.right-a.width):r.right&&(n.options.inner.right=i.left+o.width,n.options.outer.right=i.left+a.width),Di.restrictEdges.set(e),n.options=s}},defaults:{min:null,max:null,endOnly:!1,enabled:!1}};Ui.restrictSize=Zi;var Xi=(0,kt.makeModifier)(Zi,"restrictSize");Ui.default=Xi;var Ki={};Object.defineProperty(Ki,"__esModule",{value:!0}),Object.defineProperty(Ki,"default",{enumerable:!0,get:function(){return Pi.default}});var Gi={};Object.defineProperty(Gi,"__esModule",{value:!0}),Gi.snap=Gi.default=void 0;var Qi={start:function(e){var t,n=e.interaction,i=e.interactable,r=e.element,s=e.rect,o=e.state,a=e.startOffset,l=o.options,c=l.offsetWithOrigin?function(e){var t=e.interaction.element;return(0,O.rectToXY)((0,O.resolveRectLike)(e.state.options.origin,null,null,[t]))||(0,M.default)(e.interactable,t,e.interaction.prepared.name)}(e):{x:0,y:0};if("startCoords"===l.offset)t={x:n.coords.start.page.x,y:n.coords.start.page.y};else{var d=(0,O.resolveRectLike)(l.offset,i,r,[n]);(t=(0,O.rectToXY)(d)||{x:0,y:0}).x+=c.x,t.y+=c.y}var u=l.relativePoints;o.offsets=s&&u&&u.length?u.map((function(e,n){return{index:n,relativePoint:e,x:a.left-s.width*e.x+t.x,y:a.top-s.height*e.y+t.y}})):[{index:0,relativePoint:null,x:t.x,y:t.y}]},set:function(e){var t=e.interaction,n=e.coords,i=e.state,r=i.options,o=i.offsets,a=(0,M.default)(t.interactable,t.element,t.prepared.name),l=(0,I.default)({},n),c=[];r.offsetWithOrigin||(l.x-=a.x,l.y-=a.y);for(var d=0;d<o.length;d++)for(var u=o[d],h=l.x-u.x,p=l.y-u.y,f=0,m=r.targets.length;f<m;f++){var g,v=r.targets[f];(g=s.default.func(v)?v(h,p,t._proxy,u,f):v)&&c.push({x:(s.default.number(g.x)?g.x:h)+u.x,y:(s.default.number(g.y)?g.y:p)+u.y,range:s.default.number(g.range)?g.range:r.range,source:v,index:f,offset:u})}for(var y={target:null,inRange:!1,distance:0,range:0,delta:{x:0,y:0}},b=0;b<c.length;b++){var w=c[b],x=w.range,k=w.x-l.x,E=w.y-l.y,S=(0,R.default)(k,E),_=S<=x;x===1/0&&y.inRange&&y.range!==1/0&&(_=!1),y.target&&!(_?y.inRange&&x!==1/0?S/x<y.distance/y.range:x===1/0&&y.range!==1/0||S<y.distance:!y.inRange&&S<y.distance)||(y.target=w,y.distance=S,y.range=x,y.inRange=_,y.delta.x=k,y.delta.y=E)}return y.inRange&&(n.x=y.target.x,n.y=y.target.y),i.closest=y,y},defaults:{range:1/0,targets:null,offset:null,offsetWithOrigin:!0,origin:null,relativePoints:null,endOnly:!1,enabled:!1}};Gi.snap=Qi;var Ji=(0,kt.makeModifier)(Qi,"snap");Gi.default=Ji;var er={};function tr(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,i=Array(t);n<t;n++)i[n]=e[n];return i}Object.defineProperty(er,"__esModule",{value:!0}),er.snapSize=er.default=void 0;var nr={start:function(e){var t=e.state,n=e.edges,i=t.options;if(!n)return null;e.state={options:{targets:null,relativePoints:[{x:n.left?0:1,y:n.top?0:1}],offset:i.offset||"self",origin:{x:0,y:0},range:i.range}},t.targetFields=t.targetFields||[["width","height"],["x","y"]],Gi.snap.start(e),t.offsets=e.state.offsets,e.state=t},set:function(e){var t,n=e.interaction,i=e.state,r=e.coords,o=i.options,a=i.offsets,l={x:r.x-a[0].x,y:r.y-a[0].y};i.options=(0,I.default)({},o),i.options.targets=[];for(var c=0;c<(o.targets||[]).length;c++){var d=(o.targets||[])[c],u=void 0;if(u=s.default.func(d)?d(l.x,l.y,n):d){for(var h=0;h<i.targetFields.length;h++){var p=(2,function(e){if(Array.isArray(e))return e}(t=i.targetFields[h])||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var i,r,s=[],o=!0,a=!1;try{for(n=n.call(e);!(o=(i=n.next()).done)&&(s.push(i.value),2!==s.length);o=!0);}catch(e){a=!0,r=e}finally{try{o||null==n.return||n.return()}finally{if(a)throw r}}return s}}(t)||function(e,t){if(e){if("string"==typeof e)return tr(e,2);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?tr(e,2):void 0}}(t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),f=p[0],m=p[1];if(f in u||m in u){u.x=u[f],u.y=u[m];break}}i.options.targets.push(u)}}var g=Gi.snap.set(e);return i.options=o,g},defaults:{range:1/0,targets:null,offset:null,endOnly:!1,enabled:!1}};er.snapSize=nr;var ir=(0,kt.makeModifier)(nr,"snapSize");er.default=ir;var rr={};Object.defineProperty(rr,"__esModule",{value:!0}),rr.snapEdges=rr.default=void 0;var sr={start:function(e){var t=e.edges;return t?(e.state.targetFields=e.state.targetFields||[[t.left?"left":"right",t.top?"top":"bottom"]],er.snapSize.start(e)):null},set:er.snapSize.set,defaults:(0,I.default)((0,ft.default)(er.snapSize.defaults),{targets:null,range:null,offset:{x:0,y:0}})};rr.snapEdges=sr;var or=(0,kt.makeModifier)(sr,"snapEdges");rr.default=or;var ar={};Object.defineProperty(ar,"__esModule",{value:!0}),Object.defineProperty(ar,"default",{enumerable:!0,get:function(){return Pi.default}});var lr={};Object.defineProperty(lr,"__esModule",{value:!0}),Object.defineProperty(lr,"default",{enumerable:!0,get:function(){return Pi.default}});var cr={};Object.defineProperty(cr,"__esModule",{value:!0}),cr.default=void 0;var dr={aspectRatio:bi.default,restrictEdges:Di.default,restrict:ji.default,restrictRect:Vi.default,restrictSize:Ui.default,snapEdges:rr.default,snap:Gi.default,snapSize:er.default,spring:ar.default,avoid:Oi.default,transform:lr.default,rubberband:Ki.default};cr.default=dr;var ur={};Object.defineProperty(ur,"__esModule",{value:!0}),ur.default=void 0;var hr={id:"modifiers",install:function(e){var t=e.interactStatic;for(var n in e.usePlugin(kt.default),e.usePlugin(gi.default),t.modifiers=cr.default,cr.default){var i=cr.default[n],r=i._defaults,s=i._methods;r._methods=s,e.defaults.perAction[n]=r}}},pr=hr;ur.default=pr;var fr={};function mr(e){return mr="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},mr(e)}function gr(e,t){return gr=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},gr(e,t)}function vr(e,t){if(t&&("object"===mr(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return yr(e)}function yr(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function br(e){return br=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},br(e)}Object.defineProperty(fr,"__esModule",{value:!0}),fr.default=fr.PointerEvent=void 0;var wr=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&gr(e,t)}(o,e);var t,n,i,r,s=(i=o,r=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=br(i);if(r){var n=br(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return vr(this,e)});function o(e,t,n,i,r,a){var l;if(function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,o),l=s.call(this,r),B.pointerExtend(yr(l),n),n!==t&&B.pointerExtend(yr(l),t),l.timeStamp=a,l.originalEvent=n,l.type=e,l.pointerId=B.getPointerId(t),l.pointerType=B.getPointerType(t),l.target=i,l.currentTarget=null,"tap"===e){var c=r.getPointerIndex(t);l.dt=l.timeStamp-r.pointers[c].downTime;var d=l.timeStamp-r.tapTime;l.double=!!r.prevTap&&"doubletap"!==r.prevTap.type&&r.prevTap.target===l.target&&d<500}else"doubletap"===e&&(l.dt=t.timeStamp-r.tapTime,l.double=!0);return l}return t=o,(n=[{key:"_subtractOrigin",value:function(e){var t=e.x,n=e.y;return this.pageX-=t,this.pageY-=n,this.clientX-=t,this.clientY-=n,this}},{key:"_addOrigin",value:function(e){var t=e.x,n=e.y;return this.pageX+=t,this.pageY+=n,this.clientX+=t,this.clientY+=n,this}},{key:"preventDefault",value:function(){this.originalEvent.preventDefault()}}])&&function(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}(t.prototype,n),Object.defineProperty(t,"prototype",{writable:!1}),o}(U.BaseEvent);fr.PointerEvent=fr.default=wr;var xr={};Object.defineProperty(xr,"__esModule",{value:!0}),xr.default=void 0;var kr={id:"pointer-events/base",before:["inertia","modifiers","auto-start","actions"],install:function(e){e.pointerEvents=kr,e.defaults.actions.pointerEvents=kr.defaults,(0,I.default)(e.actions.phaselessTypes,kr.types)},listeners:{"interactions:new":function(e){var t=e.interaction;t.prevTap=null,t.tapTime=0},"interactions:update-pointer":function(e){var t=e.down,n=e.pointerInfo;!t&&n.hold||(n.hold={duration:1/0,timeout:null})},"interactions:move":function(e,t){var n=e.interaction,i=e.pointer,r=e.event,s=e.eventTarget;e.duplicate||n.pointerIsDown&&!n.pointerWasMoved||(n.pointerIsDown&&_r(e),Er({interaction:n,pointer:i,event:r,eventTarget:s,type:"move"},t))},"interactions:down":function(e,t){!function(e,t){for(var n=e.interaction,i=e.pointer,r=e.event,s=e.eventTarget,o=e.pointerIndex,a=n.pointers[o].hold,l=k.getPath(s),c={interaction:n,pointer:i,event:r,eventTarget:s,type:"hold",targets:[],path:l,node:null},d=0;d<l.length;d++){var u=l[d];c.node=u,t.fire("pointerEvents:collect-targets",c)}if(c.targets.length){for(var h=1/0,p=0;p<c.targets.length;p++){var f=c.targets[p].eventable.options.holdDuration;f<h&&(h=f)}a.duration=h,a.timeout=setTimeout((function(){Er({interaction:n,eventTarget:s,pointer:i,event:r,type:"hold"},t)}),h)}}(e,t),Er(e,t)},"interactions:up":function(e,t){_r(e),Er(e,t),function(e,t){var n=e.interaction,i=e.pointer,r=e.event,s=e.eventTarget;n.pointerWasMoved||Er({interaction:n,eventTarget:s,pointer:i,event:r,type:"tap"},t)}(e,t)},"interactions:cancel":function(e,t){_r(e),Er(e,t)}},PointerEvent:fr.PointerEvent,fire:Er,collectEventTargets:Sr,defaults:{holdDuration:600,ignoreFrom:null,allowFrom:null,origin:{x:0,y:0}},types:{down:!0,move:!0,up:!0,cancel:!0,tap:!0,doubletap:!0,hold:!0}};function Er(e,t){var n=e.interaction,i=e.pointer,r=e.event,s=e.eventTarget,o=e.type,a=e.targets,l=void 0===a?Sr(e,t):a,c=new fr.PointerEvent(o,i,r,s,n,t.now());t.fire("pointerEvents:new",{pointerEvent:c});for(var d={interaction:n,pointer:i,event:r,eventTarget:s,targets:l,type:o,pointerEvent:c},u=0;u<l.length;u++){var h=l[u];for(var p in h.props||{})c[p]=h.props[p];var f=(0,M.default)(h.eventable,h.node);if(c._subtractOrigin(f),c.eventable=h.eventable,c.currentTarget=h.node,h.eventable.fire(c),c._addOrigin(f),c.immediatePropagationStopped||c.propagationStopped&&u+1<l.length&&l[u+1].node!==c.currentTarget)break}if(t.fire("pointerEvents:fired",d),"tap"===o){var m=c.double?Er({interaction:n,pointer:i,event:r,eventTarget:s,type:"doubletap"},t):c;n.prevTap=m,n.tapTime=m.timeStamp}return c}function Sr(e,t){var n=e.interaction,i=e.pointer,r=e.event,s=e.eventTarget,o=e.type,a=n.getPointerIndex(i),l=n.pointers[a];if("tap"===o&&(n.pointerWasMoved||!l||l.downTarget!==s))return[];for(var c=k.getPath(s),d={interaction:n,pointer:i,event:r,eventTarget:s,type:o,path:c,targets:[],node:null},u=0;u<c.length;u++){var h=c[u];d.node=h,t.fire("pointerEvents:collect-targets",d)}return"hold"===o&&(d.targets=d.targets.filter((function(e){var t;return e.eventable.options.holdDuration===(null==(t=n.pointers[a])?void 0:t.hold.duration)}))),d.targets}function _r(e){var t=e.interaction,n=e.pointerIndex,i=t.pointers[n].hold;i&&i.timeout&&(clearTimeout(i.timeout),i.timeout=null)}var Cr=kr;xr.default=Cr;var Pr={};function Tr(e){var t=e.interaction;t.holdIntervalHandle&&(clearInterval(t.holdIntervalHandle),t.holdIntervalHandle=null)}Object.defineProperty(Pr,"__esModule",{value:!0}),Pr.default=void 0;var Ir={id:"pointer-events/holdRepeat",install:function(e){e.usePlugin(xr.default);var t=e.pointerEvents;t.defaults.holdRepeatInterval=0,t.types.holdrepeat=e.actions.phaselessTypes.holdrepeat=!0},listeners:["move","up","cancel","endall"].reduce((function(e,t){return e["pointerEvents:".concat(t)]=Tr,e}),{"pointerEvents:new":function(e){var t=e.pointerEvent;"hold"===t.type&&(t.count=(t.count||0)+1)},"pointerEvents:fired":function(e,t){var n=e.interaction,i=e.pointerEvent,r=e.eventTarget,s=e.targets;if("hold"===i.type&&s.length){var o=s[0].eventable.options.holdRepeatInterval;o<=0||(n.holdIntervalHandle=setTimeout((function(){t.pointerEvents.fire({interaction:n,eventTarget:r,type:"hold",pointer:i,event:i},t)}),o))}}})},Or=Ir;Pr.default=Or;var jr={};function Lr(e){return(0,I.default)(this.events.options,e),this}Object.defineProperty(jr,"__esModule",{value:!0}),jr.default=void 0;var Mr={id:"pointer-events/interactableTargets",install:function(e){var t=e.Interactable;t.prototype.pointerEvents=Lr;var n=t.prototype._backCompatOption;t.prototype._backCompatOption=function(e,t){var i=n.call(this,e,t);return i===this&&(this.events.options[e]=t),i}},listeners:{"pointerEvents:collect-targets":function(e,t){var n=e.targets,i=e.node,r=e.type,s=e.eventTarget;t.interactables.forEachMatch(i,(function(e){var t=e.events,o=t.options;t.types[r]&&t.types[r].length&&e.testIgnoreAllow(o,i,s)&&n.push({node:i,eventable:t,props:{interactable:e}})}))},"interactable:new":function(e){var t=e.interactable;t.events.getRect=function(e){return t.getRect(e)}},"interactable:set":function(e,t){var n=e.interactable,i=e.options;(0,I.default)(n.events.options,t.pointerEvents.defaults),(0,I.default)(n.events.options,i.pointerEvents||{})}}},zr=Mr;jr.default=zr;var Dr={};Object.defineProperty(Dr,"__esModule",{value:!0}),Dr.default=void 0;var Rr={id:"pointer-events",install:function(e){e.usePlugin(xr),e.usePlugin(Pr.default),e.usePlugin(jr.default)}},Ar=Rr;Dr.default=Ar;var Br={};function Hr(e){var t=e.Interactable;e.actions.phases.reflow=!0,t.prototype.reflow=function(t){return function(e,t,n){for(var i=s.default.string(e.target)?Z.from(e._context.querySelectorAll(e.target)):[e.target],r=n.window.Promise,o=r?[]:null,a=function(){var s=i[l],a=e.getRect(s);if(!a)return"break";var c=Z.find(n.interactions.list,(function(n){return n.interacting()&&n.interactable===e&&n.element===s&&n.prepared.name===t.name})),d=void 0;if(c)c.move(),o&&(d=c._reflowPromise||new r((function(e){c._reflowResolve=e})));else{var u=(0,O.tlbrToXywh)(a),h={page:{x:u.x,y:u.y},client:{x:u.x,y:u.y},timeStamp:n.now()},p=B.coordsToEvent(h);d=function(e,t,n,i,r){var s=e.interactions.new({pointerType:"reflow"}),o={interaction:s,event:r,pointer:r,eventTarget:n,phase:"reflow"};s.interactable=t,s.element=n,s.prevEvent=r,s.updatePointer(r,r,n,!0),B.setZeroCoords(s.coords.delta),(0,Re.copyAction)(s.prepared,i),s._doPhase(o);var a=e.window.Promise,l=a?new a((function(e){s._reflowResolve=e})):void 0;return s._reflowPromise=l,s.start(i,t,n),s._interacting?(s.move(o),s.end(r)):(s.stop(),s._reflowResolve()),s.removePointer(r,r),l}(n,e,s,t,p)}o&&o.push(d)},l=0;l<i.length&&"break"!==a();l++);return o&&r.all(o).then((function(){return e}))}(this,t,e)}}Object.defineProperty(Br,"__esModule",{value:!0}),Br.default=void 0,Br.install=Hr;var $r={id:"reflow",install:Hr,listeners:{"interactions:stop":function(e,t){var n=e.interaction;"reflow"===n.pointerType&&(n._reflowResolve&&n._reflowResolve(),Z.remove(t.interactions.list,n))}}},Vr=$r;Br.default=Vr;var Wr={exports:{}};function Nr(e){return Nr="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Nr(e)}Object.defineProperty(Wr.exports,"__esModule",{value:!0}),Wr.exports.default=void 0,oi.default.use(ot.default),oi.default.use(Yt.default),oi.default.use(Dr.default),oi.default.use(en.default),oi.default.use(ur.default),oi.default.use(rt.default),oi.default.use(Ee.default),oi.default.use(Oe.default),oi.default.use(Br.default);var Fr=oi.default;if(Wr.exports.default=Fr,"object"===Nr(Wr)&&Wr)try{Wr.exports=oi.default}catch(e){}oi.default.default=oi.default,Ee.default,Oe.default,rt.default,ot.default,pt.default,en.default,oi.default,ur.default,Yt.default,Dr.default,Br.default,Wr=Wr.exports;var Ur={exports:{}};function Yr(e){return Yr="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Yr(e)}Object.defineProperty(Ur.exports,"__esModule",{value:!0}),Ur.exports.default=void 0;var qr=Wr.default;if(Ur.exports.default=qr,"object"===Yr(Ur)&&Ur)try{Ur.exports=Wr.default}catch(e){}return Wr.default.default=Wr.default,Ur.exports}()},119:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>i});const i=class{constructor(){this.handlers={}}on(e,t){this.handlers[e]||(this.handlers[e]=[]),this.handlers[e].find((e=>e===t))||this.handlers[e].push(t)}off(e,t){this.handlers[e]&&(this.handlers[e]=this.handlers[e].filter((e=>e!==t)))}async triggerListeners(e,t){const n=this.handlers[e]||[];if(0===n.length)return[];const i=[];for(let r in n)i.push(await this.handlers[e][r](this,t));return i}destroy(){this.triggerListeners("destroy"),this.handlers={}}}}},t={};function n(i){var r=t[i];if(void 0!==r)return r.exports;var s=t[i]={exports:{}};return e[i](s,s.exports,n),s.exports}n.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return n.d(t,{a:t}),t},n.d=(e,t)=>{for(var i in t)n.o(t,i)&&!n.o(e,i)&&Object.defineProperty(e,i,{enumerable:!0,get:t[i]})},n.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),n.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},(()=>{"use strict";class e{constructor(e){this.listControl=e,this.originPoint={left:0,top:0},this.selectionRectangle=this.resetSelectionRectangle(),this.isMouseDown=!1,this.selectionRectangleElement=null,this.attachEvents()}getElement(){let e=this.listControl.element;return"table"===e.nodeName.toLowerCase()&&(e=e.parentNode),e}attachEvents(){const e=this.getElement();e&&(e.addEventListener("mousedown",this.mouseDown.bind(this)),e.addEventListener("mousemove",this.mouseMove.bind(this)),e.addEventListener("mouseup",this.mouseUp.bind(this)))}mouseDown(e){if(e.button>0)return;this.isMouseDown=!0;const t=this.getElement();if(!t)return;const n=t.getBoundingClientRect();this.originPoint={left:e.clientX+t.scrollLeft-n.left,top:e.clientY+t.scrollTop-n.top},this.selectionRectangle=this.normalizeSelectionRectangle({...this.originPoint,right:this.originPoint.left,bottom:this.originPoint.top})}mouseMove(e){if(!this.isMouseDown)return;const t=this.getElement();if(!t)return;const n=t.getBoundingClientRect(),i={right:e.clientX+t.scrollLeft-n.left,bottom:e.clientY+t.scrollTop-n.top};this.selectionRectangle=this.normalizeSelectionRectangle({left:this.originPoint.left,top:this.originPoint.top,...i}),(Math.abs(this.selectionRectangle.right-this.selectionRectangle.left)>5||Math.abs(this.selectionRectangle.bottom-this.selectionRectangle.top)>5)&&(this.listControl.clearSelection(),this.drawSelectionRectangle(),this.listControl.selectItemsByDrag(this.selectionRectangleElement.getBoundingClientRect()))}mouseUp(){this.isMouseDown=!1,this.selectionRectangleElement&&(this.listControl.selectItemsByDrag(this.selectionRectangleElement.getBoundingClientRect()),this.hideSelectionRectangle()),window.getSelection()?.removeAllRanges()}hideSelectionRectangle(){this.selectionRectangle=this.resetSelectionRectangle(),this.selectionRectangleElement&&(this.selectionRectangleElement.parentNode.removeChild(this.selectionRectangleElement),this.selectionRectangleElement=null,this.originPoint={left:0,top:0})}drawSelectionRectangle(){this.selectionRectangleElement||(this.selectionRectangleElement=document.createElement("div"),this.selectionRectangleElement.classList.add("selection-rectangle"),this.getElement().appendChild(this.selectionRectangleElement)),this.selectionRectangleElement.style.left=this.selectionRectangle.left+"px",this.selectionRectangleElement.style.top=this.selectionRectangle.top+"px",this.selectionRectangleElement.style.width=this.selectionRectangle.right-this.selectionRectangle.left+"px",this.selectionRectangleElement.style.height=this.selectionRectangle.bottom-this.selectionRectangle.top+"px"}normalizeSelectionRectangle(e){return{left:Math.min(e.left,e.right),top:Math.min(e.top,e.bottom),right:Math.max(e.left,e.right),bottom:Math.max(e.top,e.bottom)}}resetSelectionRectangle(){return{left:0,top:0,right:0,bottom:0}}destroy(){this.selectionRectangleElement&&this.selectionRectangleElement.parentNode.removeChild(this.selectionRectangleElement)}}var t=n(119);const i=(e,t)=>!(e.right<t.left||t.right<e.left||e.bottom<t.top||t.bottom<e.top);class r extends t.default{constructor(e,t){super(),this.element=document.createElement("div"),this.element.classList.add("nj-icon"),this.iconElement=document.createElement("span"),this.iconElement.classList.add("nj-icon-picture"),this.element.appendChild(this.iconElement),this.textElement=document.createElement("span"),this.textElement.classList.add("nj-icon-text"),this.element.append(this.textElement),this.setTitle(t.title),this.setIcon(t.icon),this.setSelected(!1),t.dblclick&&this.on("dblclick",t.dblclick),this.element.addEventListener("click",(e=>{this.triggerListeners("click",{nativeEvent:e})})),this.element.addEventListener("dblclick",(e=>{this.triggerListeners("dblclick",{nativeEvent:e})})),e.appendChild(this.element),this.metadata=t.metadata??{},this.tileKey=t.tileDetailKey;const n=document.createElement("span");n.classList.add("tile-info"),n.innerText=this.metadata[this.tileKey]??"",this.textElement.appendChild(n)}setTitle(e){this.title=e,this.textElement.innerText=this.title}setIcon(e){this.icon=e,this.iconElement.style.backgroundImage=e}setParent(e){e.appendChild(this.element)}setSelected(e){this.selected=e,e?this.element.classList.add("nj-selected"):this.element.classList.remove("nj-selected")}toggleSelection(){this.setSelected(!this.isSelected())}isSelected(){return this.selected}destroy(){super.destroy(),this.element.parentElement.removeChild(this.element)}}const s=r,o="vertical",a="xl",l="m",c="tile",d=class extends t.default{constructor(t,n){super(),this.element=document.createElement("div"),this.element.classList.add("nj-icon-list"),this.element.classList.add(n?.orientation??o),n?.preventScroll&&this.element.classList.add("nj-prevent-scroll"),this.setView(n?.view??l),this.icons=[],t&&t.appendChild(this.element),(n.dragDropSelect??1)&&(this.dragSelection=new e(this))}selectItemsByDrag(e){for(let t in this.icons){const n=this.icons[t].element.getBoundingClientRect();this.icons[t].setSelected(i(n,e))}}addIcon(e){const t=new s(this.element,e);return t.on("click",((e,t)=>{if(!t.nativeEvent.ctrlKey&&!t.nativeEvent.shiftKey){const t=this.icons.filter((e=>e.isSelected()));if(1===t.length&&t[0]===e)return;this.clearSelection()}if(t.nativeEvent.shiftKey){const t=this.icons.indexOf(e);for(let e=Math.min(this.lastSelectionIndex??0,t);e<=Math.max(this.lastSelectionIndex??0,t);e++)this.icons[e].setSelected(!0)}else t.nativeEvent.ctrlKey?e.toggleSelection():e.setSelected(!0);this.lastSelectionIndex=this.icons.indexOf(e),this.triggerListeners("onselect",this.icons.filter((e=>e.isSelected())))})),t.on("dblclick",((e,t)=>{this.clearSelection(),e.setSelected(!0),this.lastSelectionIndex=this.icons.indexOf(e),this.triggerListeners("input",{...t,item:e})})),this.icons.push(t),t}removeIcon(e){this.icons=this.icons.filter((t=>t===e)),e.destroy()}setView(e){this.element.classList.remove("nj-"+this.view),this.view=e,this.element.classList.add("nj-"+this.view)}setParent(e){e.appendChild(this.element)}clearSelection(){this.icons.forEach((e=>e.setSelected(!1)))}clear(){this.icons.forEach((e=>e.destroy())),this.icons=[]}destroy(){super.destroy(),this.dragSelection&&this.dragSelection.destroy(),this.icons.forEach((e=>e.destroy())),this.element.parentElement.removeChild(this.element)}},u=d,h=class extends t.default{constructor(){super(),this.element=document.createElement("div"),this.element.classList.add("nj-menu"),this.items=[]}addItem(e){this.items.push(e),e.setParent(this.element)}removeItem(e){this.items=this.items.filter((t=>t!==e)),e.destroy()}has(){return this.items.length>0}setParent(e){e.appendChild(this.element)}getComputedHeight(){const e=window.getComputedStyle(this.element).height.replace("px","");return parseInt(e)}getTop(){return this.element.scrollTop}destroy(){super.destroy(),this.items.forEach((e=>e.destroy())),this.element.parentNode.removeChild(this.element)}},p=h;class f extends t.default{constructor(e){super(),this.element=document.createElement("div"),this.element.classList.add("nj-taskbar-button-list"),this.leftButtonElement=document.createElement("button"),this.leftButtonElement.classList.add("nj-taskbar-button-list-nav"),this.leftButtonElement.classList.add("nj-taskbar-button-list-nav-left"),this.rightButtonElement=document.createElement("button"),this.rightButtonElement.classList.add("nj-taskbar-button-list-nav"),this.rightButtonElement.classList.add("nj-taskbar-button-list-nav-right"),this.buttonContainer=document.createElement("div"),this.buttonContainer.classList.add("nj-taskbar-button-list-container"),this.element.appendChild(this.leftButtonElement),this.element.appendChild(this.buttonContainer),this.element.appendChild(this.rightButtonElement),e.appendChild(this.element),this.buttons=[]}addWindowButton(e){const t=document.createElement("button");t.innerText=e.getTitle(),t.addEventListener("click",(()=>{const t=this.buttons.find((t=>t.njWindow===e));t.njWindow.isMinimized()&&t.njWindow.restore(),t.focused?t.focused&&t.njWindow.minimize():e.focus()}));const n={button:t,njWindow:e,focused:!1};this.buttons.push(n),this.buttonContainer.appendChild(t),e.on("titleUpdated",this.windowUpdated.bind(this)),e.on("stateChange",this.windowStateUpdated.bind(this)),e.on("close",this.windowRemoved.bind(this)),e.on("focus",this.windowFocused.bind(this)),e.on("blur",this.windowBlurred.bind(this)),this.leftButtonElement.addEventListener("click",(()=>{this.buttonContainer.scrollBy({top:0,left:-100,behavior:"smooth"})})),this.rightButtonElement.addEventListener("click",(()=>{this.buttonContainer.scrollBy({top:0,left:100,behavior:"smooth"})}))}windowRemoved(e){const t=this.buttons.find((t=>t.njWindow===e));t.button.parentNode.removeChild(t.button),this.buttons=this.buttons.filter((t=>t.njWindow!==e))}windowFocused(e){const t=this.buttons.find((t=>t.njWindow===e));t.focused=!0,t.button.classList.add("focused"),t.button.scrollIntoView()}windowBlurred(e){const t=this.buttons.find((t=>t.njWindow===e));t.focused=!1,t.button.classList.remove("focused")}windowStateUpdated(e){}windowUpdated(e,t){const n=this.buttons.find((t=>t.njWindow===e));n.button.innerText=t,n.button.setAttribute("title",t)}destroy(){super.destroy(),this.buttons=[],this.element.parentNode.removeChild(this.element)}}const m=f,g="nj-toolbutton-text",v="nj-toolbutton-icon",y="nj-toolbutton-input",b=class extends t.default{constructor(e,t){super(),this.config=t,this._value=t.value??"",this.enabled=!0,t.type===y?this.createInput(e):this.createButton(e),this.config.classes&&this.element.classList.add(...this.config.classes)}createButton(e){this.element=document.createElement("button"),this.element.classList.add("nj-tool-button"),this.element.classList.add(this.config.type??g),this.config.icon&&(this.element.style.backgroundImage=this.config.icon),this.element.setAttribute("title",this.config.title??""),this.element.innerText=this.config.title??"",this.config.click&&this.on("click",this.config.click),this.element.addEventListener("click",(e=>{this.triggerListeners("click",{nativeEvent:e})})),e.appendChild(this.element)}createInput(e){this.element=document.createElement("input"),this.element.classList.add("nj-tool-button"),this.element.classList.add("nj-tool-button-text"),this.element.classList.add("nj-tool-button-input"),this.element.setAttribute("type",this.config.inputType??"text"),this.element.setAttribute("value",this._value),e.appendChild(this.element),this.element.addEventListener("input",(e=>{this.inputChange(e.target.value)})),this.config.change&&this.on("change",this.config.change)}setEnabled(e){this.enabled=e,this.enabled?this.element.removeAttribute("disabled"):this.element.setAttribute("disabled",!0)}inputChange(e){this._value=e,this.triggerListeners("change",e)}getValue(){return this._value}destroy(){super.destroy(),this.element.parentElement.removeChild(this.element)}},w=class extends t.default{constructor(e,t){super(),this.element=document.createElement("div"),this.element.classList.add("nj-toolbar"),t&&t.classes&&this.element.classList.add(...t.classes),e&&e.appendChild(this.element),this.toolButtons=[]}getElement(){return this.element}addToolButton(e){const t=new b(this.element,e);return this.toolButtons.push(t),t}addMenu(e){this.toolButtons.push(e),e.setParent(this.element)}getComputedHeight(){const e=window.getComputedStyle(this.element).height.replace("px","");return parseInt(e)}destroy(){super.destroy(),this.toolButtons.forEach((e=>e.destroy())),this.element.parentNode.removeChild(this.element)}};class x extends t.default{constructor(e){super(),this.element=document.createElement("div"),this.element.classList.add("nj-taskbar"),this.toolbar=new w(this.element),this.buttonList=new m(this.element),e.appendChild(this.element)}addWindowButton(e){this.buttonList.addWindowButton(e)}removeWindowButton(e){this.buttonList.removeWindowButton(njWindowButton)}getToolbar(){return this.toolbar}destroy(){super.destroy(),this.buttonList.destroy(),this.toolbar.destroy(),this.element.parentElement.removeChild(this.element)}}const k=x;var E,S=new Uint8Array(16);function _(){if(!E&&!(E="undefined"!=typeof crypto&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)||"undefined"!=typeof msCrypto&&"function"==typeof msCrypto.getRandomValues&&msCrypto.getRandomValues.bind(msCrypto)))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return E(S)}const C=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i,P=function(e){return"string"==typeof e&&C.test(e)};for(var T=[],I=0;I<256;++I)T.push((I+256).toString(16).substr(1));const O=function(e,t,n){var i=(e=e||{}).random||(e.rng||_)();if(i[6]=15&i[6]|64,i[8]=63&i[8]|128,t){n=n||0;for(var r=0;r<16;++r)t[n+r]=i[r];return t}return function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=(T[e[t+0]]+T[e[t+1]]+T[e[t+2]]+T[e[t+3]]+"-"+T[e[t+4]]+T[e[t+5]]+"-"+T[e[t+6]]+T[e[t+7]]+"-"+T[e[t+8]]+T[e[t+9]]+"-"+T[e[t+10]]+T[e[t+11]]+T[e[t+12]]+T[e[t+13]]+T[e[t+14]]+T[e[t+15]]).toLowerCase();if(!P(n))throw TypeError("Stringified UUID is invalid");return n}(i)},j=class extends t.default{constructor(e,t){super(),this.element=document.createElement("button"),this.element.setAttribute("tabindex",-1),this.element.classList.add("nj-window-header-button");let n="";switch(t){case 0:n="nj-minimize";break;case 1:n="nj-maximize";break;case 3:n="nj-restore";break;case 2:n="nj-close"}n&&this.element.classList.add(n),e.appendChild(this.element),this.element.addEventListener("click",this.handleClick.bind(this))}show(){this.element.classList.remove("nj-hidden")}hide(){this.element.classList.add("nj-hidden")}handleClick(){super.triggerListeners("click")}destroy(){super.destroy(),this.element.parentNode.removeChild(this.element)}};class L extends t.default{constructor(e,t,n){super(),this.id=O(),this.state=n,this.element=document.createElement("div"),this.element.setAttribute("id",this.id),this.element.classList.add("nj-window-header-buttons"),e.appendChild(this.element),this.availableButtons=t||[0,1,2],this.buttons=this.createButtons()}createButtons(){const e=[];if(this.availableButtons.indexOf(0)>=0){const t=new j(this.element,0);t.on("click",this.minimize.bind(this)),e.push(t)}if(this.availableButtons.indexOf(1)>=0){const t=new j(this.element,1);t.on("click",this.maximize.bind(this)),e.push(t),this.maximizeButton=t;const n=new j(this.element,3);n.on("click",this.restore.bind(this)),e.push(n),this.restoreButton=n,2===this.state&&this.maximizeButton.hide(),1===this.state&&this.restoreButton.hide()}if(this.availableButtons.indexOf(2)>=0){const t=new j(this.element,2);t.on("click",this.close.bind(this)),e.push(t)}return e}minimize(){this.availableButtons.indexOf(0)<0||super.triggerListeners("minimize")}maximize(){this.availableButtons.indexOf(1)<0||(this.maximizeButton.hide(),this.restoreButton.show(),super.triggerListeners("maximize"))}restore(){this.maximizeButton.show(),this.restoreButton.hide(),super.triggerListeners("restore")}close(){super.triggerListeners("close")}updateState(e){switch(this.state=e,this.state){case 2:this.maximizeButton.hide(),this.restoreButton.show();break;case 1:this.maximizeButton.show(),this.restoreButton.hide()}}destroy(){super.destroy();for(let e in this.buttons)this.buttons[e].destroy();this.buttons=[],this.element.parentNode.removeChild(this.element),this.availableButtons=null,this.id=null}}const M=L,z=class extends t.default{constructor(e,t,n,i){super(),this.title=t,this.id=O(),this.element=document.createElement("div"),this.element.classList.add("nj-window-header"),this.element.setAttribute("id",this.id),this.titleText=document.createElement("div"),this.titleText.classList.add("nj-window-header-title"),this.titleText.addEventListener("dblclick",(()=>{if(!(n.indexOf(1)<0))return 1===this.state?(this.updateState(2),void this.maximize()):void(2===this.state&&this.restore())})),this.titleText.innerText=this.title,this.state=i,this.element.appendChild(this.titleText),this.parentElement=e,this.parentElement.appendChild(this.element),this.headerButtons=this.createHeaderButtons(n),this.headerButtons.on("minimize",this.minimize.bind(this)),this.headerButtons.on("maximize",this.maximize.bind(this)),this.headerButtons.on("restore",this.restore.bind(this)),this.headerButtons.on("close",this.close.bind(this))}setTitle(e){this.title=e,this.titleText.innerText=this.title}createHeaderButtons(e){return new M(this.element,e,this.state)}minimize(){super.triggerListeners("stateChange",0)}maximize(){super.triggerListeners("stateChange",2)}restore(){super.triggerListeners("stateChange",1)}close(){super.triggerListeners("close")}updateState(e){this.state=e,this.headerButtons.updateState(e)}destroy(){super.destroy(),this.headerButtons.destroy(),this.element.parentNode.removeChild(this.element),this.titleText=null}getComputedHeight(){const e=window.getComputedStyle(this.element).height.replace("px","");return parseInt(e)}};var D=n(496),R=n.n(D);const A=[0,1,2],B=class extends t.default{constructor(e,t,n,i,r){super(),this.rect=t,this.id=O(),this.title=n,this.element=document.createElement("div"),this.element.setAttribute("id",this.id),this.element.classList.add("nj-window"),this.element.addEventListener("mousedown",this.focus.bind(this)),this.menuContainer=document.createElement("div"),this.menuContainer.classList.add("nj-menu-container"),this.toolbarContainer=document.createElement("div"),this.toolbarContainer.classList.add("nj-toolbar-container"),this.setLeft(t.x),this.setTop(t.y),this.setWidth(t.width),this.setHeight(t.height),e.appendChild(this.element),this.visible=!0,this.changeState(i||1),this.header=this.createHeader(r||A),this.header.on("stateChange",this.headerStateChange.bind(this)),this.header.on("close",this.closeQuery.bind(this)),this.element.appendChild(this.menuContainer),this.element.appendChild(this.toolbarContainer),this.contentContainer=document.createElement("div"),this.contentContainer.classList.add("nj-window-content"),this.element.appendChild(this.contentContainer),this.toolbars=[],this.footerContainer=document.createElement("div"),this.footerContainer.classList.add("nj-footer-container"),this.footer=null,this.element.appendChild(this.footerContainer),this.initInteract(),this.on("stateChange",((e,t)=>{switch(t){case 0:this.triggerListeners("minimize");break;case 2:this.triggerListeners("maximize");break;case 1:this.triggerListeners("restore")}"".length>0&&this.triggerListeners("")}))}setMenu(e){this.menu=e,this.menu.setParent(this.menuContainer)}addClass(e){this.element.classList.add(e)}removeClass(e){this.element.classList.remove(e)}addToolbar(e){this.toolbars.push(e),this.toolbarContainer.appendChild(e.getElement())}removeToolbar(e){e.destroy(),this.toolbars=this.toolbars.filter((t=>t!==e))}setTitle(e){this.title=e,this.header.setTitle(this.title),this.triggerListeners("titleUpdated",this.title)}getTitle(){return this.title}setWidth(e){this.rect.width=e,this.element.style.width=e+"px"}width(){return this.rect.width}setHeight(e){this.rect.height=e,this.element.style.height=e+"px"}height(){return this.rect.height}setLeft(e){this.rect.x=e,this.element.style.transform=`translate(${this.rect.x}px, ${this.rect.y}px)`}setTop(e){this.rect.y=e,this.element.style.transform=`translate(${this.rect.x}px, ${this.rect.y}px)`}createHeader(e){return new z(this.element,this.title,e,this.state)}minimize(){this.headerStateChange(null,0),super.triggerListeners("stateChange",this.state)}isMinimized(){return 0===this.state}maximize(){this.changeState(2),super.triggerListeners("stateChange",this.state)}hide(){this.visible=!1,this.element.classList.add("nj-hidden"),super.triggerListeners("hide")}show(){this.visible=!0,this.element.classList.remove("nj-hidden"),super.triggerListeners("show")}setZIndex(e){this.element.style.zIndex=e}zIndex(){return this.element.style.zIndex}restore(){this.state=this.previousState,this.visible||this.show(),this.header.updateState(this.state),this.updateClasses(),super.triggerListeners("stateChange",this.state)}headerStateChange(e,t){this.changeState(t),this.header.updateState(t),super.triggerListeners("stateChange",this.state)}changeState(e){this.previousState=this.state,this.state=e,this.updateClasses(),0===this.state&&setTimeout((()=>{this.blur(),this.hide()}),200)}getState(){return this.state}async closeQuery(){const e=await super.triggerListeners("beforeClose");0!==e.length&&!0!==e[e.length-1]||this.close()}async close(){await this.triggerListeners("close"),this.destroy()}updateClasses(){switch(this.state){case 2:this.element.classList.remove("nj-minimized"),this.element.classList.add("nj-maximized");break;case 0:this.element.classList.remove("nj-maximized"),this.element.classList.add("nj-minimized");break;case 1:this.element.classList.remove("nj-maximized"),this.element.classList.remove("nj-minimized")}}focus(){this.element.classList.contains("focused")||(this.element.classList.add("focused"),this.triggerListeners("focus"))}blur(){this.element.classList.remove("focused"),this.triggerListeners("blur")}initInteract(){let e={...this.rect},t={...this.rect};R()(this.element).draggable({allowFrom:".nj-window-header",ignoreFrom:".nj-window-header .nj-window-header-buttons",modifiers:[R().modifiers.restrictRect({restriction:"parent"})],listeners:{start:()=>{e={...this.rect},this.element.classList.add("moving")},move:e=>{const t={...this.rect};this.setLeft(this.rect.x+e.dx),this.setTop(this.rect.y+e.dy),this.triggerListeners("move",{oldRect:t,rect:this.rect})},end:()=>{this.element.classList.remove("moving"),this.triggerListeners("moved",{oldRect:t,rect:this.rect})}}}).resizable({edges:{bottom:!0,right:!0},listeners:{start:()=>{t={...this.rect},this.element.classList.add("resizing")},move:e=>{const t={...this.rect};e.rect.width>=150&&this.setWidth(e.rect.width);let n=0;n+=this.header.getComputedHeight(),n+=this.menu?.getComputedHeight()??0,this.toolbars.forEach((e=>n+=e.getComputedHeight())),n+=this.footer?.getComputedHeight()??0,n+=30,n<50&&(n=50),e.rect.height>=n&&this.setHeight(e.rect.height),this.triggerListeners("resize",{oldRect:t,rect:this.rect})},end:()=>{this.element.classList.remove("resizing"),this.triggerListeners("resized",{oldRect:e,rect:this.rect})}}})}setContentElement(e){this.contentContainer.innerHTML="",this.contentContainer.appendChild(e)}setContentObject(e){"object"==typeof this.contentObject&&void 0!==this.contentObject.destroy?this.contentObject.destroy():this.contentContainer.innerHTML="",this.contentObject=e,this.contentObject.setParent(this.contentContainer)}setFooter(e){this.footer=e,this.footer.setParent(this.footerContainer)}getFooter(){return this.footer}clearFooter(){this.footer.destroy(),this.footer=null}destroy(){super.destroy(),this.header.destroy(),this.contentObject&&this.contentObject.destroy(),this.element.parentNode.removeChild(this.element)}},H=class extends t.default{constructor(){super(),this.windowList=[],this.lastPosition={x:0,y:0},this.lastZIndex=0,this.focusedWindow=null}add(e){this.windowList.push(e),e.on("focus",this.focus.bind(this)),super.triggerListeners("windowAdded",e),e.focus()}remove(e){this.windowList=this.windowList.filter((t=>t!==e)).sort(((e,t)=>e.zIndex>t.zIndex)),super.triggerListeners("windowRemoved",e),0!==this.windowList.length&&this.windowList[this.windowList.length-1].focus()}getNextPosition(){return{x:this.lastPosition.x+20,y:this.lastPosition.y+20}}setLastPosition(e){this.lastPosition={x:e.x,y:e.y}}focus(e){this.focusedWindow&&this.focusedWindow!==e&&this.focusedWindow.blur(),this.focusedWindow=e,parseInt(this.focusedWindow.zIndex())!==parseInt(this.lastZIndex)&&(this.lastZIndex+=1,this.focusedWindow.setZIndex(this.lastZIndex))}tile(e,t){if(0===this.windowList.length)return;const n=this.windowList.length;let i=Math.ceil(Math.sqrt(n)),r=Math.floor(Math.sqrt(n)),s=n%i>0,o=t/r;3===n?(i=3,r=1,s=!1):s&&(r*o===t&&(r+1)*i-n<=i&&(r+=1),o=t/r),o=t/r;let a=e/i,l=0,c=0,d=0;this.windowList.forEach((t=>{const u={...t.rect};l>e-a&&(l=0,d++,c=d*o),d+1===r&&s&&(a=e/Math.ceil(n%i)),t.setWidth(a),t.setHeight(o),t.setLeft(l),t.setTop(c),t.triggerListeners("moved",{oldRect:u,rect:t.rect}),t.triggerListeners("resized",{oldRect:u,rect:t.rect}),l+=a}))}cascade(e,t){0!==this.windowList.length&&(this.windowList.sort(((e,t)=>{const n=parseInt(e.zIndex()),i=parseInt(t.zIndex());return n===i?0:n>i?1:-1})),this.lastPosition={x:0,y:0},this.windowList.forEach((n=>{1!==n.getState()&&n.restore();const i={...n.rect};n.setLeft(this.lastPosition.x),n.setTop(this.lastPosition.y),n.setWidth(500),n.setHeight(360),this.lastZIndex++,n.setZIndex(this.lastZIndex);const r=this.getNextPosition();r.y+360>t&&(r.y=0),r.x+500>e&&(r.x=0,r.y=0),this.lastPosition=r,n.triggerListeners("moved",{oldRect:i,rect:n.rect}),n.triggerListeners("resized",{oldRect:i,rect:n.rect})})))}destroy(){super.destroy(),this.windowList=null}},$=H;class V extends t.default{constructor(e){super(),this.element=document.createElement("div"),this.element.classList.add("nj-dialog-footer"),this.actionContainer=document.createElement("div"),this.actionContainer.classList.add("nj-actions"),this.explanationContainer=document.createElement("div"),this.explanationContainer.classList.add("nj-explanation"),this.element.appendChild(this.explanationContainer),this.element.appendChild(this.actionContainer),this.actions=[],e&&e.appendChild(this.element)}setParent(e){e.appendChild(this.element)}addAction(e){this.actions.push(e),e.setParent(this.actionContainer)}getExplanationContainer(){return this.explanationContainer}getComputedHeight(){const e=window.getComputedStyle(this.element);return parseInt(e.height.replace("px",""))}destroy(){super.destroy(),this.actions.forEach((e=>e.destroy())),this.element.parentElement.removeChild(this.element)}}const W=V;class N extends t.default{constructor(e){super(),this.element=document.createElement("div"),this.element.classList.add("nj-notification-area"),this.parent=e,this.parent.appendChild(this.element),this.widgets=[]}addWidget(e){this.widgets.push(e),e.setParent(this.element)}removeWidget(e){e.destroy(),this.widgets=this.widgets.filter((t=>t!==e))}destroy(){super.destroy(),this.element.parentNode.removeChild(this.element);for(let e in this.widgets)this.widgets[e].destroy();this.widgets=[]}}const F=N,U=(e,t)=>{const n=Math.floor(e/t)*t;let i=Math.ceil(e/t)*t-1;return i<n&&(i+=t),{start:n,end:i}},Y=e=>U(e,10),q=e=>U(e,100),Z=e=>U(e,1e3),{default:X}=n(119),K="millennia",G="century",Q="decade",J="year",ee="month",te="full",ne=class extends X{constructor(e,t,n){super(),this.element=document.createElement("div"),this.element.classList.add("nj-epoch-selector");const i=n?.month??(new Date).getMonth();for(let e in t){const r=document.createElement("button");t[e].selected&&r.classList.add("selected"),r.innerText=t[e].label,r.addEventListener("click",(()=>{this.triggerListeners("input",{year:t[e].year,month:i,display:n.display,locale:n.locale})})),this.element.appendChild(r)}e.appendChild(this.element)}destroy(){super.destroy(),this.element.parentNode.removeChild(this.element)}};class ie extends t.default{constructor(e,t){if(super(),this.element=document.createElement("button"),this.element.classList.add("nj-calendar-day"),this.locale=t.locale??"en",e&&(this.parentElement=e,e.appendChild(this.element)),t.dummy)return this.element.setAttribute("disabled",!0),this.element.classList.add("dummy"),void(this.element.innerText=".");this.data=t.data;const n=new Date;n.setHours(0,0,0,0);const i=new Date(this.data.date.getTime());i.setHours(0,0,0,0),n.getTime()===i.getTime()&&this.element.classList.add("current-date");const r=document.createElement("span");r.innerText=i.getDate(),this.element.appendChild(r),this.element.addEventListener("click",this.handleClick.bind(this)),this.selected=t?.selected??!1}setSelected(e){this.selected=e,!this.selected&&this.element.classList.contains("selected")?this.element.classList.remove("selected"):this.element.classList.add("selected")}isSelected(){return this.selected}handleClick(){this.setSelected(!0),this.triggerListeners("click",{...this.data,sender:this})}destroy(){super.destroy(),this.element.removeEventListener("click",this.handleClick),this.element.parentNode.removeChild(this.element)}}const re=ie;class se extends t.default{constructor(e,t){super(),this.parentElement=e,this.year=t.year,this.month=t.month,this.locale=t.locale??"en",this.selected=t.selected??null,this.days=[],this.drawMonth()}drawMonth(){this.element&&(this.clearDays(),this.removElement()),this.createElement(),this.currentDate=new Date;const e=new Date(this.year,this.month),t=e.getDate(),n=e.getDay(),i=this.daysInMonth(this.year,this.month);for(let e=0;e<=n-1;e++){const e=document.createElement("td");this.days.push(new re(e,{dummy:!0}))}for(let e=t;e<=i;e++){const t=document.createElement("td"),n=new Date(this.year,this.month,e);n.setHours(0,0,0,0);const i=new re(t,{data:{date:n,year:this.year,month:this.month,locale:this.locale},locale:this.locale});this.selected?.getTime()===n.getTime()&&i.setSelected(!0),i.on("click",this.handleDayClick.bind(this)),this.days.push(i)}let r;for(let e=0;e<this.days.length;e++)if(r||(r=document.createElement("tr")),r.appendChild(this.days[e].parentElement),(e+1)%7==0&&(this.element.appendChild(r),r=document.createElement("tr")),e===this.days.length-1){const t=7-e%7;for(let e=0;e<t-1;e++){const e=document.createElement("td");this.days.push(new re(e,{dummy:!0})),r.appendChild(e)}this.element.appendChild(r);break}this.parentElement.appendChild(this.element)}daysInMonth(){return 32-new Date(this.year,this.month,32).getDate()}createElement(){this.element=document.createElement("table"),this.element.classList.add("nj-calendar-month");const e=document.createElement("tr");e.classList.add("day-row");for(let t=1;t<=7;t++){const n=document.createElement("th");n.innerText=(void 0,void 0,new Date("2020-03-"+t).toLocaleDateString(["en"],{weekday:"short"})),e.appendChild(n)}this.element.appendChild(e)}removElement(){this.element.parentNode.removeChild(this.element),this.element=null}handleDayClick(e,t){for(let e in this.days)this.days[e].isSelected()&&this.days[e].setSelected(!1),t.sender.setSelected(!0);this.triggerListeners("input",{...t,selected:t.date})}clearDays(){for(let e in this.days)this.days[e].off("click",this.handleDayClick),this.days[e].destroy();this.days=[]}destroy(){super.destroy(),this.clearDays(),this.removElement()}}const oe=se,{default:ae}=n(119),le=class extends ae{constructor(e,t){super(),this.element=document.createElement("div"),this.element.classList.add("nj-epoch-selector");const n=(new Date).getFullYear(),i=t?.year??n;for(let e=0;e<=11;e++){const n=new Date(i,e),r=document.createElement("button");r.innerText=n.toLocaleDateString(t.locale??"en",{month:"long"}),e===t.month&&r.classList.add("selected"),r.addEventListener("click",(()=>{this.triggerListeners("input",{year:i,month:e,display:ee,locale:t.locale})})),this.element.appendChild(r)}e.appendChild(this.element)}destroy(){super.destroy(),this.element.parentNode.removeChild(this.element)}},ce=class extends t.default{constructor(e,t){super();const n=new Date;this.year=t.year??n.getFullYear(),this.month=t.month??n.getMonth(),this.locale=t.locale??"en",this.display=t.display??te,this.element=document.createElement("div"),this.element.classList.add("nj-calendar-nav"),this.jumpMonthBack=document.createElement("button"),this.jumpMonthBack.classList.add("jump-month-back"),this.jumpMonthBack.innerText=t.monthBackText??"<",this.jumpMonthBack.addEventListener("click",this.jumpMonthBackClick.bind(this)),this.jumpMonthForward=document.createElement("button"),this.jumpMonthForward.classList.add("jump-month-forward"),this.jumpMonthForward.innerText=t.monthForwardText??">",this.jumpMonthForward.addEventListener("click",this.jumpMonthForwardClick.bind(this)),this.selectedMonthYear=document.createElement("button"),this.selectedMonthYear.classList.add("selected-month"),this.selectedMonthYear.addEventListener("click",this.selectedMonthYearClick.bind(this)),this.updateSelectedMonthYear(),this.element.appendChild(this.jumpMonthBack),this.element.appendChild(this.selectedMonthYear),this.element.appendChild(this.jumpMonthForward),e.appendChild(this.element)}updateSelectedMonthYear(){const e=new Date(this.year,this.month);switch(this.display){case K:this.selectedMonthYear.innerText="...";break;case G:const t=Z(this.year);this.selectedMonthYear.innerText=`${t.start} - ${t.end}`;break;case Q:const n=q(this.year);this.selectedMonthYear.innerText=`${n.start} - ${n.end}`;break;case J:const i=Y(this.year);this.selectedMonthYear.innerText=`${i.start} - ${i.end}`;break;case ee:this.selectedMonthYear.innerText=e.toLocaleDateString(this.locale,{year:"numeric"});break;default:this.selectedMonthYear.innerText=e.toLocaleDateString(this.locale,{year:"numeric",month:"long"})}}set(e={}){isNaN(e.year)||(this.year=e.year),!isNaN(e.month)&&e.month>=0&&e.month<=11&&(this.month=e.month),e.display&&(this.display=e.display),e.locale&&(this.locale=e.locale),e.preventUpdateEvent||this.triggerInputEvent(),this.updateSelectedMonthYear()}triggerInputEvent(){this.triggerListeners("input",{year:this.year,month:this.month,locale:this.locale,display:this.display})}jumpMonthBackClick(){switch(this.display){case K:break;case G:this.year-=1e3;break;case Q:this.year-=100;break;case J:this.year-=10;break;case ee:this.year--;break;default:0===this.month?(this.month=11,this.year-=1):this.month-=1}this.triggerInputEvent(),this.updateSelectedMonthYear()}jumpMonthForwardClick(){switch(this.display){case K:break;case G:this.year+=1e3;break;case Q:this.year+=100;break;case J:this.year+=10;break;case ee:this.year++;break;default:11===this.month?(this.month=0,this.year+=1):this.month+=1}this.triggerInputEvent(),this.updateSelectedMonthYear()}selectedMonthYearClick(){switch(this.display){case K:return;case G:this.display=K;break;case Q:this.display=G;break;case J:this.display=Q;break;case ee:this.display=J;break;case te:this.display=ee}this.updateSelectedMonthYear(),this.triggerListeners("displayStateChange",{year:this.year,month:this.month,locale:this.locale,display:this.display})}destroy(){super.destroy(),this.element.parentNode.removeChild(this.element)}};class de extends t.default{constructor(e,t){super(),this.options=Object.assign({},{locale:"en",date:new Date},t),this.element=document.createElement("div"),this.element.classList.add("nj-calendar"),this.currentDate=this.options.date,this.currentDate.setHours(0,0,0,0),this.selectedMonth=this.currentDate.getMonth(),this.selectedYear=this.currentDate.getFullYear();const n={locale:this.options.locale,year:this.selectedYear,month:this.selectedMonth,display:te};this.navigation=new ce(this.element,n),this.displayState=te,this.createSelector(n),e&&e.appendChild(this.element),this.navigation.on("input",this.navDisplayStateChange.bind(this)),this.navigation.on("displayStateChange",this.navDisplayStateChange.bind(this))}setParent(e){e.appendChild(this.element)}selectorInput(e,t){const n=this.nextState(t.display);this.navigation.set({...t,display:n,preventUpdateEvent:!0}),n===te&&(this.currentDate=t.selected??this.currentDate,this.triggerListeners("input",this.currentDate)),this.createSelector({...t,display:n})}nextState(e){switch(e){case K:return G;case G:return Q;case Q:return J;case J:return ee;default:return te}}navDisplayStateChange(e,t){this.createSelector(t)}createSelector(e){switch(this.selector&&this.destroySelector(),e.display){case K:this.selector=new ne(this.element,((e,t=1,n=2)=>{const i=Z(e),r=[];for(let e=t;e<=n;e++){const t=1e3*e,n=t+999;r.push({label:`${t} - ${n}`,year:t,selected:t===i.start})}return r})(e.year),{...e,selected:this.currentDate});break;case G:this.selector=new ne(this.element,(e=>{const t=Z(e),n=q(e),i=[];for(let e=0;e<=9;e++){const r=t.start+100*e,s=r+99;i.push({label:`${r} - ${s}`,year:r,selected:r===n.start})}return i})(e.year),{...e,selected:this.currentDate});break;case Q:this.selector=new ne(this.element,(e=>{const t=q(e),n=Y(e),i=[];for(let e=0;e<=9;e++){const r=t.start+10*e,s=r+9;i.push({label:`${r} - ${s}`,year:r,selected:r===n.start})}return i})(e.year),{...e,selected:this.currentDate});break;case J:this.selector=new ne(this.element,(e=>{const t=Y(e),n=[];for(let i=t.start;i<=t.end;i++)n.push({label:i,year:i,selected:e===i});return n})(e.year),{...e,selected:this.currentDate});break;case ee:this.selector=new le(this.element,{...e,selected:this.currentDate});break;case te:this.selector=new oe(this.element,{...e,selected:this.currentDate})}this.selector.on("input",this.selectorInput.bind(this))}destroySelector(){this.selector.off("input",this.selectorInput.bind),this.selector.destroy()}destroy(){super.destroy(),this.destroySelector(),this.element.parentNode.removeChild(this.element)}}const ue=de;class he extends t.default{constructor(e,t){super(),this.element=document.createElement("button"),this.element.classList.add("nj-dialog-action"),this.setTitle(t?.title??""),t?.click&&this.on("click",t.click),this.element.addEventListener("click",(e=>{this.triggerListeners("click",{nativeEvent:e})})),e&&e.appendChild(this.element)}setTitle(e){this.title=e,this.element.innerText=e}setParent(e){e.appendChild(this.element)}destroy(){super.destroy(),this.parentElement.removeChild(this.element)}}const pe=he;class fe extends t.default{constructor(e,t){super(),this.element=document.createElement("button"),this.element.classList.add("nj-header-button"),e.appendChild(this.element),this.textContainer=document.createElement("span"),this.element.appendChild(this.textContainer),this.columnId=t.columnId,this.sortDirection=t.sortDirection??null,this.updateClass(),this.setText(t.text),t.sort&&this.on("sort",t.sort),this.on("click",(()=>{t.click&&this.config.click(this),this.toggleSort()})),this.element.addEventListener("click",(e=>{this.triggerListeners("click",{nativeEvent:e})}))}clearSort(){this.setSort(null)}toggleSort(){"asc"===this.sortDirection?this.setSort("desc"):this.setSort("asc")}setSort(e,t=!0){this.sortDirection=e,this.updateClass(),t&&this.triggerListeners("sort",{direction:this.sortDirection,columnId:this.columnId})}setText(e){this.text=e,this.textContainer.innerText=e}updateClass(){switch(this.sortDirection){default:return this.element.classList.remove("sorted"),this.element.classList.remove("asc"),void this.element.classList.remove("desc");case"asc":this.element.classList.remove("desc");break;case"desc":this.element.classList.remove("asc")}this.sortDirection&&(this.element.classList.add(this.sortDirection),this.element.classList.add("sorted"))}destroy(){parent.destroy(),this.element.parentNode.removeChild(this.element)}}const me=fe,ge=class extends t.default{constructor(e,t){super(),this.element=document.createElement("thead"),this.row=document.createElement("tr"),this.row.classList.add("nj-listview-header"),this.element.appendChild(this.row),this.columns=[],t.columns.forEach((e=>{const n=document.createElement("th");this.row.appendChild(n);const i=new me(n,{text:e.value,columnId:e.columnId,sortDirection:e.columnId===t.sortedBy?t.sortDirection:null,click:e.click??null,sort:(t,n)=>{e.sort&&e.sort(i,n),this.columns.forEach((e=>{e!==t&&e.setSort(null,!1)})),this.sorted(n.columnId,n.direction)}});this.columns.push(i)})),t.sort&&this.on("sort",t.sort),t.sortedBy&&this.sortBy(t.sortedBy,t.sortDirection),e.appendChild(this.element),this.preventSortEvents=!1}sortBy(e,t){this.preventSortEvents=!0,this.columns.forEach((n=>{n.setSort(e,t)})),this.preventSortEvents=!1,this.sorted(e,t)}sorted(e,t){this.triggerListeners("sort",{columnId:e,direction:t})}destroy(){super.destroy(),this.columns.forEach((e=>e.destroy)),this.element.parentNode.removeChild(this.element)}},ve=ge;class ye extends t.default{constructor(e,t){super(),this.element=document.createElement("tr"),this.element.classList.add("nj-listview-item"),t.classes&&this.element.classList.add(...t.classes),this.columns=[],this.item={...t},this.item.columns.forEach((e=>{const t=document.createElement("td");e.columnElement=t,this.item.icon&&(this.item.iconColumn??"")===e.columnId&&(this.icon=document.createElement("div"),this.icon.classList.add("list-icon"),this.icon.style.backgroundImage=this.item.icon,this.textContainer=document.createElement("span"),e.columnElement.appendChild(this.icon),e.columnElement.appendChild(this.textContainer)),this.setColumnText(e,e.value,this.item),this.element.appendChild(t)})),this.element.addEventListener("click",(e=>{this.triggerListeners("click",{nativeEvent:e})})),this.element.addEventListener("dblclick",(e=>{this.triggerListeners("dblclick",{nativeEvent:e})})),e.appendChild(this.element)}setSelected(e){this.selected=e,e?this.element.classList.add("nj-selected"):this.element.classList.remove("nj-selected")}toggleSelection(){this.setSelected(!this.isSelected())}isSelected(){return this.selected}column(e){return this.item.columns.find((t=>t.columnId===e))?.value??null}setColumn(e,t){const n=this.item.columns.find((t=>t.columnId===e));n&&(n.value=t,this.setColumnText(n,t,this.item))}setColumnText(e,t,n){e.customRender?e.customRender(e,t,n):this.item.icon&&e.columnId===(this.item.iconColumn??"")?this.textContainer.innerText=t:e.columnElement.innerText=t}setParent(e){null===e&&this.element.parentElement?this.element.parentElement.removeChild(this.element):e.appendChild(this.element)}destroy(){super.destroy(),this.element.parentElement&&this.element.parentElement.removeChild(this.element)}}const be=ye,we=class extends be{constructor(e,t){super(e,t),this.treeButton=document.createElement("button"),this.treeButton.classList.add("nj-treeview-button"),this.levelDepth=document.createElement("div"),this.levelDepth.classList.add("level-depth");const n=this.element.querySelector("td:first-child");n.appendChild(this.levelDepth),n.appendChild(this.treeButton),this.treeButton.addEventListener("click",this.treeButtonClick.bind(this)),this.parent=t.parent,this.children=[],this.setExpanded(t.expanded??!1),this.setHidden(t.hidden??!1),this.element.addEventListener("dblclick",this.treeButtonClick.bind(this)),this.parentItem=null,this.element.querySelector("td:first-child").appendChild(this.levelDepth),this.updateButton()}setExpanded(e){this.expanded=e,this.expanded?this.element.classList.add("expanded"):this.element.classList.remove("expanded");for(let e in this.children)this.children[e].setHidden(!this.expanded);this.updateButton(),this.triggerListeners("expand",this.expanded)}setHidden(e){if(this.hidden=e,this.hidden?this.element.classList.add("hidden"):this.element.classList.remove("hidden"),this.isExpanded())for(let t in this.children)this.children[t].setHidden(e)}setParentItem(e){this.parentItem=e}treeButtonClick(e){e.stopPropagation(),this.setExpanded(!this.expanded)}collapse(){this.setExpanded(!1)}expand(){this.setExpanded(!0)}isExpanded(){return this.expanded}show(){this.setHidden(!1)}hide(){this.setHidden(!0)}destroy(){super.destroy()}addChild(e,t=!0){if(this.children=[...this.children,e],e.setParentItem(this),t){let t=this.children.find((e=>e.element.classList.contains("last-item")));t||(t=this),this.element.parentElement.insertBefore(e.element,t.element.nextSibling)}this.updateButton()}removeChild(e){for(let t in this.children){if(this.children[t]===e){this.children[t].destroy(),this.children=this.children.filter((t=>t!==e));break}this.children[t].removeChild(e)}this.updateButton()}getLastChild(){return this.children.length>0?null:this.children[this.children.length-1]}addClass(e){this.element.classList.add(e)}removeClass(e){this.element.classList.remove(e)}updateButton(){0===this.children.length?this.treeButton.classList.add("hidden"):this.treeButton.classList.remove("hidden"),this.treeButton.classList.remove("expanded"),this.expanded&&this.treeButton.classList.add("expanded")}destroy(){for(let e in this.children)this.children[e].destroy();super.destroy()}},xe=class extends t.default{constructor(e,t){super(),this.element=document.createElement("table"),this.element.classList.add("nj-treeview"),this.element.classList.add("nj-listview"),t.headers&&(this.header=new ve(this.element,t.headers??{})),this.bodyElement=document.createElement("tbody"),this.element.appendChild(this.bodyElement),this.items=[],this.fillItems(t.items),this.renderBranch(this.items,0,null),e&&this.setParent(e)}findSelected(e){const t=e?.children??this.items;for(let e in t){if(t[e].isSelected())return t[e];const n=this.findSelected(t[e]);if(n)return n}}selectWith(e,t=null){const n=t?.children??this.items;for(let t in n){if(e(n[t]))return this.itemClick(n[t]),void this.expandParents(n[t]);this.selectWith(e,n[t])}}expandParents(e){let t=e.parentItem;for(;t;)t.setExpanded(!0),t=t.parentItem}renderBranch(e,t,n){for(let i in e){let r="middle-item";switch(parseInt(i)){case 0:r="first-item";break;case e.length-1:r="last-item"}const s=["level-"+t,"nj-treeview-item",r];let o=!0;n&&!n.isExpanded()||(o=!1);const a={...e[i]};delete a.items;const l=new we(this.bodyElement,{...a,classes:s,parent:n,level:t,expanded:e[i].expanded??!1,hidden:o});l.on("click",this.itemClick.bind(this)),e[i].items.length>0&&this.renderBranch(e[i].items,t+1,l),n?n.addChild(l,!1):this.items.push(l)}}itemClick(e,t){const n=this.findSelected();if(n){if(n===e)return;n.setSelected(!1)}e.setSelected(!0),this.triggerListeners("input",{source:this,item:e})}addItem(e,t){let n=0;e&&(n=e.item.level+1);const i=new we(this.bodyElement,{...t,level:n,parent:e,classes:["level-"+n,"nj-treeview-item"],expanded:t.expanded??!1,hidden:!(!e||e.isExpanded())});i.on("click",this.itemClick.bind(this)),e?e.addChild(i):this.items=[...this.items,i],this.reRenderLevelOf(e)}removeItem(e){const t=e.parentItem;for(let t in this.items){if(this.items[t]===e){this.items[t].destroy(),this.items=this.items.filter((t=>t!==e));break}this.items[t].removeChild(e)}this.reRenderLevelOf(t)}reRenderLevelOf(e){let t=0;const n=e?.children??this.items;for(let e in n)n[e].removeClass("first-item"),n[e].removeClass("middle-item"),n[e].removeClass("last-item"),0===t&&n[e].addClass("first-item"),t===n.length-1&&n[e].addClass("last-item"),t>0&&t<n.length-1&&n[e].addClass("middle-item"),t++}fillItems(e){this.clear(),e&&this.renderBranch(e,0)}clear(){for(let e in this.items)this.items[e].destroy()}setParent(e){e.appendChild(this.element)}destroy(){super.destroy(),this.clear(),this.header&&this.header.destroy(),this.element.parentNode.removeChild(this.element)}},ke=xe;class Ee extends t.default{constructor(t,n){super(),this.config=n,this.element=document.createElement("table"),this.element.classList.add("nj-listview"),this.header=new ve(this.element,n.headers),this.header.on("sort",this.sort.bind(this)),this.bodyElement=document.createElement("tbody"),this.element.appendChild(this.bodyElement),this.items=[],this.fillItems(n.items),t&&t.appendChild(this.element),(n.dragDropSelect??1)&&(this.dragSelection=new e(this))}selectItemsByDrag(e){for(let t in this.items){const n=this.items[t].element.getBoundingClientRect();this.items[t].setSelected(i(n,e))}}setParent(e){e.appendChild(this.element),this.dragSelection&&this.dragSelection.attachEvents()}clear(){this.items.forEach((e=>e.destroy())),this.items=[]}fillItems(e){this.clear(),e&&e.forEach((e=>{this.addItem(e)}))}addItem(e){const t=new be(this.bodyElement,e);t.on("click",((e,t)=>{if(!t.nativeEvent.ctrlKey&&!t.nativeEvent.shiftKey){const t=this.items.filter((e=>e.isSelected()));if(1===t.length&&t[0]===e)return;this.clearSelection()}if(t.nativeEvent.shiftKey){const t=this.items.indexOf(e);for(let e=Math.min(this.lastSelectionIndex??0,t);e<=Math.max(this.lastSelectionIndex??0,t);e++)this.items[e].setSelected(!0)}else t.nativeEvent.ctrlKey?e.toggleSelection():e.setSelected(!0);this.lastSelectionIndex=this.items.indexOf(e),this.triggerListeners("onselect",this.items.filter((e=>e.isSelected())))})),t.on("dblclick",((e,t)=>{this.clearSelection(),e.setSelected(!0),this.lastSelectionIndex=this.items.indexOf(e),this.triggerListeners("input",{...t,item:e})})),this.items.push(t)}removeItem(e){e.destroy(),this.items=this.items.filter((t=>t!==e))}clearSelection(){this.items.forEach((e=>e.setSelected(!1)))}getCustomSortCompare(e){const t=this.config?.headers?.columns?.find((t=>t.columnId===e));return t?.customSortCompare??null}sort(e,t){this.bodyElement.classList.add("nj-hidden");const n=this.getCustomSortCompare(t.columnId);this.items.sort(((e,i)=>{const r=e.column(t.columnId),s=i.column(t.columnId);return n?"asc"===t.direction?n(r,s):n(s,r):r===s?0:"asc"===t.direction?r>s?1:-1:s>r?1:-1})),this.items.forEach((e=>{e.setParent(null),e.setParent(this.bodyElement)})),this.bodyElement.style.display,this.bodyElement.classList.remove("nj-hidden"),this.triggerListeners("sort",t)}destroy(){super.destroy(),this.header.destroy(),this.clear(),this.element.parentNode.removeChild(this.element)}}const Se=Ee,_e={"///root///":[{name:"files",type:"dir",size:"N/A",date:new Date("2022-12-13"),fullPath:"files"},{name:"recovery",type:"dir",size:"N/A",date:new Date("2022-12-13"),fullPath:"recovery"},{name:"system",type:"dir",size:"N/A",date:new Date("2022-12-13"),fullPath:"system"},{name:"users",type:"dir",size:"N/A",date:new Date("2022-12-13"),fullPath:"users"}],files:[{name:"downloads",type:"dir",size:"N/A",date:new Date("2022-12-13"),fullPath:"files/downloads"},{name:"music",type:"dir",size:"N/A",date:new Date("2022-12-13"),fullPath:"files/music"},{name:"videos",type:"dir",size:"N/A",date:new Date("2022-12-13"),fullPath:"files/videos"},{name:"list.txt",type:"text",size:"1572",date:new Date("2022-12-10"),fullPath:"files/lists.txt"}],"files/downloads":[{name:"various.mp3",type:"audio/mp3",size:"32458458454",date:new Date("2022-12-12"),fullPath:"files/downloads/various.mp3"},{name:"something.docx",type:"Microsoft Word 2007-2013 Document",size:"1235845658",date:new Date("2022-12-12"),fullPath:"files/downloads/something.docx"}],"files/music":[{name:"various.mp3",type:"audio/mp3",size:"3265985452214",date:new Date("2022-12-12"),fullPath:"files/music/various.mp3"},{name:"something.mp3",type:"audio/mp3",size:"1235845658",date:new Date("2022-12-12"),fullPath:"files/music/something.mp3"}],"files/videos":[{name:"various.mp4",type:"video/mp4",size:"1655656456656535",date:new Date("2022-12-12"),fullPath:"files/videos/various.mp4"},{name:"late.mp4",type:"video/mp4",size:"554345648465464646",date:new Date("2022-12-12"),fullPath:"files/videos/late.mp4"}],recovery:[],system:[{name:"drivers",type:"dir",size:"N/A",date:new Date("2022-12-12"),fullPath:"system/drivers"},{name:"objects",type:"dir",size:"N/A",date:new Date("2022-12-12"),fullPath:"system/objects"},{name:"lib",type:"dir",size:"N/A",date:new Date("2022-12-12"),fullPath:"system/lib"},{name:"registry.dat",type:".dat file",size:"254655548",date:new Date("2022-12-12"),fullPath:"system/registry.dat"}],"system/drivers":[{name:"etc",type:"dir",size:"N/A",date:new Date("2022-12-12"),fullPath:"system/drivers/etc"},{name:"cache",type:"dir",size:"N/A",date:new Date("2022-12-12"),fullPath:"system/drivers/cache"},{name:"network",type:"dir",size:"N/A",date:new Date("2022-12-12"),fullPath:"system/drivers/network"},{name:"modules",type:"dir",size:"N/A",date:new Date("2022-12-12"),fullPath:"system/drivers/modules"},{name:"config.cat",type:".cat file",size:"23566888",date:new Date("2022-12-12"),fullPath:"system/drivers/config.cat"}],"system/lib":[{name:"fs.so",type:"Shared Object",size:"2556666888",date:new Date("2022-12-12"),fullPath:"system/lib/fs.so"},{name:"ext4.so",type:"Shared Object",size:"2225555558",date:new Date("2022-12-12"),fullPath:"system/lib/ext4.so"},{name:"ntfs.so",type:"Shared Object",size:"3333665555",date:new Date("2022-12-12"),fullPath:"system/lib/ntfs.so"},{name:"fat.so",type:"Shared Object",size:"1233355555",date:new Date("2022-12-12"),fullPath:"system/lib/fat.so"},{name:"io.so",type:"Shared Object",size:"222336666558",date:new Date("2022-12-12"),fullPath:"system/lib/io.so"},{name:"network.so",type:"Shared Object",size:"42115555558",date:new Date("2022-12-12"),fullPath:"system/lib/io.so"},{name:"display.so",type:"Shared Object",size:"115555558",date:new Date("2022-12-12"),fullPath:"system/lib/display.so"}],"system/objects":[{name:"boot.img",type:"Disk image",size:"42115555558",date:new Date("2022-12-12"),fullPath:"system/objects/boot.img"},{name:"grub.img",type:"Disk image",size:"1323155533",date:new Date("2022-12-12"),fullPath:"system/objects/grub.img"},{name:"shadow",type:"file",size:"125555",date:new Date("2022-12-12"),fullPath:"system/objects/shadow"}],"system/drivers/etc":[{name:"hosts",type:"file",size:"720",date:new Date("2022-12-12"),fullPath:"system/drivers/etc"}],"system/drivers/cache":[{name:"internal",type:"dir",size:"N/A",date:new Date("2022-12-12"),fullPath:"system/drivers/cache/internal"},{name:"third-party",type:"dir",size:"N/A",date:new Date("2022-12-12"),fullPath:"system/drivers/cache/third-party"}],"system/drivers/network":[{name:"loopback",type:"file",size:"0",date:new Date("2022-12-12"),fullPath:"system/drivers/network/loopback"},{name:"wlps01",type:"file",size:"24",date:new Date("2022-12-12"),fullPath:"system/drivers/network/wlps01"}],"system/drivers/modules":[{name:"display.so",type:"Shared Object",size:"33325566988",date:new Date("2022-12-12"),fullPath:"system/drivers/modules/display.so"},{name:"x.so",type:"Shared Object",size:"2253556",date:new Date("2022-12-12"),fullPath:"system/drivers/modules/x.so"},{name:"terminal.so",type:"Shared Object",size:"11445558",date:new Date("2022-12-12"),fullPath:"system/drivers/modules/terminal.so"}],"system/drivers/cache/internal":[{name:"34343222-455b-33fe-332344444c-112222234",type:"file",size:"225554745558",date:new Date("2022-12-12"),fullPath:"system/drivers/modules/cache/internal/34343222-455b-33fe-332344444c-112222234"}],"system/drivers/cache/third-party":[{name:"34343222-455b-33fe-332344444c-112222235",type:"file",size:"10",date:new Date("2022-12-12"),fullPath:"system/drivers/cache/third-party/34343222-455b-33fe-332344444c-112222235"}],users:[{name:"34343222-455b-33fe-332344444c-225655587",type:"file",size:"0",date:new Date("2022-12-12"),fullPath:"users/34343222-455b-33fe-332344444c-225655587"},{name:"34343222-455b-33fe-332344444c-225655583",type:"file",size:"0",date:new Date("2022-12-12"),fullPath:"users/34343222-455b-33fe-332344444c-225655583"},{name:"34343222-455b-33fe-332344444c-3357777887",type:"file",size:"0",date:new Date("2022-12-12"),fullPath:"users/34343222-455b-33fe-332344444c-3357777887"}]},Ce=(e,t,n)=>{const i=["B","kiB","MiB","GiB","TiB"];let r="B",s=t,o=s+" "+r;for(let e in i){const t=s/1024;t>=1&&(s=t,r=i[e],o=s.toFixed(2)+" "+r)}e.columnElement.innerText=o},Pe=(e,t,n)=>{e.columnElement.innerText=t.toLocaleTimeString("en-CA",{year:"numeric",month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit",second:"2-digit",hour12:!1}).replace(",","")},Te=class extends t.default{constructor(e){super(),this.element=document.createElement("div"),this.element.classList.add("window-footer-pane"),this.element.addEventListener("click",(e=>{this.triggerListeners("click",{nativeEvent:e})})),e.appendChild(this.element)}setContentText(e){this.element.innerText=e}setContent(e){this.element.appendChild(e)}setContentObject(e){this.contentObject=e,this.contentObject.setParent(this.element)}destroy(){this.contentObject&&this.contentObject.destroy(),this.element.parentElement.removeChild(this.element),super.destroy()}},Ie=class extends t.default{constructor(){super(),this.element=document.createElement("div"),this.element.classList.add("nj-window-footer"),this.panes=[]}setParent(e){e.appendChild(this.element)}addPane(){const e=new Te(this.element);return this.panes.push(e),e}removePane(e){this.panes=this.panes.filter((t=>t!==e)),e.destroy()}getComputedHeight(){const e=window.getComputedStyle(this.element);return parseInt(e.height.replace("px",""))}destroy(){this.parentNode.removeChild(this.element),super.destroy()}},Oe={},je=[{columns:[{columnId:"name",value:"files"}],fullPath:"files",expanded:!0,items:[{columns:[{columnId:"name",value:"downloads"}],fullPath:"files/downloads",items:[]},{columns:[{columnId:"name",value:"music"}],fullPath:"files/music",items:[]},{columns:[{columnId:"name",value:"videos"}],fullPath:"files/videos",items:[]}]},{columns:[{columnId:"name",value:"recovery"}],fullPath:"recovery",items:[]},{columns:[{columnId:"name",value:"system"}],fullPath:"system",items:[{columns:[{columnId:"name",value:"drivers"}],fullPath:"system/drivers",items:[{columns:[{columnId:"name",value:"etc"}],fullPath:"system/drivers/etc",items:[]},{columns:[{columnId:"name",value:"cache"}],fullPath:"system/drivers/cache",items:[{columns:[{columnId:"name",value:"internal"}],fullPath:"system/drivers/cache/internal",items:[]},{columns:[{columnId:"name",value:"third-party"}],fullPath:"system/drivers/cache/third-party",items:[]}]},{columns:[{columnId:"name",value:"network"}],fullPath:"system/drivers/network",items:[]},{columns:[{columnId:"name",value:"modules"}],fullPath:"system/drivers/modules",items:[]}]},{columns:[{columnId:"name",value:"lib"}],fullPath:"system/lib",items:[]},{columns:[{columnId:"name",value:"objects"}],fullPath:"system/objects",items:[]}]},{columns:[{columnId:"name",value:"users"}],fullPath:"users",items:[]}],Le=e=>e.map((e=>({...e,icon:"url(assets/img/folder.svg)",iconColumn:"name",items:Le(e.items)}))),Me={headers:{sortedBy:"name",sortDirection:"asc",columns:[{columnId:"name",value:"Name"},{columnId:"type",value:"Type (custom comparer)",customSortCompare:(e,t)=>{const n=parseInt(e),i=parseInt(t);return n===i?0:n>i?1:-1}},{columnId:"size",value:"Size"},{columnId:"date",value:"Date"}]}},ze=class extends t.default{constructor(e){super(),this.element=document.createElement("div"),this.element.classList.add("nj-menu-item"),this.title="",this.buttonElement=document.createElement("button"),this.iconElement=document.createElement("div"),this.iconElement.classList.add("nj-menu-icon"),this.buttonTextElement=document.createElement("div"),this.buttonTextElement.classList.add("nj-menu-text"),this.buttonElement.appendChild(this.iconElement),this.buttonElement.appendChild(this.buttonTextElement),this.buttonElement.classList.add("text"),e.iconOnly&&this.buttonElement.classList.add("icon-only"),this.setTitle(e.title??""),e.icon&&this.setIcon(e.icon),e.click&&this.on("click",e.click),this.buttonElement.addEventListener("click",(e=>{this.triggerListeners("click",{nativeEvent:e})})),this.buttonElement.addEventListener("mouseenter",(()=>{setTimeout((()=>{this.element.getBoundingClientRect().top+this.childMenu.getComputedHeight()+60>document.querySelector("html").clientHeight?this.element.classList.add("low"):this.element.classList.remove("low")}),10)})),this.element.appendChild(this.buttonElement),this.childMenu=new p(this.element),this.childMenu.setParent(this.element)}setTitle(e){this.title=e,this.buttonTextElement.innerText=e,this.buttonElement.setAttribute("title",e)}setIcon(e){this.iconElement.style.backgroundImage=e,e?this.buttonElement.classList.remove("text"):this.buttonElement.classList.add("text")}addItem(e){this.childMenu.addItem(e),this.updateClasses()}removeItem(e){this.childMenu.removeItem(e),this.updateClasses()}updateClasses(){this.childMenu.has()?this.element.classList.add("has-children"):this.element.classList.remove("has-children")}getElement(){return this.element}setParent(e){e.appendChild(this.element)}destroy(){super.destroy(),this.items.forEach((e=>e.destroy())),this.element.parentElement.removeChild(this.element)}},De=ze,Re=[{columns:[{columnId:"name",value:"Lvl1 item 1"}],expanded:!0,items:[{columns:[{columnId:"name",value:"Lvl2 item 1"}],items:[]},{columns:[{columnId:"name",value:"Lvl2 item 2"}],items:[]},{columns:[{columnId:"name",value:"Lvl2 item 3"}],items:[]}]},{columns:[{columnId:"name",value:"Lvl1 item 2"}],items:[]},{columns:[{columnId:"name",value:"Lvl1 item 3"}],items:[{columns:[{columnId:"name",value:"Lvl2 item 1"}],items:[{columns:[{columnId:"name",value:"Lvl2 item 1"}],items:[]},{columns:[{columnId:"name",value:"Lvl3 item 2"}],items:[{columns:[{columnId:"name",value:"Lvl4 item 1"}],items:[]},{columns:[{columnId:"name",value:"Lvl2 item 2"}],items:[]}]},{columns:[{columnId:"name",value:"Lvl3 item 3"}],items:[]},{columns:[{columnId:"name",value:"Lvl3 item 4"}],items:[]}]},{columns:[{columnId:"name",value:"Lvl2 item 2"}],items:[]},{columns:[{columnId:"name",value:"Lvl2 item 3"}],items:[]}]},{columns:[{columnId:"name",value:"Lvl1 item 4"}],items:[]}];class Ae extends t.default{constructor(e){super(),this.options=Object.assign({},{locale:"en"},e),this.element=document.createElement("div"),this.element.classList.add("nj-notification-widget"),this.updateTime(),this.interval=setInterval(this.updateTime.bind(this),1e3),this.element.addEventListener("click",(()=>{this.triggerListeners("click",{sender:this})}))}updateTime(){const e=new Date;this.element.innerText=e.toLocaleTimeString([this.options.locale],{hour:"2-digit",minute:"2-digit",second:"2-digit"}),this.element.title=e.toLocaleDateString([this.options.locale],{weekday:"long",year:"numeric",month:"long",day:"numeric"})}setParent(e){e.appendChild(this.element)}destroy(){super.destroy(),clearInterval(this.interval),this.element.parentNode.removeChild()}}const Be=Ae;let He={async:!1,baseUrl:null,breaks:!1,extensions:null,gfm:!0,headerIds:!0,headerPrefix:"",highlight:null,hooks:null,langPrefix:"language-",mangle:!0,pedantic:!1,renderer:null,sanitize:!1,sanitizer:null,silent:!1,smartypants:!1,tokenizer:null,walkTokens:null,xhtml:!1};const $e=/[&<>"']/,Ve=new RegExp($e.source,"g"),We=/[<>"']|&(?!(#\d{1,7}|#[Xx][a-fA-F0-9]{1,6}|\w+);)/,Ne=new RegExp(We.source,"g"),Fe={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"},Ue=e=>Fe[e];function Ye(e,t){if(t){if($e.test(e))return e.replace(Ve,Ue)}else if(We.test(e))return e.replace(Ne,Ue);return e}const qe=/&(#(?:\d+)|(?:#x[0-9A-Fa-f]+)|(?:\w+));?/gi;function Ze(e){return e.replace(qe,((e,t)=>"colon"===(t=t.toLowerCase())?":":"#"===t.charAt(0)?"x"===t.charAt(1)?String.fromCharCode(parseInt(t.substring(2),16)):String.fromCharCode(+t.substring(1)):""))}const Xe=/(^|[^\[])\^/g;function Ke(e,t){e="string"==typeof e?e:e.source,t=t||"";const n={replace:(t,i)=>(i=(i=i.source||i).replace(Xe,"$1"),e=e.replace(t,i),n),getRegex:()=>new RegExp(e,t)};return n}const Ge=/[^\w:]/g,Qe=/^$|^[a-z][a-z0-9+.-]*:|^[?#]/i;function Je(e,t,n){if(e){let e;try{e=decodeURIComponent(Ze(n)).replace(Ge,"").toLowerCase()}catch(e){return null}if(0===e.indexOf("javascript:")||0===e.indexOf("vbscript:")||0===e.indexOf("data:"))return null}t&&!Qe.test(n)&&(n=function(e,t){et[" "+e]||(tt.test(e)?et[" "+e]=e+"/":et[" "+e]=ot(e,"/",!0));const n=-1===(e=et[" "+e]).indexOf(":");return"//"===t.substring(0,2)?n?t:e.replace(nt,"$1")+t:"/"===t.charAt(0)?n?t:e.replace(it,"$1")+t:e+t}(t,n));try{n=encodeURI(n).replace(/%25/g,"%")}catch(e){return null}return n}const et={},tt=/^[^:]+:\/*[^/]*$/,nt=/^([^:]+:)[\s\S]*$/,it=/^([^:]+:\/*[^/]*)[\s\S]*$/,rt={exec:function(){}};function st(e,t){const n=e.replace(/\|/g,((e,t,n)=>{let i=!1,r=t;for(;--r>=0&&"\\"===n[r];)i=!i;return i?"|":" |"})).split(/ \|/);let i=0;if(n[0].trim()||n.shift(),n.length>0&&!n[n.length-1].trim()&&n.pop(),n.length>t)n.splice(t);else for(;n.length<t;)n.push("");for(;i<n.length;i++)n[i]=n[i].trim().replace(/\\\|/g,"|");return n}function ot(e,t,n){const i=e.length;if(0===i)return"";let r=0;for(;r<i;){const s=e.charAt(i-r-1);if(s!==t||n){if(s===t||!n)break;r++}else r++}return e.slice(0,i-r)}function at(e,t){if(t<1)return"";let n="";for(;t>1;)1&t&&(n+=e),t>>=1,e+=e;return n+e}function lt(e,t,n,i){const r=t.href,s=t.title?Ye(t.title):null,o=e[1].replace(/\\([\[\]])/g,"$1");if("!"!==e[0].charAt(0)){i.state.inLink=!0;const e={type:"link",raw:n,href:r,title:s,text:o,tokens:i.inlineTokens(o)};return i.state.inLink=!1,e}return{type:"image",raw:n,href:r,title:s,text:Ye(o)}}class ct{constructor(e){this.options=e||He}space(e){const t=this.rules.block.newline.exec(e);if(t&&t[0].length>0)return{type:"space",raw:t[0]}}code(e){const t=this.rules.block.code.exec(e);if(t){const e=t[0].replace(/^ {1,4}/gm,"");return{type:"code",raw:t[0],codeBlockStyle:"indented",text:this.options.pedantic?e:ot(e,"\n")}}}fences(e){const t=this.rules.block.fences.exec(e);if(t){const e=t[0],n=function(e,t){const n=e.match(/^(\s+)(?:```)/);if(null===n)return t;const i=n[1];return t.split("\n").map((e=>{const t=e.match(/^\s+/);if(null===t)return e;const[n]=t;return n.length>=i.length?e.slice(i.length):e})).join("\n")}(e,t[3]||"");return{type:"code",raw:e,lang:t[2]?t[2].trim().replace(this.rules.inline._escapes,"$1"):t[2],text:n}}}heading(e){const t=this.rules.block.heading.exec(e);if(t){let e=t[2].trim();if(/#$/.test(e)){const t=ot(e,"#");this.options.pedantic?e=t.trim():t&&!/ $/.test(t)||(e=t.trim())}return{type:"heading",raw:t[0],depth:t[1].length,text:e,tokens:this.lexer.inline(e)}}}hr(e){const t=this.rules.block.hr.exec(e);if(t)return{type:"hr",raw:t[0]}}blockquote(e){const t=this.rules.block.blockquote.exec(e);if(t){const e=t[0].replace(/^ *>[ \t]?/gm,""),n=this.lexer.state.top;this.lexer.state.top=!0;const i=this.lexer.blockTokens(e);return this.lexer.state.top=n,{type:"blockquote",raw:t[0],tokens:i,text:e}}}list(e){let t=this.rules.block.list.exec(e);if(t){let n,i,r,s,o,a,l,c,d,u,h,p,f=t[1].trim();const m=f.length>1,g={type:"list",raw:"",ordered:m,start:m?+f.slice(0,-1):"",loose:!1,items:[]};f=m?`\\d{1,9}\\${f.slice(-1)}`:`\\${f}`,this.options.pedantic&&(f=m?f:"[*+-]");const v=new RegExp(`^( {0,3}${f})((?:[\t ][^\\n]*)?(?:\\n|$))`);for(;e&&(p=!1,t=v.exec(e))&&!this.rules.block.hr.test(e);){if(n=t[0],e=e.substring(n.length),c=t[2].split("\n",1)[0].replace(/^\t+/,(e=>" ".repeat(3*e.length))),d=e.split("\n",1)[0],this.options.pedantic?(s=2,h=c.trimLeft()):(s=t[2].search(/[^ ]/),s=s>4?1:s,h=c.slice(s),s+=t[1].length),a=!1,!c&&/^ *$/.test(d)&&(n+=d+"\n",e=e.substring(d.length+1),p=!0),!p){const t=new RegExp(`^ {0,${Math.min(3,s-1)}}(?:[*+-]|\\d{1,9}[.)])((?:[ \t][^\\n]*)?(?:\\n|$))`),i=new RegExp(`^ {0,${Math.min(3,s-1)}}((?:- *){3,}|(?:_ *){3,}|(?:\\* *){3,})(?:\\n+|$)`),r=new RegExp(`^ {0,${Math.min(3,s-1)}}(?:\`\`\`|~~~)`),o=new RegExp(`^ {0,${Math.min(3,s-1)}}#`);for(;e&&(u=e.split("\n",1)[0],d=u,this.options.pedantic&&(d=d.replace(/^ {1,4}(?=( {4})*[^ ])/g,"  ")),!r.test(d))&&!o.test(d)&&!t.test(d)&&!i.test(e);){if(d.search(/[^ ]/)>=s||!d.trim())h+="\n"+d.slice(s);else{if(a)break;if(c.search(/[^ ]/)>=4)break;if(r.test(c))break;if(o.test(c))break;if(i.test(c))break;h+="\n"+d}a||d.trim()||(a=!0),n+=u+"\n",e=e.substring(u.length+1),c=d.slice(s)}}g.loose||(l?g.loose=!0:/\n *\n *$/.test(n)&&(l=!0)),this.options.gfm&&(i=/^\[[ xX]\] /.exec(h),i&&(r="[ ] "!==i[0],h=h.replace(/^\[[ xX]\] +/,""))),g.items.push({type:"list_item",raw:n,task:!!i,checked:r,loose:!1,text:h}),g.raw+=n}g.items[g.items.length-1].raw=n.trimRight(),g.items[g.items.length-1].text=h.trimRight(),g.raw=g.raw.trimRight();const y=g.items.length;for(o=0;o<y;o++)if(this.lexer.state.top=!1,g.items[o].tokens=this.lexer.blockTokens(g.items[o].text,[]),!g.loose){const e=g.items[o].tokens.filter((e=>"space"===e.type)),t=e.length>0&&e.some((e=>/\n.*\n/.test(e.raw)));g.loose=t}if(g.loose)for(o=0;o<y;o++)g.items[o].loose=!0;return g}}html(e){const t=this.rules.block.html.exec(e);if(t){const e={type:"html",block:!0,raw:t[0],pre:!this.options.sanitizer&&("pre"===t[1]||"script"===t[1]||"style"===t[1]),text:t[0]};if(this.options.sanitize){const n=this.options.sanitizer?this.options.sanitizer(t[0]):Ye(t[0]);e.type="paragraph",e.text=n,e.tokens=this.lexer.inline(n)}return e}}def(e){const t=this.rules.block.def.exec(e);if(t){const e=t[1].toLowerCase().replace(/\s+/g," "),n=t[2]?t[2].replace(/^<(.*)>$/,"$1").replace(this.rules.inline._escapes,"$1"):"",i=t[3]?t[3].substring(1,t[3].length-1).replace(this.rules.inline._escapes,"$1"):t[3];return{type:"def",tag:e,raw:t[0],href:n,title:i}}}table(e){const t=this.rules.block.table.exec(e);if(t){const e={type:"table",header:st(t[1]).map((e=>({text:e}))),align:t[2].replace(/^ *|\| *$/g,"").split(/ *\| */),rows:t[3]&&t[3].trim()?t[3].replace(/\n[ \t]*$/,"").split("\n"):[]};if(e.header.length===e.align.length){e.raw=t[0];let n,i,r,s,o=e.align.length;for(n=0;n<o;n++)/^ *-+: *$/.test(e.align[n])?e.align[n]="right":/^ *:-+: *$/.test(e.align[n])?e.align[n]="center":/^ *:-+ *$/.test(e.align[n])?e.align[n]="left":e.align[n]=null;for(o=e.rows.length,n=0;n<o;n++)e.rows[n]=st(e.rows[n],e.header.length).map((e=>({text:e})));for(o=e.header.length,i=0;i<o;i++)e.header[i].tokens=this.lexer.inline(e.header[i].text);for(o=e.rows.length,i=0;i<o;i++)for(s=e.rows[i],r=0;r<s.length;r++)s[r].tokens=this.lexer.inline(s[r].text);return e}}}lheading(e){const t=this.rules.block.lheading.exec(e);if(t)return{type:"heading",raw:t[0],depth:"="===t[2].charAt(0)?1:2,text:t[1],tokens:this.lexer.inline(t[1])}}paragraph(e){const t=this.rules.block.paragraph.exec(e);if(t){const e="\n"===t[1].charAt(t[1].length-1)?t[1].slice(0,-1):t[1];return{type:"paragraph",raw:t[0],text:e,tokens:this.lexer.inline(e)}}}text(e){const t=this.rules.block.text.exec(e);if(t)return{type:"text",raw:t[0],text:t[0],tokens:this.lexer.inline(t[0])}}escape(e){const t=this.rules.inline.escape.exec(e);if(t)return{type:"escape",raw:t[0],text:Ye(t[1])}}tag(e){const t=this.rules.inline.tag.exec(e);if(t)return!this.lexer.state.inLink&&/^<a /i.test(t[0])?this.lexer.state.inLink=!0:this.lexer.state.inLink&&/^<\/a>/i.test(t[0])&&(this.lexer.state.inLink=!1),!this.lexer.state.inRawBlock&&/^<(pre|code|kbd|script)(\s|>)/i.test(t[0])?this.lexer.state.inRawBlock=!0:this.lexer.state.inRawBlock&&/^<\/(pre|code|kbd|script)(\s|>)/i.test(t[0])&&(this.lexer.state.inRawBlock=!1),{type:this.options.sanitize?"text":"html",raw:t[0],inLink:this.lexer.state.inLink,inRawBlock:this.lexer.state.inRawBlock,block:!1,text:this.options.sanitize?this.options.sanitizer?this.options.sanitizer(t[0]):Ye(t[0]):t[0]}}link(e){const t=this.rules.inline.link.exec(e);if(t){const e=t[2].trim();if(!this.options.pedantic&&/^</.test(e)){if(!/>$/.test(e))return;const t=ot(e.slice(0,-1),"\\");if((e.length-t.length)%2==0)return}else{const e=function(e,t){if(-1===e.indexOf(t[1]))return-1;const n=e.length;let i=0,r=0;for(;r<n;r++)if("\\"===e[r])r++;else if(e[r]===t[0])i++;else if(e[r]===t[1]&&(i--,i<0))return r;return-1}(t[2],"()");if(e>-1){const n=(0===t[0].indexOf("!")?5:4)+t[1].length+e;t[2]=t[2].substring(0,e),t[0]=t[0].substring(0,n).trim(),t[3]=""}}let n=t[2],i="";if(this.options.pedantic){const e=/^([^'"]*[^\s])\s+(['"])(.*)\2/.exec(n);e&&(n=e[1],i=e[3])}else i=t[3]?t[3].slice(1,-1):"";return n=n.trim(),/^</.test(n)&&(n=this.options.pedantic&&!/>$/.test(e)?n.slice(1):n.slice(1,-1)),lt(t,{href:n?n.replace(this.rules.inline._escapes,"$1"):n,title:i?i.replace(this.rules.inline._escapes,"$1"):i},t[0],this.lexer)}}reflink(e,t){let n;if((n=this.rules.inline.reflink.exec(e))||(n=this.rules.inline.nolink.exec(e))){let e=(n[2]||n[1]).replace(/\s+/g," ");if(e=t[e.toLowerCase()],!e){const e=n[0].charAt(0);return{type:"text",raw:e,text:e}}return lt(n,e,n[0],this.lexer)}}emStrong(e,t,n=""){let i=this.rules.inline.emStrong.lDelim.exec(e);if(!i)return;if(i[3]&&n.match(/[\p{L}\p{N}]/u))return;const r=i[1]||i[2]||"";if(!r||r&&(""===n||this.rules.inline.punctuation.exec(n))){const n=i[0].length-1;let r,s,o=n,a=0;const l="*"===i[0][0]?this.rules.inline.emStrong.rDelimAst:this.rules.inline.emStrong.rDelimUnd;for(l.lastIndex=0,t=t.slice(-1*e.length+n);null!=(i=l.exec(t));){if(r=i[1]||i[2]||i[3]||i[4]||i[5]||i[6],!r)continue;if(s=r.length,i[3]||i[4]){o+=s;continue}if((i[5]||i[6])&&n%3&&!((n+s)%3)){a+=s;continue}if(o-=s,o>0)continue;s=Math.min(s,s+o+a);const t=e.slice(0,n+i.index+(i[0].length-r.length)+s);if(Math.min(n,s)%2){const e=t.slice(1,-1);return{type:"em",raw:t,text:e,tokens:this.lexer.inlineTokens(e)}}const l=t.slice(2,-2);return{type:"strong",raw:t,text:l,tokens:this.lexer.inlineTokens(l)}}}}codespan(e){const t=this.rules.inline.code.exec(e);if(t){let e=t[2].replace(/\n/g," ");const n=/[^ ]/.test(e),i=/^ /.test(e)&&/ $/.test(e);return n&&i&&(e=e.substring(1,e.length-1)),e=Ye(e,!0),{type:"codespan",raw:t[0],text:e}}}br(e){const t=this.rules.inline.br.exec(e);if(t)return{type:"br",raw:t[0]}}del(e){const t=this.rules.inline.del.exec(e);if(t)return{type:"del",raw:t[0],text:t[2],tokens:this.lexer.inlineTokens(t[2])}}autolink(e,t){const n=this.rules.inline.autolink.exec(e);if(n){let e,i;return"@"===n[2]?(e=Ye(this.options.mangle?t(n[1]):n[1]),i="mailto:"+e):(e=Ye(n[1]),i=e),{type:"link",raw:n[0],text:e,href:i,tokens:[{type:"text",raw:e,text:e}]}}}url(e,t){let n;if(n=this.rules.inline.url.exec(e)){let e,i;if("@"===n[2])e=Ye(this.options.mangle?t(n[0]):n[0]),i="mailto:"+e;else{let t;do{t=n[0],n[0]=this.rules.inline._backpedal.exec(n[0])[0]}while(t!==n[0]);e=Ye(n[0]),i="www."===n[1]?"http://"+n[0]:n[0]}return{type:"link",raw:n[0],text:e,href:i,tokens:[{type:"text",raw:e,text:e}]}}}inlineText(e,t){const n=this.rules.inline.text.exec(e);if(n){let e;return e=this.lexer.state.inRawBlock?this.options.sanitize?this.options.sanitizer?this.options.sanitizer(n[0]):Ye(n[0]):n[0]:Ye(this.options.smartypants?t(n[0]):n[0]),{type:"text",raw:n[0],text:e}}}}const dt={newline:/^(?: *(?:\n|$))+/,code:/^( {4}[^\n]+(?:\n(?: *(?:\n|$))*)?)+/,fences:/^ {0,3}(`{3,}(?=[^`\n]*(?:\n|$))|~{3,})([^\n]*)(?:\n|$)(?:|([\s\S]*?)(?:\n|$))(?: {0,3}\1[~`]* *(?=\n|$)|$)/,hr:/^ {0,3}((?:-[\t ]*){3,}|(?:_[ \t]*){3,}|(?:\*[ \t]*){3,})(?:\n+|$)/,heading:/^ {0,3}(#{1,6})(?=\s|$)(.*)(?:\n+|$)/,blockquote:/^( {0,3}> ?(paragraph|[^\n]*)(?:\n|$))+/,list:/^( {0,3}bull)([ \t][^\n]+?)?(?:\n|$)/,html:"^ {0,3}(?:<(script|pre|style|textarea)[\\s>][\\s\\S]*?(?:</\\1>[^\\n]*\\n+|$)|comment[^\\n]*(\\n+|$)|<\\?[\\s\\S]*?(?:\\?>\\n*|$)|<![A-Z][\\s\\S]*?(?:>\\n*|$)|<!\\[CDATA\\[[\\s\\S]*?(?:\\]\\]>\\n*|$)|</?(tag)(?: +|\\n|/?>)[\\s\\S]*?(?:(?:\\n *)+\\n|$)|<(?!script|pre|style|textarea)([a-z][\\w-]*)(?:attribute)*? */?>(?=[ \\t]*(?:\\n|$))[\\s\\S]*?(?:(?:\\n *)+\\n|$)|</(?!script|pre|style|textarea)[a-z][\\w-]*\\s*>(?=[ \\t]*(?:\\n|$))[\\s\\S]*?(?:(?:\\n *)+\\n|$))",def:/^ {0,3}\[(label)\]: *(?:\n *)?([^<\s][^\s]*|<.*?>)(?:(?: +(?:\n *)?| *\n *)(title))? *(?:\n+|$)/,table:rt,lheading:/^((?:.|\n(?!\n))+?)\n {0,3}(=+|-+) *(?:\n+|$)/,_paragraph:/^([^\n]+(?:\n(?!hr|heading|lheading|blockquote|fences|list|html|table| +\n)[^\n]+)*)/,text:/^[^\n]+/,_label:/(?!\s*\])(?:\\.|[^\[\]\\])+/,_title:/(?:"(?:\\"?|[^"\\])*"|'[^'\n]*(?:\n[^'\n]+)*\n?'|\([^()]*\))/};dt.def=Ke(dt.def).replace("label",dt._label).replace("title",dt._title).getRegex(),dt.bullet=/(?:[*+-]|\d{1,9}[.)])/,dt.listItemStart=Ke(/^( *)(bull) */).replace("bull",dt.bullet).getRegex(),dt.list=Ke(dt.list).replace(/bull/g,dt.bullet).replace("hr","\\n+(?=\\1?(?:(?:- *){3,}|(?:_ *){3,}|(?:\\* *){3,})(?:\\n+|$))").replace("def","\\n+(?="+dt.def.source+")").getRegex(),dt._tag="address|article|aside|base|basefont|blockquote|body|caption|center|col|colgroup|dd|details|dialog|dir|div|dl|dt|fieldset|figcaption|figure|footer|form|frame|frameset|h[1-6]|head|header|hr|html|iframe|legend|li|link|main|menu|menuitem|meta|nav|noframes|ol|optgroup|option|p|param|section|source|summary|table|tbody|td|tfoot|th|thead|title|tr|track|ul",dt._comment=/<!--(?!-?>)[\s\S]*?(?:-->|$)/,dt.html=Ke(dt.html,"i").replace("comment",dt._comment).replace("tag",dt._tag).replace("attribute",/ +[a-zA-Z:_][\w.:-]*(?: *= *"[^"\n]*"| *= *'[^'\n]*'| *= *[^\s"'=<>`]+)?/).getRegex(),dt.paragraph=Ke(dt._paragraph).replace("hr",dt.hr).replace("heading"," {0,3}#{1,6} ").replace("|lheading","").replace("|table","").replace("blockquote"," {0,3}>").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|textarea|!--)").replace("tag",dt._tag).getRegex(),dt.blockquote=Ke(dt.blockquote).replace("paragraph",dt.paragraph).getRegex(),dt.normal={...dt},dt.gfm={...dt.normal,table:"^ *([^\\n ].*\\|.*)\\n {0,3}(?:\\| *)?(:?-+:? *(?:\\| *:?-+:? *)*)(?:\\| *)?(?:\\n((?:(?! *\\n|hr|heading|blockquote|code|fences|list|html).*(?:\\n|$))*)\\n*|$)"},dt.gfm.table=Ke(dt.gfm.table).replace("hr",dt.hr).replace("heading"," {0,3}#{1,6} ").replace("blockquote"," {0,3}>").replace("code"," {4}[^\\n]").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|textarea|!--)").replace("tag",dt._tag).getRegex(),dt.gfm.paragraph=Ke(dt._paragraph).replace("hr",dt.hr).replace("heading"," {0,3}#{1,6} ").replace("|lheading","").replace("table",dt.gfm.table).replace("blockquote"," {0,3}>").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|textarea|!--)").replace("tag",dt._tag).getRegex(),dt.pedantic={...dt.normal,html:Ke("^ *(?:comment *(?:\\n|\\s*$)|<(tag)[\\s\\S]+?</\\1> *(?:\\n{2,}|\\s*$)|<tag(?:\"[^\"]*\"|'[^']*'|\\s[^'\"/>\\s]*)*?/?> *(?:\\n{2,}|\\s*$))").replace("comment",dt._comment).replace(/tag/g,"(?!(?:a|em|strong|small|s|cite|q|dfn|abbr|data|time|code|var|samp|kbd|sub|sup|i|b|u|mark|ruby|rt|rp|bdi|bdo|span|br|wbr|ins|del|img)\\b)\\w+(?!:|[^\\w\\s@]*@)\\b").getRegex(),def:/^ *\[([^\]]+)\]: *<?([^\s>]+)>?(?: +(["(][^\n]+[")]))? *(?:\n+|$)/,heading:/^(#{1,6})(.*)(?:\n+|$)/,fences:rt,lheading:/^(.+?)\n {0,3}(=+|-+) *(?:\n+|$)/,paragraph:Ke(dt.normal._paragraph).replace("hr",dt.hr).replace("heading"," *#{1,6} *[^\n]").replace("lheading",dt.lheading).replace("blockquote"," {0,3}>").replace("|fences","").replace("|list","").replace("|html","").getRegex()};const ut={escape:/^\\([!"#$%&'()*+,\-./:;<=>?@\[\]\\^_`{|}~])/,autolink:/^<(scheme:[^\s\x00-\x1f<>]*|email)>/,url:rt,tag:"^comment|^</[a-zA-Z][\\w:-]*\\s*>|^<[a-zA-Z][\\w-]*(?:attribute)*?\\s*/?>|^<\\?[\\s\\S]*?\\?>|^<![a-zA-Z]+\\s[\\s\\S]*?>|^<!\\[CDATA\\[[\\s\\S]*?\\]\\]>",link:/^!?\[(label)\]\(\s*(href)(?:\s+(title))?\s*\)/,reflink:/^!?\[(label)\]\[(ref)\]/,nolink:/^!?\[(ref)\](?:\[\])?/,reflinkSearch:"reflink|nolink(?!\\()",emStrong:{lDelim:/^(?:\*+(?:([punct_])|[^\s*]))|^_+(?:([punct*])|([^\s_]))/,rDelimAst:/^(?:[^_*\\]|\\.)*?\_\_(?:[^_*\\]|\\.)*?\*(?:[^_*\\]|\\.)*?(?=\_\_)|(?:[^*\\]|\\.)+(?=[^*])|[punct_](\*+)(?=[\s]|$)|(?:[^punct*_\s\\]|\\.)(\*+)(?=[punct_\s]|$)|[punct_\s](\*+)(?=[^punct*_\s])|[\s](\*+)(?=[punct_])|[punct_](\*+)(?=[punct_])|(?:[^punct*_\s\\]|\\.)(\*+)(?=[^punct*_\s])/,rDelimUnd:/^(?:[^_*\\]|\\.)*?\*\*(?:[^_*\\]|\\.)*?\_(?:[^_*\\]|\\.)*?(?=\*\*)|(?:[^_\\]|\\.)+(?=[^_])|[punct*](\_+)(?=[\s]|$)|(?:[^punct*_\s\\]|\\.)(\_+)(?=[punct*\s]|$)|[punct*\s](\_+)(?=[^punct*_\s])|[\s](\_+)(?=[punct*])|[punct*](\_+)(?=[punct*])/},code:/^(`+)([^`]|[^`][\s\S]*?[^`])\1(?!`)/,br:/^( {2,}|\\)\n(?!\s*$)/,del:rt,text:/^(`+|[^`])(?:(?= {2,}\n)|[\s\S]*?(?:(?=[\\<!\[`*_]|\b_|$)|[^ ](?= {2,}\n)))/,punctuation:/^([\spunctuation])/};function ht(e){return e.replace(/---/g,"").replace(/--/g,"").replace(/(^|[-\u2014/(\[{"\s])'/g,"$1").replace(/'/g,"").replace(/(^|[-\u2014/(\[{\u2018\s])"/g,"$1").replace(/"/g,"").replace(/\.{3}/g,"")}function pt(e){let t,n,i="";const r=e.length;for(t=0;t<r;t++)n=e.charCodeAt(t),Math.random()>.5&&(n="x"+n.toString(16)),i+="&#"+n+";";return i}ut._punctuation="!\"#$%&'()+\\-.,/:;<=>?@\\[\\]`^{|}~",ut.punctuation=Ke(ut.punctuation).replace(/punctuation/g,ut._punctuation).getRegex(),ut.blockSkip=/\[[^[\]]*?\]\([^\(\)]*?\)|`[^`]*?`|<[^<>]*?>/g,ut.escapedEmSt=/(?:^|[^\\])(?:\\\\)*\\[*_]/g,ut._comment=Ke(dt._comment).replace("(?:--\x3e|$)","--\x3e").getRegex(),ut.emStrong.lDelim=Ke(ut.emStrong.lDelim).replace(/punct/g,ut._punctuation).getRegex(),ut.emStrong.rDelimAst=Ke(ut.emStrong.rDelimAst,"g").replace(/punct/g,ut._punctuation).getRegex(),ut.emStrong.rDelimUnd=Ke(ut.emStrong.rDelimUnd,"g").replace(/punct/g,ut._punctuation).getRegex(),ut._escapes=/\\([!"#$%&'()*+,\-./:;<=>?@\[\]\\^_`{|}~])/g,ut._scheme=/[a-zA-Z][a-zA-Z0-9+.-]{1,31}/,ut._email=/[a-zA-Z0-9.!#$%&'*+/=?^_`{|}~-]+(@)[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)+(?![-_])/,ut.autolink=Ke(ut.autolink).replace("scheme",ut._scheme).replace("email",ut._email).getRegex(),ut._attribute=/\s+[a-zA-Z:_][\w.:-]*(?:\s*=\s*"[^"]*"|\s*=\s*'[^']*'|\s*=\s*[^\s"'=<>`]+)?/,ut.tag=Ke(ut.tag).replace("comment",ut._comment).replace("attribute",ut._attribute).getRegex(),ut._label=/(?:\[(?:\\.|[^\[\]\\])*\]|\\.|`[^`]*`|[^\[\]\\`])*?/,ut._href=/<(?:\\.|[^\n<>\\])+>|[^\s\x00-\x1f]*/,ut._title=/"(?:\\"?|[^"\\])*"|'(?:\\'?|[^'\\])*'|\((?:\\\)?|[^)\\])*\)/,ut.link=Ke(ut.link).replace("label",ut._label).replace("href",ut._href).replace("title",ut._title).getRegex(),ut.reflink=Ke(ut.reflink).replace("label",ut._label).replace("ref",dt._label).getRegex(),ut.nolink=Ke(ut.nolink).replace("ref",dt._label).getRegex(),ut.reflinkSearch=Ke(ut.reflinkSearch,"g").replace("reflink",ut.reflink).replace("nolink",ut.nolink).getRegex(),ut.normal={...ut},ut.pedantic={...ut.normal,strong:{start:/^__|\*\*/,middle:/^__(?=\S)([\s\S]*?\S)__(?!_)|^\*\*(?=\S)([\s\S]*?\S)\*\*(?!\*)/,endAst:/\*\*(?!\*)/g,endUnd:/__(?!_)/g},em:{start:/^_|\*/,middle:/^()\*(?=\S)([\s\S]*?\S)\*(?!\*)|^_(?=\S)([\s\S]*?\S)_(?!_)/,endAst:/\*(?!\*)/g,endUnd:/_(?!_)/g},link:Ke(/^!?\[(label)\]\((.*?)\)/).replace("label",ut._label).getRegex(),reflink:Ke(/^!?\[(label)\]\s*\[([^\]]*)\]/).replace("label",ut._label).getRegex()},ut.gfm={...ut.normal,escape:Ke(ut.escape).replace("])","~|])").getRegex(),_extended_email:/[A-Za-z0-9._+-]+(@)[a-zA-Z0-9-_]+(?:\.[a-zA-Z0-9-_]*[a-zA-Z0-9])+(?![-_])/,url:/^((?:ftp|https?):\/\/|www\.)(?:[a-zA-Z0-9\-]+\.?)+[^\s<]*|^email/,_backpedal:/(?:[^?!.,:;*_'"~()&]+|\([^)]*\)|&(?![a-zA-Z0-9]+;$)|[?!.,:;*_'"~)]+(?!$))+/,del:/^(~~?)(?=[^\s~])([\s\S]*?[^\s~])\1(?=[^~]|$)/,text:/^([`~]+|[^`~])(?:(?= {2,}\n)|(?=[a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-]+@)|[\s\S]*?(?:(?=[\\<!\[`*~_]|\b_|https?:\/\/|ftp:\/\/|www\.|$)|[^ ](?= {2,}\n)|[^a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-](?=[a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-]+@)))/},ut.gfm.url=Ke(ut.gfm.url,"i").replace("email",ut.gfm._extended_email).getRegex(),ut.breaks={...ut.gfm,br:Ke(ut.br).replace("{2,}","*").getRegex(),text:Ke(ut.gfm.text).replace("\\b_","\\b_| {2,}\\n").replace(/\{2,\}/g,"*").getRegex()};class ft{constructor(e){this.tokens=[],this.tokens.links=Object.create(null),this.options=e||He,this.options.tokenizer=this.options.tokenizer||new ct,this.tokenizer=this.options.tokenizer,this.tokenizer.options=this.options,this.tokenizer.lexer=this,this.inlineQueue=[],this.state={inLink:!1,inRawBlock:!1,top:!0};const t={block:dt.normal,inline:ut.normal};this.options.pedantic?(t.block=dt.pedantic,t.inline=ut.pedantic):this.options.gfm&&(t.block=dt.gfm,this.options.breaks?t.inline=ut.breaks:t.inline=ut.gfm),this.tokenizer.rules=t}static get rules(){return{block:dt,inline:ut}}static lex(e,t){return new ft(t).lex(e)}static lexInline(e,t){return new ft(t).inlineTokens(e)}lex(e){let t;for(e=e.replace(/\r\n|\r/g,"\n"),this.blockTokens(e,this.tokens);t=this.inlineQueue.shift();)this.inlineTokens(t.src,t.tokens);return this.tokens}blockTokens(e,t=[]){let n,i,r,s;for(e=this.options.pedantic?e.replace(/\t/g,"    ").replace(/^ +$/gm,""):e.replace(/^( *)(\t+)/gm,((e,t,n)=>t+"    ".repeat(n.length)));e;)if(!(this.options.extensions&&this.options.extensions.block&&this.options.extensions.block.some((i=>!!(n=i.call({lexer:this},e,t))&&(e=e.substring(n.raw.length),t.push(n),!0)))))if(n=this.tokenizer.space(e))e=e.substring(n.raw.length),1===n.raw.length&&t.length>0?t[t.length-1].raw+="\n":t.push(n);else if(n=this.tokenizer.code(e))e=e.substring(n.raw.length),i=t[t.length-1],!i||"paragraph"!==i.type&&"text"!==i.type?t.push(n):(i.raw+="\n"+n.raw,i.text+="\n"+n.text,this.inlineQueue[this.inlineQueue.length-1].src=i.text);else if(n=this.tokenizer.fences(e))e=e.substring(n.raw.length),t.push(n);else if(n=this.tokenizer.heading(e))e=e.substring(n.raw.length),t.push(n);else if(n=this.tokenizer.hr(e))e=e.substring(n.raw.length),t.push(n);else if(n=this.tokenizer.blockquote(e))e=e.substring(n.raw.length),t.push(n);else if(n=this.tokenizer.list(e))e=e.substring(n.raw.length),t.push(n);else if(n=this.tokenizer.html(e))e=e.substring(n.raw.length),t.push(n);else if(n=this.tokenizer.def(e))e=e.substring(n.raw.length),i=t[t.length-1],!i||"paragraph"!==i.type&&"text"!==i.type?this.tokens.links[n.tag]||(this.tokens.links[n.tag]={href:n.href,title:n.title}):(i.raw+="\n"+n.raw,i.text+="\n"+n.raw,this.inlineQueue[this.inlineQueue.length-1].src=i.text);else if(n=this.tokenizer.table(e))e=e.substring(n.raw.length),t.push(n);else if(n=this.tokenizer.lheading(e))e=e.substring(n.raw.length),t.push(n);else{if(r=e,this.options.extensions&&this.options.extensions.startBlock){let t=1/0;const n=e.slice(1);let i;this.options.extensions.startBlock.forEach((function(e){i=e.call({lexer:this},n),"number"==typeof i&&i>=0&&(t=Math.min(t,i))})),t<1/0&&t>=0&&(r=e.substring(0,t+1))}if(this.state.top&&(n=this.tokenizer.paragraph(r)))i=t[t.length-1],s&&"paragraph"===i.type?(i.raw+="\n"+n.raw,i.text+="\n"+n.text,this.inlineQueue.pop(),this.inlineQueue[this.inlineQueue.length-1].src=i.text):t.push(n),s=r.length!==e.length,e=e.substring(n.raw.length);else if(n=this.tokenizer.text(e))e=e.substring(n.raw.length),i=t[t.length-1],i&&"text"===i.type?(i.raw+="\n"+n.raw,i.text+="\n"+n.text,this.inlineQueue.pop(),this.inlineQueue[this.inlineQueue.length-1].src=i.text):t.push(n);else if(e){const t="Infinite loop on byte: "+e.charCodeAt(0);if(this.options.silent){console.error(t);break}throw new Error(t)}}return this.state.top=!0,t}inline(e,t=[]){return this.inlineQueue.push({src:e,tokens:t}),t}inlineTokens(e,t=[]){let n,i,r,s,o,a,l=e;if(this.tokens.links){const e=Object.keys(this.tokens.links);if(e.length>0)for(;null!=(s=this.tokenizer.rules.inline.reflinkSearch.exec(l));)e.includes(s[0].slice(s[0].lastIndexOf("[")+1,-1))&&(l=l.slice(0,s.index)+"["+at("a",s[0].length-2)+"]"+l.slice(this.tokenizer.rules.inline.reflinkSearch.lastIndex))}for(;null!=(s=this.tokenizer.rules.inline.blockSkip.exec(l));)l=l.slice(0,s.index)+"["+at("a",s[0].length-2)+"]"+l.slice(this.tokenizer.rules.inline.blockSkip.lastIndex);for(;null!=(s=this.tokenizer.rules.inline.escapedEmSt.exec(l));)l=l.slice(0,s.index+s[0].length-2)+"++"+l.slice(this.tokenizer.rules.inline.escapedEmSt.lastIndex),this.tokenizer.rules.inline.escapedEmSt.lastIndex--;for(;e;)if(o||(a=""),o=!1,!(this.options.extensions&&this.options.extensions.inline&&this.options.extensions.inline.some((i=>!!(n=i.call({lexer:this},e,t))&&(e=e.substring(n.raw.length),t.push(n),!0)))))if(n=this.tokenizer.escape(e))e=e.substring(n.raw.length),t.push(n);else if(n=this.tokenizer.tag(e))e=e.substring(n.raw.length),i=t[t.length-1],i&&"text"===n.type&&"text"===i.type?(i.raw+=n.raw,i.text+=n.text):t.push(n);else if(n=this.tokenizer.link(e))e=e.substring(n.raw.length),t.push(n);else if(n=this.tokenizer.reflink(e,this.tokens.links))e=e.substring(n.raw.length),i=t[t.length-1],i&&"text"===n.type&&"text"===i.type?(i.raw+=n.raw,i.text+=n.text):t.push(n);else if(n=this.tokenizer.emStrong(e,l,a))e=e.substring(n.raw.length),t.push(n);else if(n=this.tokenizer.codespan(e))e=e.substring(n.raw.length),t.push(n);else if(n=this.tokenizer.br(e))e=e.substring(n.raw.length),t.push(n);else if(n=this.tokenizer.del(e))e=e.substring(n.raw.length),t.push(n);else if(n=this.tokenizer.autolink(e,pt))e=e.substring(n.raw.length),t.push(n);else if(this.state.inLink||!(n=this.tokenizer.url(e,pt))){if(r=e,this.options.extensions&&this.options.extensions.startInline){let t=1/0;const n=e.slice(1);let i;this.options.extensions.startInline.forEach((function(e){i=e.call({lexer:this},n),"number"==typeof i&&i>=0&&(t=Math.min(t,i))})),t<1/0&&t>=0&&(r=e.substring(0,t+1))}if(n=this.tokenizer.inlineText(r,ht))e=e.substring(n.raw.length),"_"!==n.raw.slice(-1)&&(a=n.raw.slice(-1)),o=!0,i=t[t.length-1],i&&"text"===i.type?(i.raw+=n.raw,i.text+=n.text):t.push(n);else if(e){const t="Infinite loop on byte: "+e.charCodeAt(0);if(this.options.silent){console.error(t);break}throw new Error(t)}}else e=e.substring(n.raw.length),t.push(n);return t}}class mt{constructor(e){this.options=e||He}code(e,t,n){const i=(t||"").match(/\S*/)[0];if(this.options.highlight){const t=this.options.highlight(e,i);null!=t&&t!==e&&(n=!0,e=t)}return e=e.replace(/\n$/,"")+"\n",i?'<pre><code class="'+this.options.langPrefix+Ye(i)+'">'+(n?e:Ye(e,!0))+"</code></pre>\n":"<pre><code>"+(n?e:Ye(e,!0))+"</code></pre>\n"}blockquote(e){return`<blockquote>\n${e}</blockquote>\n`}html(e,t){return e}heading(e,t,n,i){return this.options.headerIds?`<h${t} id="${this.options.headerPrefix+i.slug(n)}">${e}</h${t}>\n`:`<h${t}>${e}</h${t}>\n`}hr(){return this.options.xhtml?"<hr/>\n":"<hr>\n"}list(e,t,n){const i=t?"ol":"ul";return"<"+i+(t&&1!==n?' start="'+n+'"':"")+">\n"+e+"</"+i+">\n"}listitem(e){return`<li>${e}</li>\n`}checkbox(e){return"<input "+(e?'checked="" ':"")+'disabled="" type="checkbox"'+(this.options.xhtml?" /":"")+"> "}paragraph(e){return`<p>${e}</p>\n`}table(e,t){return t&&(t=`<tbody>${t}</tbody>`),"<table>\n<thead>\n"+e+"</thead>\n"+t+"</table>\n"}tablerow(e){return`<tr>\n${e}</tr>\n`}tablecell(e,t){const n=t.header?"th":"td";return(t.align?`<${n} align="${t.align}">`:`<${n}>`)+e+`</${n}>\n`}strong(e){return`<strong>${e}</strong>`}em(e){return`<em>${e}</em>`}codespan(e){return`<code>${e}</code>`}br(){return this.options.xhtml?"<br/>":"<br>"}del(e){return`<del>${e}</del>`}link(e,t,n){if(null===(e=Je(this.options.sanitize,this.options.baseUrl,e)))return n;let i='<a href="'+e+'"';return t&&(i+=' title="'+t+'"'),i+=">"+n+"</a>",i}image(e,t,n){if(null===(e=Je(this.options.sanitize,this.options.baseUrl,e)))return n;let i=`<img src="${e}" alt="${n}"`;return t&&(i+=` title="${t}"`),i+=this.options.xhtml?"/>":">",i}text(e){return e}}class gt{strong(e){return e}em(e){return e}codespan(e){return e}del(e){return e}html(e){return e}text(e){return e}link(e,t,n){return""+n}image(e,t,n){return""+n}br(){return""}}class vt{constructor(){this.seen={}}serialize(e){return e.toLowerCase().trim().replace(/<[!\/a-z].*?>/gi,"").replace(/[\u2000-\u206F\u2E00-\u2E7F\\'!"#$%&()*+,./:;<=>?@[\]^`{|}~]/g,"").replace(/\s/g,"-")}getNextSafeSlug(e,t){let n=e,i=0;if(this.seen.hasOwnProperty(n)){i=this.seen[e];do{i++,n=e+"-"+i}while(this.seen.hasOwnProperty(n))}return t||(this.seen[e]=i,this.seen[n]=0),n}slug(e,t={}){const n=this.serialize(e);return this.getNextSafeSlug(n,t.dryrun)}}class yt{constructor(e){this.options=e||He,this.options.renderer=this.options.renderer||new mt,this.renderer=this.options.renderer,this.renderer.options=this.options,this.textRenderer=new gt,this.slugger=new vt}static parse(e,t){return new yt(t).parse(e)}static parseInline(e,t){return new yt(t).parseInline(e)}parse(e,t=!0){let n,i,r,s,o,a,l,c,d,u,h,p,f,m,g,v,y,b,w,x="";const k=e.length;for(n=0;n<k;n++)if(u=e[n],this.options.extensions&&this.options.extensions.renderers&&this.options.extensions.renderers[u.type]&&(w=this.options.extensions.renderers[u.type].call({parser:this},u),!1!==w||!["space","hr","heading","code","table","blockquote","list","html","paragraph","text"].includes(u.type)))x+=w||"";else switch(u.type){case"space":continue;case"hr":x+=this.renderer.hr();continue;case"heading":x+=this.renderer.heading(this.parseInline(u.tokens),u.depth,Ze(this.parseInline(u.tokens,this.textRenderer)),this.slugger);continue;case"code":x+=this.renderer.code(u.text,u.lang,u.escaped);continue;case"table":for(c="",l="",s=u.header.length,i=0;i<s;i++)l+=this.renderer.tablecell(this.parseInline(u.header[i].tokens),{header:!0,align:u.align[i]});for(c+=this.renderer.tablerow(l),d="",s=u.rows.length,i=0;i<s;i++){for(a=u.rows[i],l="",o=a.length,r=0;r<o;r++)l+=this.renderer.tablecell(this.parseInline(a[r].tokens),{header:!1,align:u.align[r]});d+=this.renderer.tablerow(l)}x+=this.renderer.table(c,d);continue;case"blockquote":d=this.parse(u.tokens),x+=this.renderer.blockquote(d);continue;case"list":for(h=u.ordered,p=u.start,f=u.loose,s=u.items.length,d="",i=0;i<s;i++)g=u.items[i],v=g.checked,y=g.task,m="",g.task&&(b=this.renderer.checkbox(v),f?g.tokens.length>0&&"paragraph"===g.tokens[0].type?(g.tokens[0].text=b+" "+g.tokens[0].text,g.tokens[0].tokens&&g.tokens[0].tokens.length>0&&"text"===g.tokens[0].tokens[0].type&&(g.tokens[0].tokens[0].text=b+" "+g.tokens[0].tokens[0].text)):g.tokens.unshift({type:"text",text:b}):m+=b),m+=this.parse(g.tokens,f),d+=this.renderer.listitem(m,y,v);x+=this.renderer.list(d,h,p);continue;case"html":x+=this.renderer.html(u.text,u.block);continue;case"paragraph":x+=this.renderer.paragraph(this.parseInline(u.tokens));continue;case"text":for(d=u.tokens?this.parseInline(u.tokens):u.text;n+1<k&&"text"===e[n+1].type;)u=e[++n],d+="\n"+(u.tokens?this.parseInline(u.tokens):u.text);x+=t?this.renderer.paragraph(d):d;continue;default:{const e='Token with "'+u.type+'" type was not found.';if(this.options.silent)return void console.error(e);throw new Error(e)}}return x}parseInline(e,t){t=t||this.renderer;let n,i,r,s="";const o=e.length;for(n=0;n<o;n++)if(i=e[n],this.options.extensions&&this.options.extensions.renderers&&this.options.extensions.renderers[i.type]&&(r=this.options.extensions.renderers[i.type].call({parser:this},i),!1!==r||!["escape","html","link","image","strong","em","codespan","br","del","text"].includes(i.type)))s+=r||"";else switch(i.type){case"escape":case"text":s+=t.text(i.text);break;case"html":s+=t.html(i.text);break;case"link":s+=t.link(i.href,i.title,this.parseInline(i.tokens,t));break;case"image":s+=t.image(i.href,i.title,i.text);break;case"strong":s+=t.strong(this.parseInline(i.tokens,t));break;case"em":s+=t.em(this.parseInline(i.tokens,t));break;case"codespan":s+=t.codespan(i.text);break;case"br":s+=t.br();break;case"del":s+=t.del(this.parseInline(i.tokens,t));break;default:{const e='Token with "'+i.type+'" type was not found.';if(this.options.silent)return void console.error(e);throw new Error(e)}}return s}}class bt{constructor(e){this.options=e||He}static passThroughHooks=new Set(["preprocess","postprocess"]);preprocess(e){return e}postprocess(e){return e}}function wt(e,t){return(n,i,r)=>{"function"==typeof i&&(r=i,i=null);const s={...i},o=function(e,t,n){return i=>{if(i.message+="\nPlease report this to https://github.com/markedjs/marked.",e){const e="<p>An error occurred:</p><pre>"+Ye(i.message+"",!0)+"</pre>";return t?Promise.resolve(e):n?void n(null,e):e}if(t)return Promise.reject(i);if(!n)throw i;n(i)}}((i={...xt.defaults,...s}).silent,i.async,r);if(null==n)return o(new Error("marked(): input parameter is undefined or null"));if("string"!=typeof n)return o(new Error("marked(): input parameter is of type "+Object.prototype.toString.call(n)+", string expected"));if(function(e,t){e&&!e.silent&&(t&&console.warn("marked(): callback is deprecated since version 5.0.0, should not be used and will be removed in the future. Read more here: https://marked.js.org/using_pro#async"),(e.sanitize||e.sanitizer)&&console.warn("marked(): sanitize and sanitizer parameters are deprecated since version 0.7.0, should not be used and will be removed in the future. Read more here: https://marked.js.org/#/USING_ADVANCED.md#options"),(e.highlight||"language-"!==e.langPrefix)&&console.warn("marked(): highlight and langPrefix parameters are deprecated since version 5.0.0, should not be used and will be removed in the future. Instead use https://www.npmjs.com/package/marked-highlight."),e.mangle&&console.warn("marked(): mangle parameter is enabled by default, but is deprecated since version 5.0.0, and will be removed in the future. To clear this warning, install https://www.npmjs.com/package/marked-mangle, or disable by setting `{mangle: false}`."),e.baseUrl&&console.warn("marked(): baseUrl parameter is deprecated since version 5.0.0, should not be used and will be removed in the future. Instead use https://www.npmjs.com/package/marked-base-url."),e.smartypants&&console.warn("marked(): smartypants parameter is deprecated since version 5.0.0, should not be used and will be removed in the future. Instead use https://www.npmjs.com/package/marked-smartypants."),e.xhtml&&console.warn("marked(): xhtml parameter is deprecated since version 5.0.0, should not be used and will be removed in the future. Instead use https://www.npmjs.com/package/marked-xhtml."),(e.headerIds||e.headerPrefix)&&console.warn("marked(): headerIds and headerPrefix parameters enabled by default, but are deprecated since version 5.0.0, and will be removed in the future. To clear this warning, install  https://www.npmjs.com/package/marked-gfm-heading-id, or disable by setting `{headerIds: false}`."))}(i,r),i.hooks&&(i.hooks.options=i),r){const s=i.highlight;let a;try{i.hooks&&(n=i.hooks.preprocess(n)),a=e(n,i)}catch(e){return o(e)}const l=function(e){let n;if(!e)try{i.walkTokens&&xt.walkTokens(a,i.walkTokens),n=t(a,i),i.hooks&&(n=i.hooks.postprocess(n))}catch(t){e=t}return i.highlight=s,e?o(e):r(null,n)};if(!s||s.length<3)return l();if(delete i.highlight,!a.length)return l();let c=0;return xt.walkTokens(a,(function(e){"code"===e.type&&(c++,setTimeout((()=>{s(e.text,e.lang,(function(t,n){if(t)return l(t);null!=n&&n!==e.text&&(e.text=n,e.escaped=!0),c--,0===c&&l()}))}),0))})),void(0===c&&l())}if(i.async)return Promise.resolve(i.hooks?i.hooks.preprocess(n):n).then((t=>e(t,i))).then((e=>i.walkTokens?Promise.all(xt.walkTokens(e,i.walkTokens)).then((()=>e)):e)).then((e=>t(e,i))).then((e=>i.hooks?i.hooks.postprocess(e):e)).catch(o);try{i.hooks&&(n=i.hooks.preprocess(n));const r=e(n,i);i.walkTokens&&xt.walkTokens(r,i.walkTokens);let s=t(r,i);return i.hooks&&(s=i.hooks.postprocess(s)),s}catch(e){return o(e)}}}function xt(e,t,n){return wt(ft.lex,yt.parse)(e,t,n)}xt.options=xt.setOptions=function(e){var t;return xt.defaults={...xt.defaults,...e},t=xt.defaults,He=t,xt},xt.getDefaults=function(){return{async:!1,baseUrl:null,breaks:!1,extensions:null,gfm:!0,headerIds:!0,headerPrefix:"",highlight:null,hooks:null,langPrefix:"language-",mangle:!0,pedantic:!1,renderer:null,sanitize:!1,sanitizer:null,silent:!1,smartypants:!1,tokenizer:null,walkTokens:null,xhtml:!1}},xt.defaults=He,xt.use=function(...e){const t=xt.defaults.extensions||{renderers:{},childTokens:{}};e.forEach((e=>{const n={...e};if(n.async=xt.defaults.async||n.async||!1,e.extensions&&(e.extensions.forEach((e=>{if(!e.name)throw new Error("extension name required");if(e.renderer){const n=t.renderers[e.name];t.renderers[e.name]=n?function(...t){let i=e.renderer.apply(this,t);return!1===i&&(i=n.apply(this,t)),i}:e.renderer}if(e.tokenizer){if(!e.level||"block"!==e.level&&"inline"!==e.level)throw new Error("extension level must be 'block' or 'inline'");t[e.level]?t[e.level].unshift(e.tokenizer):t[e.level]=[e.tokenizer],e.start&&("block"===e.level?t.startBlock?t.startBlock.push(e.start):t.startBlock=[e.start]:"inline"===e.level&&(t.startInline?t.startInline.push(e.start):t.startInline=[e.start]))}e.childTokens&&(t.childTokens[e.name]=e.childTokens)})),n.extensions=t),e.renderer){const t=xt.defaults.renderer||new mt;for(const n in e.renderer){const i=t[n];t[n]=(...r)=>{let s=e.renderer[n].apply(t,r);return!1===s&&(s=i.apply(t,r)),s}}n.renderer=t}if(e.tokenizer){const t=xt.defaults.tokenizer||new ct;for(const n in e.tokenizer){const i=t[n];t[n]=(...r)=>{let s=e.tokenizer[n].apply(t,r);return!1===s&&(s=i.apply(t,r)),s}}n.tokenizer=t}if(e.hooks){const t=xt.defaults.hooks||new bt;for(const n in e.hooks){const i=t[n];bt.passThroughHooks.has(n)?t[n]=r=>{if(xt.defaults.async)return Promise.resolve(e.hooks[n].call(t,r)).then((e=>i.call(t,e)));const s=e.hooks[n].call(t,r);return i.call(t,s)}:t[n]=(...r)=>{let s=e.hooks[n].apply(t,r);return!1===s&&(s=i.apply(t,r)),s}}n.hooks=t}if(e.walkTokens){const t=xt.defaults.walkTokens;n.walkTokens=function(n){let i=[];return i.push(e.walkTokens.call(this,n)),t&&(i=i.concat(t.call(this,n))),i}}xt.setOptions(n)}))},xt.walkTokens=function(e,t){let n=[];for(const i of e)switch(n=n.concat(t.call(xt,i)),i.type){case"table":for(const e of i.header)n=n.concat(xt.walkTokens(e.tokens,t));for(const e of i.rows)for(const i of e)n=n.concat(xt.walkTokens(i.tokens,t));break;case"list":n=n.concat(xt.walkTokens(i.items,t));break;default:xt.defaults.extensions&&xt.defaults.extensions.childTokens&&xt.defaults.extensions.childTokens[i.type]?xt.defaults.extensions.childTokens[i.type].forEach((function(e){n=n.concat(xt.walkTokens(i[e],t))})):i.tokens&&(n=n.concat(xt.walkTokens(i.tokens,t)))}return n},xt.parseInline=wt(ft.lexInline,yt.parseInline),xt.Parser=yt,xt.parser=yt.parse,xt.Renderer=mt,xt.TextRenderer=gt,xt.Lexer=ft,xt.lexer=ft.lex,xt.Tokenizer=ct,xt.Slugger=vt,xt.Hooks=bt,xt.parse=xt,xt.options,xt.setOptions,xt.use,xt.walkTokens,xt.parseInline;const kt="https://raw.githubusercontent.com/beerwin/njdesktop2/master/docs/index.md",Et=new class{constructor(e,t){this.element=e,this.element.classList.add("nj-desktop"),this.config={backgroundImage:"",backgroundPosition:"center center",backgroundSize:"auto",...t},this.updateBackground(),this.setTheme(t?.theme??"redmond7"),this.topContainer=document.createElement("div"),this.topContainer.classList.add("nj-desktop-top"),this.element.appendChild(this.topContainer),this.windowContainer=document.createElement("div"),this.windowContainer.classList.add("nj-desktop-window-container"),this.element.appendChild(this.windowContainer),this.taskBar=new k(this.element),this.setMenu(new p(this.topContainer)),this.notificationArea=new F(this.topContainer),this.windowManager=new $,this.windowManager.on("windowAdded",this.windowAdded.bind(this)),this.windowManager.on("windowRemoved",this.windowRemoved.bind(this)),this.iconList=new u(this.windowContainer,{orientation:"horizontal",preventScroll:!0,view:l})}setTheme(e){this.theme&&this.element.classList.remove(this.theme),this.theme=e,this.theme&&this.element.classList.add(this.theme)}updateBackground(){this.element.style.backgroundImage=this.config.backgroundImage,this.element.style.backgroundPosition=this.config.backgroundPosition,this.element.style.backgroundSize=this.config.backgroundSize}setBackgroundImage(e){this.config.backgroundImage=e,this.updateBackground()}getElement(){return this.element}getWindowContainer(){return this.windowContainer}windowAdded(e,t){this.taskBar.addWindowButton(t)}windowRemoved(e,t){}addWindow(e){this.windowManager.add(e)}removeWindow(e){this.windowManager.removeWindow(e)}createWindow(e,t,n){const i=this.windowManager.getNextPosition();i.y+480>this.getWindowContainer().offsetHeight&&(i.y=0),i.x+640>this.getWindowContainer().offsetWidth&&(i.x=0,i.y=0);const r=new B(this.getWindowContainer(),{...i,width:640,height:480},e||"New window",t,n);return r.on("close",this.windowClosed.bind(this)),this.windowManager.setLastPosition(i),this.windowManager.add(r),r}createDialog(e){const t=window.getComputedStyle(this.getWindowContainer()),n=parseInt(t.width.replace("px","")),i=parseInt(t.height.replace("px","")),r=new B(this.getWindowContainer(),{x:parseInt(n/2)-parseInt(e.width/2),y:parseInt(i/2)-parseInt(e.height/2),width:e.width,height:e.height},e.title,1,[2]);return r.addClass("nj-dialog"),r.setFooter(new W),r.on("close",this.windowClosed.bind(this)),this.windowManager.add(r),r}windowClosed(e){this.windowManager.remove(e)}destroy(){this.element.classList.remove(".nj-desktop"),this.windowManager.destroy(),this.taskBar.destroy(),this.notificationArea.destroy(),this.iconList.destroy(),this.menu.destroy()}addTaskbarToolButton(e){return this.taskBar.getToolbar().addToolButton(e)}addTaskbarSubMenu(e){this.taskBar.getToolbar().addMenu(e)}setMenu(e){this.menu=e,e.setParent(this.topContainer)}getMenu(){return this.menu}getIconList(){return this.iconList}getNotificationArea(){return this.notificationArea}tile(){const e=this.getWindowContainer();this.windowManager.tile(e.offsetWidth,e.offsetHeight)}cascade(){const e=this.getWindowContainer();this.windowManager.cascade(e.offsetWidth,e.offsetHeight)}}(document.querySelector("#desktop"),{theme:"redmond7",backgroundImage:'url("https://njdesktop.nagyervin.eu/images/colorful-hq-background-1920x1200.jpg")'});new class{constructor(e){e.getIconList().addIcon({icon:"url(https://njdesktop.nagyervin.eu/images/bws_logo2k9.png)",title:"Window with toolbars and menus",dblclick:()=>{const t=e.createWindow("Test window name"),n=new w,i=new p,r=new De({title:"Menu in toolbar with text",icon:"url(data:image/svg+xml,"+encodeURIComponent('<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path fill="#000000" d="M6.1,10L4,18V8H21A2,2 0 0,0 19,6H12L10,4H4A2,2 0 0,0 2,6V18A2,2 0 0,0 4,20H19C19.9,20 20.7,19.4 20.9,18.5L23.2,10H6.1M19,18H6L7.6,12H20.6L19,18Z" /></svg>')+")"});i.addItem(r);const s=new De({title:"Menu item 2"});r.addItem(s);const o=new De({title:"Menu item 3"});r.addItem(o);const a=new De({title:"Menu item in toolbar",icon:"url(data:image/svg+xml,"+encodeURIComponent('<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path fill="#000000" d="M15,9H5V5H15M12,19A3,3 0 0,1 9,16A3,3 0 0,1 12,13A3,3 0 0,1 15,16A3,3 0 0,1 12,19M17,3H5C3.89,3 3,3.9 3,5V19A2,2 0 0,0 5,21H19A2,2 0 0,0 21,19V7L17,3Z" /></svg>')+")",iconOnly:!0});i.addItem(a);const l=new De({title:"Menu item 2"});a.addItem(l),n.addMenu(i),t.addToolbar(n),n.addToolButton({title:"Tool button icon only",type:v,icon:"url(data:image/svg+xml,"+encodeURIComponent('<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path fill="#000000" d="M19,3L13,9L15,11L22,4V3M12,12.5A0.5,0.5 0 0,1 11.5,12A0.5,0.5 0 0,1 12,11.5A0.5,0.5 0 0,1 12.5,12A0.5,0.5 0 0,1 12,12.5M6,20A2,2 0 0,1 4,18C4,16.89 4.9,16 6,16A2,2 0 0,1 8,18C8,19.11 7.1,20 6,20M6,8A2,2 0 0,1 4,6C4,4.89 4.9,4 6,4A2,2 0 0,1 8,6C8,7.11 7.1,8 6,8M9.64,7.64C9.87,7.14 10,6.59 10,6A4,4 0 0,0 6,2A4,4 0 0,0 2,6A4,4 0 0,0 6,10C6.59,10 7.14,9.87 7.64,9.64L10,12L7.64,14.36C7.14,14.13 6.59,14 6,14A4,4 0 0,0 2,18A4,4 0 0,0 6,22A4,4 0 0,0 10,18C10,17.41 9.87,16.86 9.64,16.36L12,14L19,21H22V20L9.64,7.64Z" /></svg>')+")"}),n.addToolButton({title:"A tool button",type:g});const c=new p;t.setMenu(c);const d=new De({title:"File"});c.addItem(d);const u=new De({title:"New...",icon:" "});d.addItem(u);const h=new De({title:"Open...",icon:"url(data:image/svg+xml,"+encodeURIComponent('<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path fill="#000000" d="M6.1,10L4,18V8H21A2,2 0 0,0 19,6H12L10,4H4A2,2 0 0,0 2,6V18A2,2 0 0,0 4,20H19C19.9,20 20.7,19.4 20.9,18.5L23.2,10H6.1M19,18H6L7.6,12H20.6L19,18Z" /></svg>')+")"});d.addItem(h);const f=new De({title:"Open recent",icon:" "});d.addItem(f);const m=new De({title:"Recent item 1"});f.addItem(m);const y=new De({title:"Recent item 2"});f.addItem(y);const b=new De({title:"Recent item 3"});f.addItem(b);const x=new De({title:"Close",icon:" ",click:()=>{t.close()}});d.addItem(x),setTimeout((()=>{t.setTitle("Title changed after 3 seconds")}),3e3)}})}}(Et),new class{constructor(e){e.getIconList().addIcon({icon:"url(https://njdesktop.nagyervin.eu/images/bws_logo2k9.png)",title:"Content from HTML element",dblclick:()=>{const t=e.createWindow("Window content set from HTML"),n=document.querySelector("#typography").cloneNode(!0);n.classList.add("text-content"),t.setContentElement(n),n.style.display="block"}})}}(Et),new class{constructor(e){e.getIconList().addIcon({icon:"url(https://njdesktop.nagyervin.eu/images/bws_logo2k9.png)",title:"Window with events",dblclick:()=>{const t=e.createWindow("Window with events"),n=document.createElement("div");t.setContentElement(n),n.style.display="initial",t.on("titleUpdated",((e,t)=>{const i=document.createElement("div");i.innerText="Title changed to: "+t,n.appendChild(i)})),t.on("resize",((e,t)=>{const i=document.createElement("div");i.innerText="Resizing: "+JSON.stringify(t),n.appendChild(i)})),t.on("resized",((e,t)=>{const i=document.createElement("div");i.innerText="RESIZED: "+JSON.stringify(t),n.appendChild(i)})),t.on("move",((e,t)=>{const i=document.createElement("div");i.innerText="Moving: "+JSON.stringify(t),n.appendChild(i)})),t.on("moved",((e,t)=>{const i=document.createElement("div");i.innerText="MOVED: "+JSON.stringify(t),n.appendChild(i)})),t.on("stateChange",((e,t)=>{const i=document.createElement("div");i.innerText="Window state changed: "+t,n.appendChild(i)})),t.on("minimize",(e=>{const t=document.createElement("div");t.innerText="Minimized",n.appendChild(t)})),t.on("maximize",(e=>{const t=document.createElement("div");t.innerText="Maximized",n.appendChild(t)})),t.on("restore",(e=>{const t=document.createElement("div");t.innerText="Restored",n.appendChild(t)})),t.on("hide",(e=>{const t=document.createElement("div");t.innerText="Hidden",n.appendChild(t)})),t.on("show",(e=>{const t=document.createElement("div");t.innerText="Shown",n.appendChild(t)})),t.on("focus",(e=>{const t=document.createElement("div");t.innerText="Focused",n.appendChild(t)})),t.on("blur",(e=>{const t=document.createElement("div");t.innerText="Lost focus",n.appendChild(t)})),t.on("beforeClose",(()=>{const e=document.createElement("div");return e.innerText="Close query",n.appendChild(e),confirm("Would you like to close this window?")})),t.on("close",(()=>{alert("Closed")}))}})}}(Et),new class{constructor(e){e.getIconList().addIcon({icon:"url(https://njdesktop.nagyervin.eu/images/bws_logo2k9.png)",title:"Dialog",dblclick:()=>{const t=e.createDialog({title:"Dialog",width:500,height:200}),n=document.querySelector("#dialogContent").cloneNode(!0);t.setContentElement(n),n.style.display="initial",t.getFooter().addAction(new pe(null,{title:"Ok",click:()=>{alert("OK clicked"),t.close()}})),t.getFooter().addAction(new pe(null,{title:"Cancel",click:()=>{t.close()}}))}})}}(Et),new class{constructor(e){e.getIconList().addIcon({icon:"url(https://njdesktop.nagyervin.eu/images/bws_logo2k9.png)",title:"window with icons",dblclick:()=>{const t=e.createWindow("Window with icons"),n=new w,i=new u(null,{orientation:o,view:l});n.addToolButton({title:"Extra large icons",type:v,icon:"url(data:image/svg+xml,"+encodeURIComponent('<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path fill="#000000" d="M6 7H8L9 9.5L10 7H12L10 12L12 17H10L9 14.5L8 17H6L8 12L6 7M13 7H15V15H19V17H13V7Z" /></svg>')+")",click:()=>{i.setView(a)}}),n.addToolButton({title:"Large icons",type:v,icon:"url(data:image/svg+xml,"+encodeURIComponent('<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path fill="#000000" d="M9 7V17H15V15H11V7H9Z" /></svg>')+")",click:()=>{i.setView("l")}}),n.addToolButton({title:"Medium icons",type:v,icon:"url(data:image/svg+xml,"+encodeURIComponent('<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path fill="#000000" d="M9 7C7.9 7 7 7.9 7 9V17H9V9H11V16H13V9H15V17H17V9C17 7.9 16.11 7 15 7H9Z" /></svg>')+")",click:()=>{i.setView(l)}}),n.addToolButton({title:"Small icons",type:v,icon:"url(data:image/svg+xml,"+encodeURIComponent('<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path fill="#000000" d="M11 7C9.9 7 9 7.9 9 9V11C9 12.11 9.9 13 11 13H13V15H9V17H13C14.11 17 15 16.11 15 15V13C15 11.9 14.11 11 13 11H11V9H15V7H11Z" /></svg>')+")",click:()=>{i.setView("s")}}),n.addToolButton({title:"Tile",type:v,icon:"url(data:image/svg+xml,"+encodeURIComponent('<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path fill="#000000" d="M2 14H8V20H2M16 8H10V10H16M2 10H8V4H2M10 4V6H22V4M10 20H16V18H10M10 16H22V14H10" /></svg>')+")",click:()=>{i.setView(c)}}),t.addToolbar(n);const r=new Date(2016,0,1),s=new Date;for(let e=0;e<=99;e++)i.addIcon({icon:"url(https://njdesktop.nagyervin.eu/images/bws_logo2k9.png)",title:"Some icon "+(e+1),tileDetailKey:"fileType",metadata:{fileType:"Application",size:Math.round(1e6*Math.random()),date:new Date(r.getTime()+Math.random()*(s.getTime()-r.getTime()))}});t.setContentObject(i)}})}}(Et),new class{constructor(e){e.getIconList().addIcon({icon:"url(https://njdesktop.nagyervin.eu/images/bws_logo2k9.png)",title:"window with listView",dblclick:()=>{const t=e.createWindow("Window with list view"),n=new Se(null,{headers:{sortedBy:"name",sortDirection:"asc",columns:[{columnId:"name",value:"Name"},{columnId:"type",value:"Type (custom comparer)",customSortCompare:(e,t)=>{const n=parseInt(e),i=parseInt(t);return n===i?0:n>i?1:-1}},{columnId:"size",value:"Size"},{columnId:"date",value:"Date"}]}}),i=new Date(2016,0,1),r=new Date,s=[];for(let e=0;e<=99;e++)s.push({columns:[{columnId:"name",value:"List item "+e},{columnId:"type",value:"Application "+e},{columnId:"size",value:Math.floor(39999999999489*Math.random())+512,customRender:(e,t,n)=>{const i=["B","kiB","MiB","GiB","TiB"];let r="B",s=t,o=s+" "+r;for(let e in i){const t=s/1024;t>1&&(s=t,r=i[e],o=s.toFixed(2)+" "+r)}e.columnElement.innerText=o}},{columnId:"date",value:new Date(i.getTime()+Math.random()*(r.getTime()-i.getTime())),customRender:(e,t,n)=>{e.columnElement.innerText=t.toLocaleTimeString("en-CA",{year:"numeric",month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit",second:"2-digit",hour12:!1}).replace(",","")}}]});n.fillItems(s),t.setContentObject(n)}})}}(Et),new class{constructor(e){e.getIconList().addIcon({icon:"url(https://njdesktop.nagyervin.eu/images/bws_logo2k9.png)",title:"window with treeview",dblclick:()=>{const t=e.createWindow("Window with tree view"),n=new ke(null,{headers:{columns:[{columnId:"name",value:"Name"}]}});n.fillItems(Re);let i=null;n.on("input",((e,n)=>{i=n.item,t.setTitle(i.item.columns[0].value)}));const r=new w;t.addToolbar(r),r.addToolButton({title:"Add to root",type:g,click:()=>{n.addItem(null,{columns:[{columnId:"name",value:"Added item"}]})}}),r.addToolButton({title:"Add to selected",type:g,click:()=>{n.addItem(i,{columns:[{columnId:"name",value:"Added item to selected"}]})}}),r.addToolButton({title:"Remove",type:g,click:()=>{i&&(n.removeItem(i),i=null)}}),t.setContentObject(n)}})}}(Et),new class{constructor(e){this.windowCount=0,e.addTaskbarToolButton({title:"New window",type:g}).on("click",(()=>{++this.windowCount,e.createWindow(this.windowCount+" Test Window name")}))}}(Et),new class{constructor(e){const t=new p,n=new De({title:"Choose theme"});t.addItem(n);const i=new De({title:"redmond 7 theme",click:()=>{e.setTheme("redmond7")}});n.addItem(i);const r=new De({title:"Default theme",click:()=>{e.setTheme(null)}});n.addItem(r),e.addTaskbarSubMenu(t)}}(Et),new class{constructor(e){const t=new De({title:"A menu"}),n=new De({title:"A second menu"});t.addItem(n);const i=new De({title:"A third menu"});t.addItem(i);const r=new De({title:"A fourth menu"});n.addItem(r),e.getMenu().addItem(t)}}(Et),new class{constructor(e){const t=new De({title:"Window"}),n=new De({title:"Cascade",click:()=>{e.cascade()}});t.addItem(n);const i=new De({title:"Tile",click:()=>{e.tile()}});t.addItem(i),e.getMenu().addItem(t)}}(Et),new class{constructor(e){const t=new Be;let n;e.getNotificationArea().addWidget(t),t.on("click",(()=>{if(n)n.isMinimized()&&n.restore(),n.focus();else{n=e.createWindow("calendar",1,[2]);const t=new ue;n.setContentObject(t),n.on("destroy",(()=>n=null))}}))}}(Et),new class{constructor(e){this.desktop=e,this.icon=e.getIconList().addIcon({icon:"url(https://njdesktop.nagyervin.eu/images/bws_logo2k9.png)",title:"Files",dblclick:()=>{new class{constructor(e){this.desktop=e,this.repository=new class{getByDir(e,t="list"){return""===e&&(e="///root///"),"list"===t?this.map(_e[e]):_e[e]}map(e){return e.map((e=>({columns:[{columnId:"name",value:e.name},{columnId:"type",value:e.type},{columnId:"size",value:e.size,customRender:Ce},{columnId:"date",value:e.date,customRender:Pe}],fullPath:e.fullPath})))}},this.w=this.desktop.createWindow("Explorer"),this._createControlScaffolding(),this._createStatusbar(),this._createTreeview(),this.w.on("destroy",this.destroyWindow.bind(this)),this.path="",this.switchToView(1),this._createToolbar()}_createTreeview(){this.tw=new ke(null,Oe),this.tw.setParent(this.treeviewHolder),this.tw.fillItems(Le(je)),this.tw.on("input",this.twInput.bind(this))}_createControlScaffolding(){this.controlHolder=document.createElement("div"),this.controlHolder.classList.add("nj-demo-control-holder"),this.treeviewHolder=document.createElement("div"),this.treeviewHolder.classList.add("control-holder"),this.listViewHolder=document.createElement("div"),this.listViewHolder.classList.add("control-holder"),this.controlHolder.appendChild(this.treeviewHolder),this.controlHolder.appendChild(this.listViewHolder),this.w.setContentElement(this.controlHolder),this._makeTreeviewHolderResizable()}_makeTreeviewHolderResizable(){R()(this.treeviewHolder).resizable({edges:{right:!0},listeners:{start:e=>{this.treeviewHolder.classList.add("resizing")},move:e=>{e.rect.width>=200&&(this.treeviewHolder.style.flexBasis=e.rect.width+"px")},end:e=>(e.target.addEventListener("click",(e=>e.stopImmediatePropagation()),{capture:!0,once:!0}),this.treeviewHolder.classList.remove("resizing"),!1)}})}_createStatusbar(){this.statusBar=new Ie,this.statusBarPane=this.statusBar.addPane(),this.statusBarPane.setContentText("No selected items"),this.statusbarPane2=this.statusBar.addPane();const e=document.createElement("span");e.classList.add("window-footer-icon"),this.statusbarPane2.setContent(e),this.statusbarPane2.element.style.minWidth="30px",e.style.backgroundImage="url(https://njdesktop.nagyervin.eu/images/bws_logo2k9.png)",this.w.setFooter(this.statusBar)}_createToolbar(){const e=new w;this.w.addToolbar(e),this.up=e.addToolButton({title:"Level up",type:g,click:()=>{const e=this.tw.findSelected()?.item.fullPath??"";if(!e)return;const t=e.split("/");t.pop();const n=t.join("/");this.path=n,n?this.tw.selectWith((e=>e.item.fullPath===n)):(this.tw.findSelected().setSelected(!1),this.fillItems(this.repository.getByDir(this.path,2===this.viewType?"icon":"list")))}}),this.toolButtonXL=e.addToolButton({title:"Extra large icons",type:v,icon:"url(data:image/svg+xml,"+encodeURIComponent('<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path fill="#000000" d="M6 7H8L9 9.5L10 7H12L10 12L12 17H10L9 14.5L8 17H6L8 12L6 7M13 7H15V15H19V17H13V7Z" /></svg>')+")",click:()=>{2!==this.viewType?this.switchToView(2,a):this.lw.setView(a)}}),this.toolButtonL=e.addToolButton({title:"Large icons",type:v,icon:"url(data:image/svg+xml,"+encodeURIComponent('<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path fill="#000000" d="M9 7V17H15V15H11V7H9Z" /></svg>')+")",click:()=>{2!==this.viewType?this.switchToView(2,"l"):this.lw.setView("l")}}),this.toolButtonM=e.addToolButton({title:"Medium icons",type:v,icon:"url(data:image/svg+xml,"+encodeURIComponent('<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path fill="#000000" d="M9 7C7.9 7 7 7.9 7 9V17H9V9H11V16H13V9H15V17H17V9C17 7.9 16.11 7 15 7H9Z" /></svg>')+")",click:()=>{2!==this.viewType?this.switchToView(2,l):this.lw.setView(l)}}),this.toolButtonS=e.addToolButton({title:"Small icons",type:v,icon:"url(data:image/svg+xml,"+encodeURIComponent('<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path fill="#000000" d="M11 7C9.9 7 9 7.9 9 9V11C9 12.11 9.9 13 11 13H13V15H9V17H13C14.11 17 15 16.11 15 15V13C15 11.9 14.11 11 13 11H11V9H15V7H11Z" /></svg>')+")",click:()=>{2!==this.viewType?this.switchToView(2,"s"):this.lw.setView("s")}}),this.toolButtonTile=e.addToolButton({title:"Tile",type:v,icon:"url(data:image/svg+xml,"+encodeURIComponent('<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path fill="#000000" d="M2 14H8V20H2M16 8H10V10H16M2 10H8V4H2M10 4V6H22V4M10 20H16V18H10M10 16H22V14H10" /></svg>')+")",click:()=>{2!==this.viewType?this.switchToView(2,c):this.lw.setView(c)}}),this.toolButtonList=e.addToolButton({title:"List",type:g,click:()=>{1!==this.viewType&&this.switchToView(1)}})}switchToView(e,t="m"){switch(this.lw&&this.lw.destroy(),this.viewType=e,e){case 1:this.lw=new Se(null,Me);break;case 2:this.lw=new u(null,{orientation:o,view:t})}this.lw.setParent(this.listViewHolder),this.lw.on("input",this.lwInput.bind(this)),this.lw.on("onselect",this.lwOnSelect.bind(this)),this.fillItems(this.repository.getByDir(this.path,2===this.viewType?"icon":"list"))}fillItems(e){if(2===this.viewType){this.lw.clear();for(let t in e)this.lw.addIcon({icon:this.getIcon(e[t]),title:e[t].name,tileDetailKey:"type",metadata:{...e[t]}})}else this.lw.fillItems(e.map((e=>{const t=e.columns.find((e=>"type"===e.columnId)).value;return{...e,icon:this.getIcon({type:t}),iconColumn:"name"}})))}getIcon(e){return"dir"===e.type?"url(assets/img/folder.svg)":"url(assets/img/file.svg)"}destroyView(){this.lw.destroy()}twInput(e,t){this.path=t.item.item.fullPath,this.fillItems(this.repository.getByDir(this.path,2===this.viewType?"icon":"list"))}lwInput(e,t){const n=t.item;let i,r;1===this.viewType?(i=n.item.columns.find((e=>"type"===e.columnId)).value,r=n.item.fullPath):(i=n.metadata.type,r=n.metadata.fullPath),"dir"===i&&this.tw.selectWith((e=>e.item.fullPath===r))}lwOnSelect(e,t){this.statusBarPane.setContentText(t.length+" selected."),console.log(t)}destroyWindow(){this.tw.destroy(),this.lw.destroy()}}(this.desktop)}})}}(Et),new class{constructor(e){e.getIconList().addIcon({icon:"url(https://njdesktop.nagyervin.eu/images/bws_logo2k9.png)",title:"Browser demo",dblclick:()=>{const t="https://nagyervin.eu",n=e.createWindow("Browser demo"),i=new class{constructor(){this.iframeElement=document.createElement("iframe"),this.iframeElement.classList.add("nj-browser-frame")}navigate(e){this.iframeElement.setAttribute("src",e)}setParent(e){e.appendChild(this.iframeElement)}destroy(){this.iframeElement.parentElement.removeChild(this.iframeElement)}},r=new w(null,{classes:["flexing-toolbar"]});n.addToolbar(r);const s=r.addToolButton({type:y,value:t,classes:["location-input"]});r.addToolButton({title:"Go",type:g,click:()=>{i.navigate(s.getValue())},classes:["go-tool-button"]}),n.setContentObject(i),i.navigate(t)}})}}(Et),new class{constructor(e){this.history=[],this.historyIndex=-1,this.toolButtonHome=null,this.toolButtonBack=null,this.toolButtonForward=null,e.getIconList().addIcon({icon:"url(https://njdesktop.nagyervin.eu/images/bws_logo2k9.png)",title:"Documentation",dblclick:async()=>{const t=e.createWindow("Documentation"),n=new w;this.toolButtonBack=n.addToolButton({title:"Back",type:v,icon:"url(data:image/svg+xml,"+encodeURIComponent('<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19,13H6.75L12,18.25L11.34,19L4.84,12.5L11.34,6L12,6.75L6.75,12H19V13Z" /></svg>')+")",click:()=>{this.goBack(t)}}),this.toolButtonForward=n.addToolButton({title:"Forward",type:v,icon:"url(data:image/svg+xml,"+encodeURIComponent('<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M4,12H16.25L11,6.75L11.66,6L18.16,12.5L11.66,19L11,18.25L16.25,13H4V12Z" /></svg>')+")",click:()=>{this.goForward(t)}}),this.toolButtonHome=n.addToolButton({title:"Home",type:v,icon:"url(data:image/svg+xml,"+encodeURIComponent('<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M16,8.41L11.5,3.91L4.41,11H6V12L6,19H9V13H14V19H17V11H18.59L17,9.41V6H16V8.41M2,12L11.5,2.5L15,6V5H18V9L21,12H18V20H13V14H10V20H5V12H2Z" /></svg>')+")",click:async()=>{await this.openHome(t)}}),t.addToolbar(n),await this.openHome(t)}})}async openHome(e){await this.openMd(e,kt),this.addToHistory(kt)}async openMd(e,t){const n=await fetch(t),i=document.createElement("div");let r=await n.text();r=r.replace(/\.\//gi,"https://raw.githubusercontent.com/beerwin/njdesktop2/master/docs/"),i.innerHTML=xt.parse(r),i.classList.add("text-content"),i.querySelectorAll("a").forEach((t=>{t.addEventListener("click",(async t=>{i.parentNode.removeChild(i),t.preventDefault();const n=t.currentTarget.href.split("#");return this.addToHistory(t.currentTarget.href),await this.openMd(e,t.currentTarget.href),n.length>1&&document.querySelector("#"+n.pop())?.scrollIntoView(),!1}))})),e.setContentElement(i)}addToHistory(e){this.history=this.history.slice(0,this.historyIndex+1),this.history.push(e),this.historyIndex++,this.updateToolbar()}async goBack(e){this.historyIndex--,await this.openMd(e,this.history[this.historyIndex]),this.updateToolbar()}async goForward(e){this.historyIndex++,await this.openMd(e,this.history[this.historyIndex]),this.updateToolbar()}updateToolbar(){this.toolButtonForward.setEnabled(this.history.length>0&&this.historyIndex<=this.history.length-2),this.toolButtonBack.setEnabled(this.history.length>0&&this.historyIndex>=1),this.toolButtonHome.setEnabled(this.history[this.historyIndex]!==kt)}}(Et)})()})();