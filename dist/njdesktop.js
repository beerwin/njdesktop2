(()=>{var e={496:e=>{e.exports=function(){var e={};Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0,e.default=function(e){return!(!e||!e.Window)&&e instanceof e.Window};var t={};Object.defineProperty(t,"__esModule",{value:!0}),t.getWindow=function(t){return(0,e.default)(t)?t:(t.ownerDocument||t).defaultView||i.window},t.init=r,t.window=t.realWindow=void 0;var n=void 0;t.realWindow=n;var i=void 0;function r(e){t.realWindow=n=e;var r=e.document.createTextNode("");r.ownerDocument!==e.document&&"function"==typeof e.wrap&&e.wrap(r)===r&&(e=e.wrap(e)),t.window=i=e}t.window=i,"undefined"!=typeof window&&window&&r(window);var o={};function s(e){return s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},s(e)}Object.defineProperty(o,"__esModule",{value:!0}),o.default=void 0;var a=function(e){return!!e&&"object"===s(e)},l=function(e){return"function"==typeof e},c={window:function(n){return n===t.window||(0,e.default)(n)},docFrag:function(e){return a(e)&&11===e.nodeType},object:a,func:l,number:function(e){return"number"==typeof e},bool:function(e){return"boolean"==typeof e},string:function(e){return"string"==typeof e},element:function(e){if(!e||"object"!==s(e))return!1;var n=t.getWindow(e)||t.window;return/object|function/.test("undefined"==typeof Element?"undefined":s(Element))?e instanceof Element||e instanceof n.Element:1===e.nodeType&&"string"==typeof e.nodeName},plainObject:function(e){return a(e)&&!!e.constructor&&/function Object\b/.test(e.constructor.toString())},array:function(e){return a(e)&&void 0!==e.length&&l(e.splice)}};o.default=c;var d={};function u(e){var t=e.interaction;if("drag"===t.prepared.name){var n=t.prepared.axis;"x"===n?(t.coords.cur.page.y=t.coords.start.page.y,t.coords.cur.client.y=t.coords.start.client.y,t.coords.velocity.client.y=0,t.coords.velocity.page.y=0):"y"===n&&(t.coords.cur.page.x=t.coords.start.page.x,t.coords.cur.client.x=t.coords.start.client.x,t.coords.velocity.client.x=0,t.coords.velocity.page.x=0)}}function h(e){var t=e.iEvent,n=e.interaction;if("drag"===n.prepared.name){var i=n.prepared.axis;if("x"===i||"y"===i){var r="x"===i?"y":"x";t.page[r]=n.coords.start.page[r],t.client[r]=n.coords.start.client[r],t.delta[r]=0}}}Object.defineProperty(d,"__esModule",{value:!0}),d.default=void 0;var f={id:"actions/drag",install:function(e){var t=e.actions,n=e.Interactable,i=e.defaults;n.prototype.draggable=f.draggable,t.map.drag=f,t.methodDict.drag="draggable",i.actions.drag=f.defaults},listeners:{"interactions:before-action-move":u,"interactions:action-resume":u,"interactions:action-move":h,"auto-start:check":function(e){var t=e.interaction,n=e.interactable,i=e.buttons,r=n.options.drag;if(r&&r.enabled&&(!t.pointerIsDown||!/mouse|pointer/.test(t.pointerType)||0!=(i&n.options.drag.mouseButtons)))return e.action={name:"drag",axis:"start"===r.lockAxis?r.startAxis:r.lockAxis},!1}},draggable:function(e){return o.default.object(e)?(this.options.drag.enabled=!1!==e.enabled,this.setPerAction("drag",e),this.setOnEvents("drag",e),/^(xy|x|y|start)$/.test(e.lockAxis)&&(this.options.drag.lockAxis=e.lockAxis),/^(xy|x|y)$/.test(e.startAxis)&&(this.options.drag.startAxis=e.startAxis),this):o.default.bool(e)?(this.options.drag.enabled=e,this):this.options.drag},beforeMove:u,move:h,defaults:{startAxis:"xy",lockAxis:"xy"},getCursor:function(){return"move"}},p=f;d.default=p;var m={};Object.defineProperty(m,"__esModule",{value:!0}),m.default=void 0;var v={init:function(e){var t=e;v.document=t.document,v.DocumentFragment=t.DocumentFragment||g,v.SVGElement=t.SVGElement||g,v.SVGSVGElement=t.SVGSVGElement||g,v.SVGElementInstance=t.SVGElementInstance||g,v.Element=t.Element||g,v.HTMLElement=t.HTMLElement||v.Element,v.Event=t.Event,v.Touch=t.Touch||g,v.PointerEvent=t.PointerEvent||t.MSPointerEvent},document:null,DocumentFragment:null,SVGElement:null,SVGSVGElement:null,SVGElementInstance:null,Element:null,HTMLElement:null,Event:null,Touch:null,PointerEvent:null};function g(){}var y=v;m.default=y;var b={};Object.defineProperty(b,"__esModule",{value:!0}),b.default=void 0;var w={init:function(e){var t=m.default.Element,n=e.navigator||{};w.supportsTouch="ontouchstart"in e||o.default.func(e.DocumentTouch)&&m.default.document instanceof e.DocumentTouch,w.supportsPointerEvent=!1!==n.pointerEnabled&&!!m.default.PointerEvent,w.isIOS=/iP(hone|od|ad)/.test(n.platform),w.isIOS7=/iP(hone|od|ad)/.test(n.platform)&&/OS 7[^\d]/.test(n.appVersion),w.isIe9=/MSIE 9/.test(n.userAgent),w.isOperaMobile="Opera"===n.appName&&w.supportsTouch&&/Presto/.test(n.userAgent),w.prefixedMatchesSelector="matches"in t.prototype?"matches":"webkitMatchesSelector"in t.prototype?"webkitMatchesSelector":"mozMatchesSelector"in t.prototype?"mozMatchesSelector":"oMatchesSelector"in t.prototype?"oMatchesSelector":"msMatchesSelector",w.pEventTypes=w.supportsPointerEvent?m.default.PointerEvent===e.MSPointerEvent?{up:"MSPointerUp",down:"MSPointerDown",over:"mouseover",out:"mouseout",move:"MSPointerMove",cancel:"MSPointerCancel"}:{up:"pointerup",down:"pointerdown",over:"pointerover",out:"pointerout",move:"pointermove",cancel:"pointercancel"}:null,w.wheelEvent=m.default.document&&"onmousewheel"in m.default.document?"mousewheel":"wheel"},supportsTouch:null,supportsPointerEvent:null,isIOS7:null,isIOS:null,isIe9:null,isOperaMobile:null,prefixedMatchesSelector:null,pEventTypes:null,wheelEvent:null},x=w;b.default=x;var E={};function S(e){var t=e.parentNode;if(o.default.docFrag(t)){for(;(t=t.host)&&o.default.docFrag(t););return t}return t}function C(e,n){return t.window!==t.realWindow&&(n=n.replace(/\/deep\//g," ")),e[b.default.prefixedMatchesSelector](n)}Object.defineProperty(E,"__esModule",{value:!0}),E.closest=function(e,t){for(;o.default.element(e);){if(C(e,t))return e;e=S(e)}return null},E.getActualElement=function(e){return e.correspondingUseElement||e},E.getElementClientRect=j,E.getElementRect=function(e){var n=j(e);if(!b.default.isIOS7&&n){var i=_(t.getWindow(e));n.left+=i.x,n.right+=i.x,n.top+=i.y,n.bottom+=i.y}return n},E.getPath=function(e){for(var t=[];e;)t.push(e),e=S(e);return t},E.getScrollXY=_,E.indexOfDeepestElement=function(e){for(var n,i=[],r=0;r<e.length;r++){var o=e[r],s=e[n];if(o&&r!==n)if(s){var a=P(o),l=P(s);if(a!==o.ownerDocument)if(l!==o.ownerDocument)if(a!==l){i=i.length?i:O(s);var c=void 0;if(s instanceof m.default.HTMLElement&&o instanceof m.default.SVGElement&&!(o instanceof m.default.SVGSVGElement)){if(o===l)continue;c=o.ownerSVGElement}else c=o;for(var d=O(c,s.ownerDocument),u=0;d[u]&&d[u]===i[u];)u++;var h=[d[u-1],d[u],i[u]];if(h[0])for(var f=h[0].lastChild;f;){if(f===h[1]){n=r,i=d;break}if(f===h[2])break;f=f.previousSibling}}else p=o,v=s,(parseInt(t.getWindow(p).getComputedStyle(p).zIndex,10)||0)>=(parseInt(t.getWindow(v).getComputedStyle(v).zIndex,10)||0)&&(n=r);else n=r}else n=r}var p,v;return n},E.matchesSelector=C,E.matchesUpTo=function(e,t,n){for(;o.default.element(e);){if(C(e,t))return!0;if((e=S(e))===n)return C(e,t)}return!1},E.nodeContains=function(e,t){if(e.contains)return e.contains(t);for(;t;){if(t===e)return!0;t=t.parentNode}return!1},E.parentNode=S,E.trySelector=function(e){return!!o.default.string(e)&&(m.default.document.querySelector(e),!0)};var P=function(e){return e.parentNode||e.host};function O(e,t){for(var n,i=[],r=e;(n=P(r))&&r!==t&&n!==r.ownerDocument;)i.unshift(r),r=n;return i}function _(e){return{x:(e=e||t.window).scrollX||e.document.documentElement.scrollLeft,y:e.scrollY||e.document.documentElement.scrollTop}}function j(e){var t=e instanceof m.default.SVGElement?e.getBoundingClientRect():e.getClientRects()[0];return t&&{left:t.left,right:t.right,top:t.top,bottom:t.bottom,width:t.width||t.right-t.left,height:t.height||t.bottom-t.top}}var k={};Object.defineProperty(k,"__esModule",{value:!0}),k.default=function(e,t){for(var n in t)e[n]=t[n];return e};var T={};function M(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,i=Array(t);n<t;n++)i[n]=e[n];return i}function I(e,t,n){return"parent"===e?(0,E.parentNode)(n):"self"===e?t.getRect(n):(0,E.closest)(n,e)}Object.defineProperty(T,"__esModule",{value:!0}),T.addEdges=function(e,t,n){e.left&&(t.left+=n.x),e.right&&(t.right+=n.x),e.top&&(t.top+=n.y),e.bottom&&(t.bottom+=n.y),t.width=t.right-t.left,t.height=t.bottom-t.top},T.getStringOptionResult=I,T.rectToXY=function(e){return e&&{x:"x"in e?e.x:e.left,y:"y"in e?e.y:e.top}},T.resolveRectLike=function(e,t,n,i){var r,s=e;return o.default.string(s)?s=I(s,t,n):o.default.func(s)&&(s=s.apply(void 0,function(e){if(Array.isArray(e))return M(e)}(r=i)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(r)||function(e,t){if(e){if("string"==typeof e)return M(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?M(e,t):void 0}}(r)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}())),o.default.element(s)&&(s=(0,E.getElementRect)(s)),s},T.tlbrToXywh=function(e){return!e||"x"in e&&"y"in e||((e=(0,k.default)({},e)).x=e.left||0,e.y=e.top||0,e.width=e.width||(e.right||0)-e.x,e.height=e.height||(e.bottom||0)-e.y),e},T.xywhToTlbr=function(e){return!e||"left"in e&&"top"in e||((e=(0,k.default)({},e)).left=e.x||0,e.top=e.y||0,e.right=e.right||e.left+e.width,e.bottom=e.bottom||e.top+e.height),e};var L={};Object.defineProperty(L,"__esModule",{value:!0}),L.default=function(e,t,n){var i=e.options[n],r=i&&i.origin||e.options.origin,o=(0,T.resolveRectLike)(r,e,t,[e&&t]);return(0,T.rectToXY)(o)||{x:0,y:0}};var D={};function R(e){return e.trim().split(/ +/)}Object.defineProperty(D,"__esModule",{value:!0}),D.default=function e(t,n,i){if(i=i||{},o.default.string(t)&&-1!==t.search(" ")&&(t=R(t)),o.default.array(t))return t.reduce((function(t,r){return(0,k.default)(t,e(r,n,i))}),i);if(o.default.object(t)&&(n=t,t=""),o.default.func(n))i[t]=i[t]||[],i[t].push(n);else if(o.default.array(n))for(var r=0;r<n.length;r++){var s;s=n[r],e(t,s,i)}else if(o.default.object(n))for(var a in n){var l=R(a).map((function(e){return"".concat(t).concat(e)}));e(l,n[a],i)}return i};var z={};Object.defineProperty(z,"__esModule",{value:!0}),z.default=void 0,z.default=function(e,t){return Math.sqrt(e*e+t*t)};var A={};Object.defineProperty(A,"__esModule",{value:!0}),A.default=function(e,t){e.__set||(e.__set={});var n=function(n){"function"!=typeof e[n]&&"__set"!==n&&Object.defineProperty(e,n,{get:function(){return n in e.__set?e.__set[n]:e.__set[n]=t[n]},set:function(t){e.__set[n]=t},configurable:!0})};for(var i in t)n(i);return e};var B={};function N(e){return e instanceof m.default.Event||e instanceof m.default.Touch}function W(e,t,n){return e=e||"page",(n=n||{}).x=t[e+"X"],n.y=t[e+"Y"],n}function F(e,t){return t=t||{x:0,y:0},b.default.isOperaMobile&&N(e)?(W("screen",e,t),t.x+=window.scrollX,t.y+=window.scrollY):W("page",e,t),t}function Y(e,t){return t=t||{},b.default.isOperaMobile&&N(e)?W("screen",e,t):W("client",e,t),t}function H(e){var t=[];return o.default.array(e)?(t[0]=e[0],t[1]=e[1]):"touchend"===e.type?1===e.touches.length?(t[0]=e.touches[0],t[1]=e.changedTouches[0]):0===e.touches.length&&(t[0]=e.changedTouches[0],t[1]=e.changedTouches[1]):(t[0]=e.touches[0],t[1]=e.touches[1]),t}function X(e){for(var t={pageX:0,pageY:0,clientX:0,clientY:0,screenX:0,screenY:0},n=0;n<e.length;n++){var i=e[n];for(var r in t)t[r]+=i[r]}for(var o in t)t[o]/=e.length;return t}Object.defineProperty(B,"__esModule",{value:!0}),B.coordsToEvent=function(e){return{coords:e,get page(){return this.coords.page},get client(){return this.coords.client},get timeStamp(){return this.coords.timeStamp},get pageX(){return this.coords.page.x},get pageY(){return this.coords.page.y},get clientX(){return this.coords.client.x},get clientY(){return this.coords.client.y},get pointerId(){return this.coords.pointerId},get target(){return this.coords.target},get type(){return this.coords.type},get pointerType(){return this.coords.pointerType},get buttons(){return this.coords.buttons},preventDefault:function(){}}},B.copyCoords=function(e,t){e.page=e.page||{},e.page.x=t.page.x,e.page.y=t.page.y,e.client=e.client||{},e.client.x=t.client.x,e.client.y=t.client.y,e.timeStamp=t.timeStamp},B.getClientXY=Y,B.getEventTargets=function(e){var t=o.default.func(e.composedPath)?e.composedPath():e.path;return[E.getActualElement(t?t[0]:e.target),E.getActualElement(e.currentTarget)]},B.getPageXY=F,B.getPointerId=function(e){return o.default.number(e.pointerId)?e.pointerId:e.identifier},B.getPointerType=function(e){return o.default.string(e.pointerType)?e.pointerType:o.default.number(e.pointerType)?[void 0,void 0,"touch","pen","mouse"][e.pointerType]:/touch/.test(e.type||"")||e instanceof m.default.Touch?"touch":"mouse"},B.getTouchPair=H,B.getXY=W,B.isNativePointer=N,B.newCoords=function(){return{page:{x:0,y:0},client:{x:0,y:0},timeStamp:0}},B.pointerAverage=X,Object.defineProperty(B,"pointerExtend",{enumerable:!0,get:function(){return A.default}}),B.setCoordDeltas=function(e,t,n){e.page.x=n.page.x-t.page.x,e.page.y=n.page.y-t.page.y,e.client.x=n.client.x-t.client.x,e.client.y=n.client.y-t.client.y,e.timeStamp=n.timeStamp-t.timeStamp},B.setCoordVelocity=function(e,t){var n=Math.max(t.timeStamp/1e3,.001);e.page.x=t.page.x/n,e.page.y=t.page.y/n,e.client.x=t.client.x/n,e.client.y=t.client.y/n,e.timeStamp=n},B.setCoords=function(e,t,n){var i=t.length>1?X(t):t[0];F(i,e.page),Y(i,e.client),e.timeStamp=n},B.setZeroCoords=function(e){e.page.x=0,e.page.y=0,e.client.x=0,e.client.y=0},B.touchAngle=function(e,t){var n=t+"X",i=t+"Y",r=H(e),o=r[1][n]-r[0][n],s=r[1][i]-r[0][i];return 180*Math.atan2(s,o)/Math.PI},B.touchBBox=function(e){if(!e.length)return null;var t=H(e),n=Math.min(t[0].pageX,t[1].pageX),i=Math.min(t[0].pageY,t[1].pageY),r=Math.max(t[0].pageX,t[1].pageX),o=Math.max(t[0].pageY,t[1].pageY);return{x:n,y:i,left:n,top:i,right:r,bottom:o,width:r-n,height:o-i}},B.touchDistance=function(e,t){var n=t+"X",i=t+"Y",r=H(e),o=r[0][n]-r[1][n],s=r[0][i]-r[1][i];return(0,z.default)(o,s)};var U={};function V(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}Object.defineProperty(U,"__esModule",{value:!0}),U.BaseEvent=void 0;var $=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),V(this,"immediatePropagationStopped",!1),V(this,"propagationStopped",!1),this._interaction=t}var t,n;return t=e,(n=[{key:"preventDefault",value:function(){}},{key:"stopPropagation",value:function(){this.propagationStopped=!0}},{key:"stopImmediatePropagation",value:function(){this.immediatePropagationStopped=this.propagationStopped=!0}}])&&function(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}(t.prototype,n),Object.defineProperty(t,"prototype",{writable:!1}),e}();U.BaseEvent=$,Object.defineProperty($.prototype,"interaction",{get:function(){return this._interaction._proxy},set:function(){}});var q={};Object.defineProperty(q,"__esModule",{value:!0}),q.remove=q.merge=q.from=q.findIndex=q.find=q.contains=void 0,q.contains=function(e,t){return-1!==e.indexOf(t)},q.remove=function(e,t){return e.splice(e.indexOf(t),1)};var K=function(e,t){for(var n=0;n<t.length;n++){var i=t[n];e.push(i)}return e};q.merge=K,q.from=function(e){return K([],e)};var G=function(e,t){for(var n=0;n<e.length;n++)if(t(e[n],n,e))return n;return-1};q.findIndex=G,q.find=function(e,t){return e[G(e,t)]};var Z={};function J(e){return J="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},J(e)}function Q(e,t){return Q=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},Q(e,t)}function ee(e,t){if(t&&("object"===J(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return te(e)}function te(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function ne(e){return ne=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},ne(e)}function ie(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}Object.defineProperty(Z,"__esModule",{value:!0}),Z.DropEvent=void 0;var re=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Q(e,t)}(s,e);var t,n,i,r,o=(i=s,r=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=ne(i);if(r){var n=ne(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return ee(this,e)});function s(e,t,n){var i;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,s),ie(te(i=o.call(this,t._interaction)),"dropzone",void 0),ie(te(i),"dragEvent",void 0),ie(te(i),"relatedTarget",void 0),ie(te(i),"draggable",void 0),ie(te(i),"propagationStopped",!1),ie(te(i),"immediatePropagationStopped",!1);var r="dragleave"===n?e.prev:e.cur,a=r.element,l=r.dropzone;return i.type=n,i.target=a,i.currentTarget=a,i.dropzone=l,i.dragEvent=t,i.relatedTarget=t.target,i.draggable=t.interactable,i.timeStamp=t.timeStamp,i}return t=s,(n=[{key:"reject",value:function(){var e=this,t=this._interaction.dropState;if("dropactivate"===this.type||this.dropzone&&t.cur.dropzone===this.dropzone&&t.cur.element===this.target)if(t.prev.dropzone=this.dropzone,t.prev.element=this.target,t.rejected=!0,t.events.enter=null,this.stopImmediatePropagation(),"dropactivate"===this.type){var n=t.activeDrops,i=q.findIndex(n,(function(t){var n=t.dropzone,i=t.element;return n===e.dropzone&&i===e.target}));t.activeDrops.splice(i,1);var r=new s(t,this.dragEvent,"dropdeactivate");r.dropzone=this.dropzone,r.target=this.target,this.dropzone.fire(r)}else this.dropzone.fire(new s(t,this.dragEvent,"dragleave"))}},{key:"preventDefault",value:function(){}},{key:"stopPropagation",value:function(){this.propagationStopped=!0}},{key:"stopImmediatePropagation",value:function(){this.immediatePropagationStopped=this.propagationStopped=!0}}])&&function(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}(t.prototype,n),Object.defineProperty(t,"prototype",{writable:!1}),s}(U.BaseEvent);Z.DropEvent=re;var oe={};function se(e,t){for(var n=0;n<e.slice().length;n++){var i=e.slice()[n],r=i.dropzone,o=i.element;t.dropzone=r,t.target=o,r.fire(t),t.propagationStopped=t.immediatePropagationStopped=!1}}function ae(e,t){for(var n=function(e,t){for(var n=e.interactables,i=[],r=0;r<n.list.length;r++){var s=n.list[r];if(s.options.drop.enabled){var a=s.options.drop.accept;if(!(o.default.element(a)&&a!==t||o.default.string(a)&&!E.matchesSelector(t,a)||o.default.func(a)&&!a({dropzone:s,draggableElement:t})))for(var l=o.default.string(s.target)?s._context.querySelectorAll(s.target):o.default.array(s.target)?s.target:[s.target],c=0;c<l.length;c++){var d=l[c];d!==t&&i.push({dropzone:s,element:d,rect:s.getRect(d)})}}}return i}(e,t),i=0;i<n.length;i++){var r=n[i];r.rect=r.dropzone.getRect(r.element)}return n}function le(e,t,n){for(var i=e.dropState,r=e.interactable,o=e.element,s=[],a=0;a<i.activeDrops.length;a++){var l=i.activeDrops[a],c=l.dropzone,d=l.element,u=l.rect;s.push(c.dropCheck(t,n,r,o,d,u)?d:null)}var h=E.indexOfDeepestElement(s);return i.activeDrops[h]||null}function ce(e,t,n){var i=e.dropState,r={enter:null,leave:null,activate:null,deactivate:null,move:null,drop:null};return"dragstart"===n.type&&(r.activate=new Z.DropEvent(i,n,"dropactivate"),r.activate.target=null,r.activate.dropzone=null),"dragend"===n.type&&(r.deactivate=new Z.DropEvent(i,n,"dropdeactivate"),r.deactivate.target=null,r.deactivate.dropzone=null),i.rejected||(i.cur.element!==i.prev.element&&(i.prev.dropzone&&(r.leave=new Z.DropEvent(i,n,"dragleave"),n.dragLeave=r.leave.target=i.prev.element,n.prevDropzone=r.leave.dropzone=i.prev.dropzone),i.cur.dropzone&&(r.enter=new Z.DropEvent(i,n,"dragenter"),n.dragEnter=i.cur.element,n.dropzone=i.cur.dropzone)),"dragend"===n.type&&i.cur.dropzone&&(r.drop=new Z.DropEvent(i,n,"drop"),n.dropzone=i.cur.dropzone,n.relatedTarget=i.cur.element),"dragmove"===n.type&&i.cur.dropzone&&(r.move=new Z.DropEvent(i,n,"dropmove"),r.move.dragmove=n,n.dropzone=i.cur.dropzone)),r}function de(e,t){var n=e.dropState,i=n.activeDrops,r=n.cur,o=n.prev;t.leave&&o.dropzone.fire(t.leave),t.enter&&r.dropzone.fire(t.enter),t.move&&r.dropzone.fire(t.move),t.drop&&r.dropzone.fire(t.drop),t.deactivate&&se(i,t.deactivate),n.prev.dropzone=r.dropzone,n.prev.element=r.element}function ue(e,t){var n=e.interaction,i=e.iEvent,r=e.event;if("dragmove"===i.type||"dragend"===i.type){var o=n.dropState;t.dynamicDrop&&(o.activeDrops=ae(t,n.element));var s=i,a=le(n,s,r);o.rejected=o.rejected&&!!a&&a.dropzone===o.cur.dropzone&&a.element===o.cur.element,o.cur.dropzone=a&&a.dropzone,o.cur.element=a&&a.element,o.events=ce(n,0,s)}}Object.defineProperty(oe,"__esModule",{value:!0}),oe.default=void 0;var he={id:"actions/drop",install:function(e){var t=e.actions,n=e.interactStatic,i=e.Interactable,r=e.defaults;e.usePlugin(d.default),i.prototype.dropzone=function(e){return function(e,t){if(o.default.object(t)){if(e.options.drop.enabled=!1!==t.enabled,t.listeners){var n=(0,D.default)(t.listeners),i=Object.keys(n).reduce((function(e,t){return e[/^(enter|leave)/.test(t)?"drag".concat(t):/^(activate|deactivate|move)/.test(t)?"drop".concat(t):t]=n[t],e}),{});e.off(e.options.drop.listeners),e.on(i),e.options.drop.listeners=i}return o.default.func(t.ondrop)&&e.on("drop",t.ondrop),o.default.func(t.ondropactivate)&&e.on("dropactivate",t.ondropactivate),o.default.func(t.ondropdeactivate)&&e.on("dropdeactivate",t.ondropdeactivate),o.default.func(t.ondragenter)&&e.on("dragenter",t.ondragenter),o.default.func(t.ondragleave)&&e.on("dragleave",t.ondragleave),o.default.func(t.ondropmove)&&e.on("dropmove",t.ondropmove),/^(pointer|center)$/.test(t.overlap)?e.options.drop.overlap=t.overlap:o.default.number(t.overlap)&&(e.options.drop.overlap=Math.max(Math.min(1,t.overlap),0)),"accept"in t&&(e.options.drop.accept=t.accept),"checker"in t&&(e.options.drop.checker=t.checker),e}return o.default.bool(t)?(e.options.drop.enabled=t,e):e.options.drop}(this,e)},i.prototype.dropCheck=function(e,t,n,i,r,s){return function(e,t,n,i,r,s,a){var l=!1;if(!(a=a||e.getRect(s)))return!!e.options.drop.checker&&e.options.drop.checker(t,n,l,e,s,i,r);var c=e.options.drop.overlap;if("pointer"===c){var d=(0,L.default)(i,r,"drag"),u=B.getPageXY(t);u.x+=d.x,u.y+=d.y;var h=u.x>a.left&&u.x<a.right,f=u.y>a.top&&u.y<a.bottom;l=h&&f}var p=i.getRect(r);if(p&&"center"===c){var m=p.left+p.width/2,v=p.top+p.height/2;l=m>=a.left&&m<=a.right&&v>=a.top&&v<=a.bottom}return p&&o.default.number(c)&&(l=Math.max(0,Math.min(a.right,p.right)-Math.max(a.left,p.left))*Math.max(0,Math.min(a.bottom,p.bottom)-Math.max(a.top,p.top))/(p.width*p.height)>=c),e.options.drop.checker&&(l=e.options.drop.checker(t,n,l,e,s,i,r)),l}(this,e,t,n,i,r,s)},n.dynamicDrop=function(t){return o.default.bool(t)?(e.dynamicDrop=t,n):e.dynamicDrop},(0,k.default)(t.phaselessTypes,{dragenter:!0,dragleave:!0,dropactivate:!0,dropdeactivate:!0,dropmove:!0,drop:!0}),t.methodDict.drop="dropzone",e.dynamicDrop=!1,r.actions.drop=he.defaults},listeners:{"interactions:before-action-start":function(e){var t=e.interaction;"drag"===t.prepared.name&&(t.dropState={cur:{dropzone:null,element:null},prev:{dropzone:null,element:null},rejected:null,events:null,activeDrops:[]})},"interactions:after-action-start":function(e,t){var n=e.interaction,i=(e.event,e.iEvent);if("drag"===n.prepared.name){var r=n.dropState;r.activeDrops=null,r.events=null,r.activeDrops=ae(t,n.element),r.events=ce(n,0,i),r.events.activate&&(se(r.activeDrops,r.events.activate),t.fire("actions/drop:start",{interaction:n,dragEvent:i}))}},"interactions:action-move":ue,"interactions:after-action-move":function(e,t){var n=e.interaction,i=e.iEvent;"drag"===n.prepared.name&&(de(n,n.dropState.events),t.fire("actions/drop:move",{interaction:n,dragEvent:i}),n.dropState.events={})},"interactions:action-end":function(e,t){if("drag"===e.interaction.prepared.name){var n=e.interaction,i=e.iEvent;ue(e,t),de(n,n.dropState.events),t.fire("actions/drop:end",{interaction:n,dragEvent:i})}},"interactions:stop":function(e){var t=e.interaction;if("drag"===t.prepared.name){var n=t.dropState;n&&(n.activeDrops=null,n.events=null,n.cur.dropzone=null,n.cur.element=null,n.prev.dropzone=null,n.prev.element=null,n.rejected=!1)}}},getActiveDrops:ae,getDrop:le,getDropEvents:ce,fireDropEvents:de,defaults:{enabled:!1,accept:null,overlap:"pointer"}},fe=he;oe.default=fe;var pe={};function me(e){var t=e.interaction,n=e.iEvent,i=e.phase;if("gesture"===t.prepared.name){var r=t.pointers.map((function(e){return e.pointer})),s="start"===i,a="end"===i,l=t.interactable.options.deltaSource;if(n.touches=[r[0],r[1]],s)n.distance=B.touchDistance(r,l),n.box=B.touchBBox(r),n.scale=1,n.ds=0,n.angle=B.touchAngle(r,l),n.da=0,t.gesture.startDistance=n.distance,t.gesture.startAngle=n.angle;else if(a){var c=t.prevEvent;n.distance=c.distance,n.box=c.box,n.scale=c.scale,n.ds=0,n.angle=c.angle,n.da=0}else n.distance=B.touchDistance(r,l),n.box=B.touchBBox(r),n.scale=n.distance/t.gesture.startDistance,n.angle=B.touchAngle(r,l),n.ds=n.scale-t.gesture.scale,n.da=n.angle-t.gesture.angle;t.gesture.distance=n.distance,t.gesture.angle=n.angle,o.default.number(n.scale)&&n.scale!==1/0&&!isNaN(n.scale)&&(t.gesture.scale=n.scale)}}Object.defineProperty(pe,"__esModule",{value:!0}),pe.default=void 0;var ve={id:"actions/gesture",before:["actions/drag","actions/resize"],install:function(e){var t=e.actions,n=e.Interactable,i=e.defaults;n.prototype.gesturable=function(e){return o.default.object(e)?(this.options.gesture.enabled=!1!==e.enabled,this.setPerAction("gesture",e),this.setOnEvents("gesture",e),this):o.default.bool(e)?(this.options.gesture.enabled=e,this):this.options.gesture},t.map.gesture=ve,t.methodDict.gesture="gesturable",i.actions.gesture=ve.defaults},listeners:{"interactions:action-start":me,"interactions:action-move":me,"interactions:action-end":me,"interactions:new":function(e){e.interaction.gesture={angle:0,distance:0,scale:1,startAngle:0,startDistance:0}},"auto-start:check":function(e){if(!(e.interaction.pointers.length<2)){var t=e.interactable.options.gesture;if(t&&t.enabled)return e.action={name:"gesture"},!1}}},defaults:{},getCursor:function(){return""}},ge=ve;pe.default=ge;var ye={};function be(e,t,n,i,r,s,a){if(!t)return!1;if(!0===t){var l=o.default.number(s.width)?s.width:s.right-s.left,c=o.default.number(s.height)?s.height:s.bottom-s.top;if(a=Math.min(a,Math.abs(("left"===e||"right"===e?l:c)/2)),l<0&&("left"===e?e="right":"right"===e&&(e="left")),c<0&&("top"===e?e="bottom":"bottom"===e&&(e="top")),"left"===e){var d=l>=0?s.left:s.right;return n.x<d+a}if("top"===e){var u=c>=0?s.top:s.bottom;return n.y<u+a}if("right"===e)return n.x>(l>=0?s.right:s.left)-a;if("bottom"===e)return n.y>(c>=0?s.bottom:s.top)-a}return!!o.default.element(i)&&(o.default.element(t)?t===i:E.matchesUpTo(i,t,r))}function we(e){var t=e.iEvent,n=e.interaction;if("resize"===n.prepared.name&&n.resizeAxes){var i=t;n.interactable.options.resize.square?("y"===n.resizeAxes?i.delta.x=i.delta.y:i.delta.y=i.delta.x,i.axes="xy"):(i.axes=n.resizeAxes,"x"===n.resizeAxes?i.delta.y=0:"y"===n.resizeAxes&&(i.delta.x=0))}}Object.defineProperty(ye,"__esModule",{value:!0}),ye.default=void 0;var xe={id:"actions/resize",before:["actions/drag"],install:function(e){var t=e.actions,n=e.browser,i=e.Interactable,r=e.defaults;xe.cursors=function(e){return e.isIe9?{x:"e-resize",y:"s-resize",xy:"se-resize",top:"n-resize",left:"w-resize",bottom:"s-resize",right:"e-resize",topleft:"se-resize",bottomright:"se-resize",topright:"ne-resize",bottomleft:"ne-resize"}:{x:"ew-resize",y:"ns-resize",xy:"nwse-resize",top:"ns-resize",left:"ew-resize",bottom:"ns-resize",right:"ew-resize",topleft:"nwse-resize",bottomright:"nwse-resize",topright:"nesw-resize",bottomleft:"nesw-resize"}}(n),xe.defaultMargin=n.supportsTouch||n.supportsPointerEvent?20:10,i.prototype.resizable=function(t){return function(e,t,n){return o.default.object(t)?(e.options.resize.enabled=!1!==t.enabled,e.setPerAction("resize",t),e.setOnEvents("resize",t),o.default.string(t.axis)&&/^x$|^y$|^xy$/.test(t.axis)?e.options.resize.axis=t.axis:null===t.axis&&(e.options.resize.axis=n.defaults.actions.resize.axis),o.default.bool(t.preserveAspectRatio)?e.options.resize.preserveAspectRatio=t.preserveAspectRatio:o.default.bool(t.square)&&(e.options.resize.square=t.square),e):o.default.bool(t)?(e.options.resize.enabled=t,e):e.options.resize}(this,t,e)},t.map.resize=xe,t.methodDict.resize="resizable",r.actions.resize=xe.defaults},listeners:{"interactions:new":function(e){e.interaction.resizeAxes="xy"},"interactions:action-start":function(e){!function(e){var t=e.iEvent,n=e.interaction;if("resize"===n.prepared.name&&n.prepared.edges){var i=t,r=n.rect;n._rects={start:(0,k.default)({},r),corrected:(0,k.default)({},r),previous:(0,k.default)({},r),delta:{left:0,right:0,width:0,top:0,bottom:0,height:0}},i.edges=n.prepared.edges,i.rect=n._rects.corrected,i.deltaRect=n._rects.delta}}(e),we(e)},"interactions:action-move":function(e){!function(e){var t=e.iEvent,n=e.interaction;if("resize"===n.prepared.name&&n.prepared.edges){var i=t,r=n.interactable.options.resize.invert,o="reposition"===r||"negate"===r,s=n.rect,a=n._rects,l=a.start,c=a.corrected,d=a.delta,u=a.previous;if((0,k.default)(u,c),o){if((0,k.default)(c,s),"reposition"===r){if(c.top>c.bottom){var h=c.top;c.top=c.bottom,c.bottom=h}if(c.left>c.right){var f=c.left;c.left=c.right,c.right=f}}}else c.top=Math.min(s.top,l.bottom),c.bottom=Math.max(s.bottom,l.top),c.left=Math.min(s.left,l.right),c.right=Math.max(s.right,l.left);for(var p in c.width=c.right-c.left,c.height=c.bottom-c.top,c)d[p]=c[p]-u[p];i.edges=n.prepared.edges,i.rect=c,i.deltaRect=d}}(e),we(e)},"interactions:action-end":function(e){var t=e.iEvent,n=e.interaction;if("resize"===n.prepared.name&&n.prepared.edges){var i=t;i.edges=n.prepared.edges,i.rect=n._rects.corrected,i.deltaRect=n._rects.delta}},"auto-start:check":function(e){var t=e.interaction,n=e.interactable,i=e.element,r=e.rect,s=e.buttons;if(r){var a=(0,k.default)({},t.coords.cur.page),l=n.options.resize;if(l&&l.enabled&&(!t.pointerIsDown||!/mouse|pointer/.test(t.pointerType)||0!=(s&l.mouseButtons))){if(o.default.object(l.edges)){var c={left:!1,right:!1,top:!1,bottom:!1};for(var d in c)c[d]=be(d,l.edges[d],a,t._latestPointer.eventTarget,i,r,l.margin||xe.defaultMargin);c.left=c.left&&!c.right,c.top=c.top&&!c.bottom,(c.left||c.right||c.top||c.bottom)&&(e.action={name:"resize",edges:c})}else{var u="y"!==l.axis&&a.x>r.right-xe.defaultMargin,h="x"!==l.axis&&a.y>r.bottom-xe.defaultMargin;(u||h)&&(e.action={name:"resize",axes:(u?"x":"")+(h?"y":"")})}return!e.action&&void 0}}}},defaults:{square:!1,preserveAspectRatio:!1,axis:"xy",margin:NaN,edges:null,invert:"none"},cursors:null,getCursor:function(e){var t=e.edges,n=e.axis,i=e.name,r=xe.cursors,o=null;if(n)o=r[i+n];else if(t){for(var s="",a=["top","bottom","left","right"],l=0;l<a.length;l++){var c=a[l];t[c]&&(s+=c)}o=r[s]}return o},defaultMargin:null},Ee=xe;ye.default=Ee;var Se={};Object.defineProperty(Se,"__esModule",{value:!0}),Se.default=void 0;var Ce={id:"actions",install:function(e){e.usePlugin(pe.default),e.usePlugin(ye.default),e.usePlugin(d.default),e.usePlugin(oe.default)}};Se.default=Ce;var Pe={};Object.defineProperty(Pe,"__esModule",{value:!0}),Pe.default=void 0;var Oe,_e,je=0,ke={request:function(e){return Oe(e)},cancel:function(e){return _e(e)},init:function(e){if(Oe=e.requestAnimationFrame,_e=e.cancelAnimationFrame,!Oe)for(var t=["ms","moz","webkit","o"],n=0;n<t.length;n++){var i=t[n];Oe=e["".concat(i,"RequestAnimationFrame")],_e=e["".concat(i,"CancelAnimationFrame")]||e["".concat(i,"CancelRequestAnimationFrame")]}Oe=Oe&&Oe.bind(e),_e=_e&&_e.bind(e),Oe||(Oe=function(t){var n=Date.now(),i=Math.max(0,16-(n-je)),r=e.setTimeout((function(){t(n+i)}),i);return je=n+i,r},_e=function(e){return clearTimeout(e)})}};Pe.default=ke;var Te={};Object.defineProperty(Te,"__esModule",{value:!0}),Te.default=void 0,Te.getContainer=Ie,Te.getScroll=Le,Te.getScrollSize=function(e){return o.default.window(e)&&(e=window.document.body),{x:e.scrollWidth,y:e.scrollHeight}},Te.getScrollSizeDelta=function(e,t){var n=e.interaction,i=e.element,r=n&&n.interactable.options[n.prepared.name].autoScroll;if(!r||!r.enabled)return t(),{x:0,y:0};var o=Ie(r.container,n.interactable,i),s=Le(o);t();var a=Le(o);return{x:a.x-s.x,y:a.y-s.y}};var Me={defaults:{enabled:!1,margin:60,container:null,speed:300},now:Date.now,interaction:null,i:0,x:0,y:0,isScrolling:!1,prevTime:0,margin:0,speed:0,start:function(e){Me.isScrolling=!0,Pe.default.cancel(Me.i),e.autoScroll=Me,Me.interaction=e,Me.prevTime=Me.now(),Me.i=Pe.default.request(Me.scroll)},stop:function(){Me.isScrolling=!1,Me.interaction&&(Me.interaction.autoScroll=null),Pe.default.cancel(Me.i)},scroll:function(){var e=Me.interaction,t=e.interactable,n=e.element,i=e.prepared.name,r=t.options[i].autoScroll,s=Ie(r.container,t,n),a=Me.now(),l=(a-Me.prevTime)/1e3,c=r.speed*l;if(c>=1){var d={x:Me.x*c,y:Me.y*c};if(d.x||d.y){var u=Le(s);o.default.window(s)?s.scrollBy(d.x,d.y):s&&(s.scrollLeft+=d.x,s.scrollTop+=d.y);var h=Le(s),f={x:h.x-u.x,y:h.y-u.y};(f.x||f.y)&&t.fire({type:"autoscroll",target:n,interactable:t,delta:f,interaction:e,container:s})}Me.prevTime=a}Me.isScrolling&&(Pe.default.cancel(Me.i),Me.i=Pe.default.request(Me.scroll))},check:function(e,t){var n;return null==(n=e.options[t].autoScroll)?void 0:n.enabled},onInteractionMove:function(e){var t=e.interaction,n=e.pointer;if(t.interacting()&&Me.check(t.interactable,t.prepared.name))if(t.simulation)Me.x=Me.y=0;else{var i,r,s,a,l=t.interactable,c=t.element,d=t.prepared.name,u=l.options[d].autoScroll,h=Ie(u.container,l,c);if(o.default.window(h))a=n.clientX<Me.margin,i=n.clientY<Me.margin,r=n.clientX>h.innerWidth-Me.margin,s=n.clientY>h.innerHeight-Me.margin;else{var f=E.getElementClientRect(h);a=n.clientX<f.left+Me.margin,i=n.clientY<f.top+Me.margin,r=n.clientX>f.right-Me.margin,s=n.clientY>f.bottom-Me.margin}Me.x=r?1:a?-1:0,Me.y=s?1:i?-1:0,Me.isScrolling||(Me.margin=u.margin,Me.speed=u.speed,Me.start(t))}}};function Ie(e,n,i){return(o.default.string(e)?(0,T.getStringOptionResult)(e,n,i):e)||(0,t.getWindow)(i)}function Le(e){return o.default.window(e)&&(e=window.document.body),{x:e.scrollLeft,y:e.scrollTop}}var De={id:"auto-scroll",install:function(e){var t=e.defaults,n=e.actions;e.autoScroll=Me,Me.now=function(){return e.now()},n.phaselessTypes.autoscroll=!0,t.perAction.autoScroll=Me.defaults},listeners:{"interactions:new":function(e){e.interaction.autoScroll=null},"interactions:destroy":function(e){e.interaction.autoScroll=null,Me.stop(),Me.interaction&&(Me.interaction=null)},"interactions:stop":Me.stop,"interactions:action-move":function(e){return Me.onInteractionMove(e)}}},Re=De;Te.default=Re;var ze={};Object.defineProperty(ze,"__esModule",{value:!0}),ze.copyAction=function(e,t){return e.name=t.name,e.axis=t.axis,e.edges=t.edges,e},ze.sign=void 0,ze.warnOnce=function(e,n){var i=!1;return function(){return i||(t.window.console.warn(n),i=!0),e.apply(this,arguments)}},ze.sign=function(e){return e>=0?1:-1};var Ae={};function Be(e){return o.default.bool(e)?(this.options.styleCursor=e,this):null===e?(delete this.options.styleCursor,this):this.options.styleCursor}function Ne(e){return o.default.func(e)?(this.options.actionChecker=e,this):null===e?(delete this.options.actionChecker,this):this.options.actionChecker}Object.defineProperty(Ae,"__esModule",{value:!0}),Ae.default=void 0;var We={id:"auto-start/interactableMethods",install:function(e){var t=e.Interactable;t.prototype.getAction=function(t,n,i,r){var o=function(e,t,n,i,r){var o=e.getRect(i),s={action:null,interactable:e,interaction:n,element:i,rect:o,buttons:t.buttons||{0:1,1:4,3:8,4:16}[t.button]};return r.fire("auto-start:check",s),s.action}(this,n,i,r,e);return this.options.actionChecker?this.options.actionChecker(t,n,o,this,r,i):o},t.prototype.ignoreFrom=(0,ze.warnOnce)((function(e){return this._backCompatOption("ignoreFrom",e)}),"Interactable.ignoreFrom() has been deprecated. Use Interactble.draggable({ignoreFrom: newValue})."),t.prototype.allowFrom=(0,ze.warnOnce)((function(e){return this._backCompatOption("allowFrom",e)}),"Interactable.allowFrom() has been deprecated. Use Interactble.draggable({allowFrom: newValue})."),t.prototype.actionChecker=Ne,t.prototype.styleCursor=Be}};Ae.default=We;var Fe={};function Ye(e,t,n,i,r){return t.testIgnoreAllow(t.options[e.name],n,i)&&t.options[e.name].enabled&&Ve(t,n,e,r)?e:null}function He(e,t,n,i,r,o,s){for(var a=0,l=i.length;a<l;a++){var c=i[a],d=r[a],u=c.getAction(t,n,e,d);if(u){var h=Ye(u,c,d,o,s);if(h)return{action:h,interactable:c,element:d}}}return{action:null,interactable:null,element:null}}function Xe(e,t,n,i,r){var s=[],a=[],l=i;function c(e){s.push(e),a.push(l)}for(;o.default.element(l);){s=[],a=[],r.interactables.forEachMatch(l,c);var d=He(e,t,n,s,a,i,r);if(d.action&&!d.interactable.options[d.action.name].manualStart)return d;l=E.parentNode(l)}return{action:null,interactable:null,element:null}}function Ue(e,t,n){var i=t.action,r=t.interactable,o=t.element;i=i||{name:null},e.interactable=r,e.element=o,(0,ze.copyAction)(e.prepared,i),e.rect=r&&i.name?r.getRect(o):null,Ke(e,n),n.fire("autoStart:prepared",{interaction:e})}function Ve(e,t,n,i){var r=e.options,o=r[n.name].max,s=r[n.name].maxPerElement,a=i.autoStart.maxInteractions,l=0,c=0,d=0;if(!(o&&s&&a))return!1;for(var u=0;u<i.interactions.list.length;u++){var h=i.interactions.list[u],f=h.prepared.name;if(h.interacting()){if(++l>=a)return!1;if(h.interactable===e){if((c+=f===n.name?1:0)>=o)return!1;if(h.element===t&&(d++,f===n.name&&d>=s))return!1}}}return a>0}function $e(e,t){return o.default.number(e)?(t.autoStart.maxInteractions=e,this):t.autoStart.maxInteractions}function qe(e,t,n){var i=n.autoStart.cursorElement;i&&i!==e&&(i.style.cursor=""),e.ownerDocument.documentElement.style.cursor=t,e.style.cursor=t,n.autoStart.cursorElement=t?e:null}function Ke(e,t){var n=e.interactable,i=e.element,r=e.prepared;if("mouse"===e.pointerType&&n&&n.options.styleCursor){var s="";if(r.name){var a=n.options[r.name].cursorChecker;s=o.default.func(a)?a(r,n,i,e._interacting):t.actions.map[r.name].getCursor(r)}qe(e.element,s||"",t)}else t.autoStart.cursorElement&&qe(t.autoStart.cursorElement,"",t)}Object.defineProperty(Fe,"__esModule",{value:!0}),Fe.default=void 0;var Ge={id:"auto-start/base",before:["actions"],install:function(e){var t=e.interactStatic,n=e.defaults;e.usePlugin(Ae.default),n.base.actionChecker=null,n.base.styleCursor=!0,(0,k.default)(n.perAction,{manualStart:!1,max:1/0,maxPerElement:1,allowFrom:null,ignoreFrom:null,mouseButtons:1}),t.maxInteractions=function(t){return $e(t,e)},e.autoStart={maxInteractions:1/0,withinInteractionLimit:Ve,cursorElement:null}},listeners:{"interactions:down":function(e,t){var n=e.interaction,i=e.pointer,r=e.event,o=e.eventTarget;n.interacting()||Ue(n,Xe(n,i,r,o,t),t)},"interactions:move":function(e,t){!function(e,t){var n=e.interaction,i=e.pointer,r=e.event,o=e.eventTarget;"mouse"!==n.pointerType||n.pointerIsDown||n.interacting()||Ue(n,Xe(n,i,r,o,t),t)}(e,t),function(e,t){var n=e.interaction;if(n.pointerIsDown&&!n.interacting()&&n.pointerWasMoved&&n.prepared.name){t.fire("autoStart:before-start",e);var i=n.interactable,r=n.prepared.name;r&&i&&(i.options[r].manualStart||!Ve(i,n.element,n.prepared,t)?n.stop():(n.start(n.prepared,i,n.element),Ke(n,t)))}}(e,t)},"interactions:stop":function(e,t){var n=e.interaction,i=n.interactable;i&&i.options.styleCursor&&qe(n.element,"",t)}},maxInteractions:$e,withinInteractionLimit:Ve,validateAction:Ye},Ze=Ge;Fe.default=Ze;var Je={};Object.defineProperty(Je,"__esModule",{value:!0}),Je.default=void 0;var Qe={id:"auto-start/dragAxis",listeners:{"autoStart:before-start":function(e,t){var n=e.interaction,i=e.eventTarget,r=e.dx,s=e.dy;if("drag"===n.prepared.name){var a=Math.abs(r),l=Math.abs(s),c=n.interactable.options.drag,d=c.startAxis,u=a>l?"x":a<l?"y":"xy";if(n.prepared.axis="start"===c.lockAxis?u[0]:c.lockAxis,"xy"!==u&&"xy"!==d&&d!==u){n.prepared.name=null;for(var h=i,f=function(e){if(e!==n.interactable){var r=n.interactable.options.drag;if(!r.manualStart&&e.testIgnoreAllow(r,h,i)){var o=e.getAction(n.downPointer,n.downEvent,n,h);if(o&&"drag"===o.name&&function(e,t){if(!t)return!1;var n=t.options.drag.startAxis;return"xy"===e||"xy"===n||n===e}(u,e)&&Fe.default.validateAction(o,e,h,i,t))return e}}};o.default.element(h);){var p=t.interactables.forEachMatch(h,f);if(p){n.prepared.name="drag",n.interactable=p,n.element=h;break}h=(0,E.parentNode)(h)}}}}}};Je.default=Qe;var et={};function tt(e){var t=e.prepared&&e.prepared.name;if(!t)return null;var n=e.interactable.options;return n[t].hold||n[t].delay}Object.defineProperty(et,"__esModule",{value:!0}),et.default=void 0;var nt={id:"auto-start/hold",install:function(e){var t=e.defaults;e.usePlugin(Fe.default),t.perAction.hold=0,t.perAction.delay=0},listeners:{"interactions:new":function(e){e.interaction.autoStartHoldTimer=null},"autoStart:prepared":function(e){var t=e.interaction,n=tt(t);n>0&&(t.autoStartHoldTimer=setTimeout((function(){t.start(t.prepared,t.interactable,t.element)}),n))},"interactions:move":function(e){var t=e.interaction,n=e.duplicate;t.autoStartHoldTimer&&t.pointerWasMoved&&!n&&(clearTimeout(t.autoStartHoldTimer),t.autoStartHoldTimer=null)},"autoStart:before-start":function(e){var t=e.interaction;tt(t)>0&&(t.prepared.name=null)}},getHoldDuration:tt},it=nt;et.default=it;var rt={};Object.defineProperty(rt,"__esModule",{value:!0}),rt.default=void 0;var ot={id:"auto-start",install:function(e){e.usePlugin(Fe.default),e.usePlugin(et.default),e.usePlugin(Je.default)}};rt.default=ot;var st={};function at(e){return/^(always|never|auto)$/.test(e)?(this.options.preventDefault=e,this):o.default.bool(e)?(this.options.preventDefault=e?"always":"never",this):this.options.preventDefault}function lt(e){var t=e.interaction,n=e.event;t.interactable&&t.interactable.checkAndPreventDefault(n)}function ct(e){var n=e.Interactable;n.prototype.preventDefault=at,n.prototype.checkAndPreventDefault=function(n){return function(e,n,i){var r=e.options.preventDefault;if("never"!==r)if("always"!==r){if(n.events.supportsPassive&&/^touch(start|move)$/.test(i.type)){var s=(0,t.getWindow)(i.target).document,a=n.getDocOptions(s);if(!a||!a.events||!1!==a.events.passive)return}/^(mouse|pointer|touch)*(down|start)/i.test(i.type)||o.default.element(i.target)&&(0,E.matchesSelector)(i.target,"input,select,textarea,[contenteditable=true],[contenteditable=true] *")||i.preventDefault()}else i.preventDefault()}(this,e,n)},e.interactions.docEvents.push({type:"dragstart",listener:function(t){for(var n=0;n<e.interactions.list.length;n++){var i=e.interactions.list[n];if(i.element&&(i.element===t.target||(0,E.nodeContains)(i.element,t.target)))return void i.interactable.checkAndPreventDefault(t)}}})}Object.defineProperty(st,"__esModule",{value:!0}),st.default=void 0,st.install=ct;var dt={id:"core/interactablePreventDefault",install:ct,listeners:["down","move","up","cancel"].reduce((function(e,t){return e["interactions:".concat(t)]=lt,e}),{})};st.default=dt;var ut={};Object.defineProperty(ut,"__esModule",{value:!0}),ut.default=void 0,ut.default={};var ht,ft={};Object.defineProperty(ft,"__esModule",{value:!0}),ft.default=void 0,function(e){e.touchAction="touchAction",e.boxSizing="boxSizing",e.noListeners="noListeners"}(ht||(ht={})),ht.touchAction,ht.boxSizing,ht.noListeners;ft.default={id:"dev-tools",install:function(){}};var pt={};Object.defineProperty(pt,"__esModule",{value:!0}),pt.default=function e(t){var n={};for(var i in t){var r=t[i];o.default.plainObject(r)?n[i]=e(r):o.default.array(r)?n[i]=q.from(r):n[i]=r}return n};var mt={};function vt(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var i,r,o=[],s=!0,a=!1;try{for(n=n.call(e);!(s=(i=n.next()).done)&&(o.push(i.value),!t||o.length!==t);s=!0);}catch(e){a=!0,r=e}finally{try{s||null==n.return||n.return()}finally{if(a)throw r}}return o}}(e,t)||function(e,t){if(e){if("string"==typeof e)return gt(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?gt(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function gt(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,i=Array(t);n<t;n++)i[n]=e[n];return i}function yt(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}Object.defineProperty(mt,"__esModule",{value:!0}),mt.default=void 0,mt.getRectOffset=xt;var bt=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),yt(this,"states",[]),yt(this,"startOffset",{left:0,right:0,top:0,bottom:0}),yt(this,"startDelta",void 0),yt(this,"result",void 0),yt(this,"endResult",void 0),yt(this,"edges",void 0),yt(this,"interaction",void 0),this.interaction=t,this.result=wt()}var t,n;return t=e,(n=[{key:"start",value:function(e,t){var n=e.phase,i=this.interaction,r=function(e){var t=e.interactable.options[e.prepared.name],n=t.modifiers;return n&&n.length?n:["snap","snapSize","snapEdges","restrict","restrictEdges","restrictSize"].map((function(e){var n=t[e];return n&&n.enabled&&{options:n,methods:n._methods}})).filter((function(e){return!!e}))}(i);this.prepareStates(r),this.edges=(0,k.default)({},i.edges),this.startOffset=xt(i.rect,t),this.startDelta={x:0,y:0};var o=this.fillArg({phase:n,pageCoords:t,preEnd:!1});return this.result=wt(),this.startAll(o),this.result=this.setAll(o)}},{key:"fillArg",value:function(e){var t=this.interaction;return e.interaction=t,e.interactable=t.interactable,e.element=t.element,e.rect=e.rect||t.rect,e.edges=this.edges,e.startOffset=this.startOffset,e}},{key:"startAll",value:function(e){for(var t=0;t<this.states.length;t++){var n=this.states[t];n.methods.start&&(e.state=n,n.methods.start(e))}}},{key:"setAll",value:function(e){var t=e.phase,n=e.preEnd,i=e.skipModifiers,r=e.rect;e.coords=(0,k.default)({},e.pageCoords),e.rect=(0,k.default)({},r);for(var o=i?this.states.slice(i):this.states,s=wt(e.coords,e.rect),a=0;a<o.length;a++){var l,c=o[a],d=c.options,u=(0,k.default)({},e.coords),h=null;null!=(l=c.methods)&&l.set&&this.shouldDo(d,n,t)&&(e.state=c,h=c.methods.set(e),T.addEdges(this.interaction.edges,e.rect,{x:e.coords.x-u.x,y:e.coords.y-u.y})),s.eventProps.push(h)}s.delta.x=e.coords.x-e.pageCoords.x,s.delta.y=e.coords.y-e.pageCoords.y,s.rectDelta.left=e.rect.left-r.left,s.rectDelta.right=e.rect.right-r.right,s.rectDelta.top=e.rect.top-r.top,s.rectDelta.bottom=e.rect.bottom-r.bottom;var f=this.result.coords,p=this.result.rect;if(f&&p){var m=s.rect.left!==p.left||s.rect.right!==p.right||s.rect.top!==p.top||s.rect.bottom!==p.bottom;s.changed=m||f.x!==s.coords.x||f.y!==s.coords.y}return s}},{key:"applyToInteraction",value:function(e){var t=this.interaction,n=e.phase,i=t.coords.cur,r=t.coords.start,o=this.result,s=this.startDelta,a=o.delta;"start"===n&&(0,k.default)(this.startDelta,o.delta);for(var l=0;l<[[r,s],[i,a]].length;l++){var c=vt([[r,s],[i,a]][l],2),d=c[0],u=c[1];d.page.x+=u.x,d.page.y+=u.y,d.client.x+=u.x,d.client.y+=u.y}var h=this.result.rectDelta,f=e.rect||t.rect;f.left+=h.left,f.right+=h.right,f.top+=h.top,f.bottom+=h.bottom,f.width=f.right-f.left,f.height=f.bottom-f.top}},{key:"setAndApply",value:function(e){var t=this.interaction,n=e.phase,i=e.preEnd,r=e.skipModifiers,o=this.setAll(this.fillArg({preEnd:i,phase:n,pageCoords:e.modifiedCoords||t.coords.cur.page}));if(this.result=o,!o.changed&&(!r||r<this.states.length)&&t.interacting())return!1;if(e.modifiedCoords){var s=t.coords.cur.page,a={x:e.modifiedCoords.x-s.x,y:e.modifiedCoords.y-s.y};o.coords.x+=a.x,o.coords.y+=a.y,o.delta.x+=a.x,o.delta.y+=a.y}this.applyToInteraction(e)}},{key:"beforeEnd",value:function(e){var t=e.interaction,n=e.event,i=this.states;if(i&&i.length){for(var r=!1,o=0;o<i.length;o++){var s=i[o];e.state=s;var a=s.options,l=s.methods,c=l.beforeEnd&&l.beforeEnd(e);if(c)return this.endResult=c,!1;r=r||!r&&this.shouldDo(a,!0,e.phase,!0)}r&&t.move({event:n,preEnd:!0})}}},{key:"stop",value:function(e){var t=e.interaction;if(this.states&&this.states.length){var n=(0,k.default)({states:this.states,interactable:t.interactable,element:t.element,rect:null},e);this.fillArg(n);for(var i=0;i<this.states.length;i++){var r=this.states[i];n.state=r,r.methods.stop&&r.methods.stop(n)}this.states=null,this.endResult=null}}},{key:"prepareStates",value:function(e){this.states=[];for(var t=0;t<e.length;t++){var n=e[t],i=n.options,r=n.methods,o=n.name;this.states.push({options:i,methods:r,index:t,name:o})}return this.states}},{key:"restoreInteractionCoords",value:function(e){var t=e.interaction,n=t.coords,i=t.rect,r=t.modification;if(r.result){for(var o=r.startDelta,s=r.result,a=s.delta,l=s.rectDelta,c=[[n.start,o],[n.cur,a]],d=0;d<c.length;d++){var u=vt(c[d],2),h=u[0],f=u[1];h.page.x-=f.x,h.page.y-=f.y,h.client.x-=f.x,h.client.y-=f.y}i.left-=l.left,i.right-=l.right,i.top-=l.top,i.bottom-=l.bottom}}},{key:"shouldDo",value:function(e,t,n,i){return!(!e||!1===e.enabled||i&&!e.endOnly||e.endOnly&&!t||"start"===n&&!e.setStart)}},{key:"copyFrom",value:function(e){this.startOffset=e.startOffset,this.startDelta=e.startDelta,this.edges=e.edges,this.states=e.states.map((function(e){return(0,pt.default)(e)})),this.result=wt((0,k.default)({},e.result.coords),(0,k.default)({},e.result.rect))}},{key:"destroy",value:function(){for(var e in this)this[e]=null}}])&&function(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}(t.prototype,n),Object.defineProperty(t,"prototype",{writable:!1}),e}();function wt(e,t){return{rect:t,coords:e,delta:{x:0,y:0},rectDelta:{left:0,right:0,top:0,bottom:0},eventProps:[],changed:!0}}function xt(e,t){return e?{left:t.x-e.left,top:t.y-e.top,right:e.right-t.x,bottom:e.bottom-t.y}:{left:0,top:0,right:0,bottom:0}}mt.default=bt;var Et={};function St(e){var t=e.iEvent,n=e.interaction.modification.result;n&&(t.modifiers=n.eventProps)}Object.defineProperty(Et,"__esModule",{value:!0}),Et.addEventModifiers=St,Et.default=void 0,Et.makeModifier=function(e,t){var n=e.defaults,i={start:e.start,set:e.set,beforeEnd:e.beforeEnd,stop:e.stop},r=function(e){var r=e||{};for(var o in r.enabled=!1!==r.enabled,n)o in r||(r[o]=n[o]);var s={options:r,methods:i,name:t,enable:function(){return r.enabled=!0,s},disable:function(){return r.enabled=!1,s}};return s};return t&&"string"==typeof t&&(r._defaults=n,r._methods=i),r};var Ct={id:"modifiers/base",before:["actions"],install:function(e){e.defaults.perAction.modifiers=[]},listeners:{"interactions:new":function(e){var t=e.interaction;t.modification=new mt.default(t)},"interactions:before-action-start":function(e){var t=e.interaction.modification;t.start(e,e.interaction.coords.start.page),e.interaction.edges=t.edges,t.applyToInteraction(e)},"interactions:before-action-move":function(e){return e.interaction.modification.setAndApply(e)},"interactions:before-action-end":function(e){return e.interaction.modification.beforeEnd(e)},"interactions:action-start":St,"interactions:action-move":St,"interactions:action-end":St,"interactions:after-action-start":function(e){return e.interaction.modification.restoreInteractionCoords(e)},"interactions:after-action-move":function(e){return e.interaction.modification.restoreInteractionCoords(e)},"interactions:stop":function(e){return e.interaction.modification.stop(e)}}},Pt=Ct;Et.default=Pt;var Ot={};Object.defineProperty(Ot,"__esModule",{value:!0}),Ot.defaults=void 0,Ot.defaults={base:{preventDefault:"auto",deltaSource:"page"},perAction:{enabled:!1,origin:{x:0,y:0}},actions:{}};var _t={};function jt(e){return jt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},jt(e)}function kt(e,t){return kt=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},kt(e,t)}function Tt(e,t){if(t&&("object"===jt(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return Mt(e)}function Mt(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function It(e){return It=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},It(e)}function Lt(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}Object.defineProperty(_t,"__esModule",{value:!0}),_t.InteractEvent=void 0;var Dt=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&kt(e,t)}(s,e);var t,n,i,r,o=(i=s,r=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=It(i);if(r){var n=It(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return Tt(this,e)});function s(e,t,n,i,r,a,l){var c;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,s),Lt(Mt(c=o.call(this,e)),"relatedTarget",null),Lt(Mt(c),"screenX",void 0),Lt(Mt(c),"screenY",void 0),Lt(Mt(c),"button",void 0),Lt(Mt(c),"buttons",void 0),Lt(Mt(c),"ctrlKey",void 0),Lt(Mt(c),"shiftKey",void 0),Lt(Mt(c),"altKey",void 0),Lt(Mt(c),"metaKey",void 0),Lt(Mt(c),"page",void 0),Lt(Mt(c),"client",void 0),Lt(Mt(c),"delta",void 0),Lt(Mt(c),"rect",void 0),Lt(Mt(c),"x0",void 0),Lt(Mt(c),"y0",void 0),Lt(Mt(c),"t0",void 0),Lt(Mt(c),"dt",void 0),Lt(Mt(c),"duration",void 0),Lt(Mt(c),"clientX0",void 0),Lt(Mt(c),"clientY0",void 0),Lt(Mt(c),"velocity",void 0),Lt(Mt(c),"speed",void 0),Lt(Mt(c),"swipe",void 0),Lt(Mt(c),"axes",void 0),Lt(Mt(c),"preEnd",void 0),r=r||e.element;var d=e.interactable,u=(d&&d.options||Ot.defaults).deltaSource,h=(0,L.default)(d,r,n),f="start"===i,p="end"===i,m=f?Mt(c):e.prevEvent,v=f?e.coords.start:p?{page:m.page,client:m.client,timeStamp:e.coords.cur.timeStamp}:e.coords.cur;return c.page=(0,k.default)({},v.page),c.client=(0,k.default)({},v.client),c.rect=(0,k.default)({},e.rect),c.timeStamp=v.timeStamp,p||(c.page.x-=h.x,c.page.y-=h.y,c.client.x-=h.x,c.client.y-=h.y),c.ctrlKey=t.ctrlKey,c.altKey=t.altKey,c.shiftKey=t.shiftKey,c.metaKey=t.metaKey,c.button=t.button,c.buttons=t.buttons,c.target=r,c.currentTarget=r,c.preEnd=a,c.type=l||n+(i||""),c.interactable=d,c.t0=f?e.pointers[e.pointers.length-1].downTime:m.t0,c.x0=e.coords.start.page.x-h.x,c.y0=e.coords.start.page.y-h.y,c.clientX0=e.coords.start.client.x-h.x,c.clientY0=e.coords.start.client.y-h.y,c.delta=f||p?{x:0,y:0}:{x:c[u].x-m[u].x,y:c[u].y-m[u].y},c.dt=e.coords.delta.timeStamp,c.duration=c.timeStamp-c.t0,c.velocity=(0,k.default)({},e.coords.velocity[u]),c.speed=(0,z.default)(c.velocity.x,c.velocity.y),c.swipe=p||"inertiastart"===i?c.getSwipe():null,c}return t=s,(n=[{key:"getSwipe",value:function(){var e=this._interaction;if(e.prevEvent.speed<600||this.timeStamp-e.prevEvent.timeStamp>150)return null;var t=180*Math.atan2(e.prevEvent.velocityY,e.prevEvent.velocityX)/Math.PI;t<0&&(t+=360);var n=112.5<=t&&t<247.5,i=202.5<=t&&t<337.5;return{up:i,down:!i&&22.5<=t&&t<157.5,left:n,right:!n&&(292.5<=t||t<67.5),angle:t,speed:e.prevEvent.speed,velocity:{x:e.prevEvent.velocityX,y:e.prevEvent.velocityY}}}},{key:"preventDefault",value:function(){}},{key:"stopImmediatePropagation",value:function(){this.immediatePropagationStopped=this.propagationStopped=!0}},{key:"stopPropagation",value:function(){this.propagationStopped=!0}}])&&function(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}(t.prototype,n),Object.defineProperty(t,"prototype",{writable:!1}),s}(U.BaseEvent);_t.InteractEvent=Dt,Object.defineProperties(Dt.prototype,{pageX:{get:function(){return this.page.x},set:function(e){this.page.x=e}},pageY:{get:function(){return this.page.y},set:function(e){this.page.y=e}},clientX:{get:function(){return this.client.x},set:function(e){this.client.x=e}},clientY:{get:function(){return this.client.y},set:function(e){this.client.y=e}},dx:{get:function(){return this.delta.x},set:function(e){this.delta.x=e}},dy:{get:function(){return this.delta.y},set:function(e){this.delta.y=e}},velocityX:{get:function(){return this.velocity.x},set:function(e){this.velocity.x=e}},velocityY:{get:function(){return this.velocity.y},set:function(e){this.velocity.y=e}}});var Rt={};function zt(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}function At(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}Object.defineProperty(Rt,"__esModule",{value:!0}),Rt.PointerInfo=void 0;var Bt=function(e,t,n){return t&&zt(e.prototype,t),n&&zt(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}((function e(t,n,i,r,o){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),At(this,"id",void 0),At(this,"pointer",void 0),At(this,"event",void 0),At(this,"downTime",void 0),At(this,"downTarget",void 0),this.id=t,this.pointer=n,this.event=i,this.downTime=r,this.downTarget=o}));Rt.PointerInfo=Bt;var Nt,Wt,Ft={};function Yt(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}Object.defineProperty(Ft,"__esModule",{value:!0}),Ft.Interaction=void 0,Object.defineProperty(Ft,"PointerInfo",{enumerable:!0,get:function(){return Rt.PointerInfo}}),Ft.default=Ft._ProxyValues=Ft._ProxyMethods=void 0,Ft._ProxyValues=Nt,function(e){e.interactable="",e.element="",e.prepared="",e.pointerIsDown="",e.pointerWasMoved="",e._proxy=""}(Nt||(Ft._ProxyValues=Nt={})),Ft._ProxyMethods=Wt,function(e){e.start="",e.move="",e.end="",e.stop="",e.interacting=""}(Wt||(Ft._ProxyMethods=Wt={}));var Ht=0,Xt=function(){function e(t){var n=this,i=t.pointerType,r=t.scopeFire;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),Yt(this,"interactable",null),Yt(this,"element",null),Yt(this,"rect",null),Yt(this,"_rects",void 0),Yt(this,"edges",null),Yt(this,"_scopeFire",void 0),Yt(this,"prepared",{name:null,axis:null,edges:null}),Yt(this,"pointerType",void 0),Yt(this,"pointers",[]),Yt(this,"downEvent",null),Yt(this,"downPointer",{}),Yt(this,"_latestPointer",{pointer:null,event:null,eventTarget:null}),Yt(this,"prevEvent",null),Yt(this,"pointerIsDown",!1),Yt(this,"pointerWasMoved",!1),Yt(this,"_interacting",!1),Yt(this,"_ending",!1),Yt(this,"_stopped",!0),Yt(this,"_proxy",null),Yt(this,"simulation",null),Yt(this,"doMove",(0,ze.warnOnce)((function(e){this.move(e)}),"The interaction.doMove() method has been renamed to interaction.move()")),Yt(this,"coords",{start:B.newCoords(),prev:B.newCoords(),cur:B.newCoords(),delta:B.newCoords(),velocity:B.newCoords()}),Yt(this,"_id",Ht++),this._scopeFire=r,this.pointerType=i;var o=this;this._proxy={};var s=function(e){Object.defineProperty(n._proxy,e,{get:function(){return o[e]}})};for(var a in Nt)s(a);var l=function(e){Object.defineProperty(n._proxy,e,{value:function(){return o[e].apply(o,arguments)}})};for(var c in Wt)l(c);this._scopeFire("interactions:new",{interaction:this})}var t,n;return t=e,n=[{key:"pointerMoveTolerance",get:function(){return 1}},{key:"pointerDown",value:function(e,t,n){var i=this.updatePointer(e,t,n,!0),r=this.pointers[i];this._scopeFire("interactions:down",{pointer:e,event:t,eventTarget:n,pointerIndex:i,pointerInfo:r,type:"down",interaction:this})}},{key:"start",value:function(e,t,n){return!(this.interacting()||!this.pointerIsDown||this.pointers.length<("gesture"===e.name?2:1)||!t.options[e.name].enabled)&&((0,ze.copyAction)(this.prepared,e),this.interactable=t,this.element=n,this.rect=t.getRect(n),this.edges=this.prepared.edges?(0,k.default)({},this.prepared.edges):{left:!0,right:!0,top:!0,bottom:!0},this._stopped=!1,this._interacting=this._doPhase({interaction:this,event:this.downEvent,phase:"start"})&&!this._stopped,this._interacting)}},{key:"pointerMove",value:function(e,t,n){this.simulation||this.modification&&this.modification.endResult||this.updatePointer(e,t,n,!1);var i,r,o=this.coords.cur.page.x===this.coords.prev.page.x&&this.coords.cur.page.y===this.coords.prev.page.y&&this.coords.cur.client.x===this.coords.prev.client.x&&this.coords.cur.client.y===this.coords.prev.client.y;this.pointerIsDown&&!this.pointerWasMoved&&(i=this.coords.cur.client.x-this.coords.start.client.x,r=this.coords.cur.client.y-this.coords.start.client.y,this.pointerWasMoved=(0,z.default)(i,r)>this.pointerMoveTolerance);var s=this.getPointerIndex(e),a={pointer:e,pointerIndex:s,pointerInfo:this.pointers[s],event:t,type:"move",eventTarget:n,dx:i,dy:r,duplicate:o,interaction:this};o||B.setCoordVelocity(this.coords.velocity,this.coords.delta),this._scopeFire("interactions:move",a),o||this.simulation||(this.interacting()&&(a.type=null,this.move(a)),this.pointerWasMoved&&B.copyCoords(this.coords.prev,this.coords.cur))}},{key:"move",value:function(e){e&&e.event||B.setZeroCoords(this.coords.delta),(e=(0,k.default)({pointer:this._latestPointer.pointer,event:this._latestPointer.event,eventTarget:this._latestPointer.eventTarget,interaction:this},e||{})).phase="move",this._doPhase(e)}},{key:"pointerUp",value:function(e,t,n,i){var r=this.getPointerIndex(e);-1===r&&(r=this.updatePointer(e,t,n,!1));var o=/cancel$/i.test(t.type)?"cancel":"up";this._scopeFire("interactions:".concat(o),{pointer:e,pointerIndex:r,pointerInfo:this.pointers[r],event:t,eventTarget:n,type:o,curEventTarget:i,interaction:this}),this.simulation||this.end(t),this.removePointer(e,t)}},{key:"documentBlur",value:function(e){this.end(e),this._scopeFire("interactions:blur",{event:e,type:"blur",interaction:this})}},{key:"end",value:function(e){var t;this._ending=!0,e=e||this._latestPointer.event,this.interacting()&&(t=this._doPhase({event:e,interaction:this,phase:"end"})),this._ending=!1,!0===t&&this.stop()}},{key:"currentAction",value:function(){return this._interacting?this.prepared.name:null}},{key:"interacting",value:function(){return this._interacting}},{key:"stop",value:function(){this._scopeFire("interactions:stop",{interaction:this}),this.interactable=this.element=null,this._interacting=!1,this._stopped=!0,this.prepared.name=this.prevEvent=null}},{key:"getPointerIndex",value:function(e){var t=B.getPointerId(e);return"mouse"===this.pointerType||"pen"===this.pointerType?this.pointers.length-1:q.findIndex(this.pointers,(function(e){return e.id===t}))}},{key:"getPointerInfo",value:function(e){return this.pointers[this.getPointerIndex(e)]}},{key:"updatePointer",value:function(e,t,n,i){var r=B.getPointerId(e),o=this.getPointerIndex(e),s=this.pointers[o];return i=!1!==i&&(i||/(down|start)$/i.test(t.type)),s?s.pointer=e:(s=new Rt.PointerInfo(r,e,t,null,null),o=this.pointers.length,this.pointers.push(s)),B.setCoords(this.coords.cur,this.pointers.map((function(e){return e.pointer})),this._now()),B.setCoordDeltas(this.coords.delta,this.coords.prev,this.coords.cur),i&&(this.pointerIsDown=!0,s.downTime=this.coords.cur.timeStamp,s.downTarget=n,B.pointerExtend(this.downPointer,e),this.interacting()||(B.copyCoords(this.coords.start,this.coords.cur),B.copyCoords(this.coords.prev,this.coords.cur),this.downEvent=t,this.pointerWasMoved=!1)),this._updateLatestPointer(e,t,n),this._scopeFire("interactions:update-pointer",{pointer:e,event:t,eventTarget:n,down:i,pointerInfo:s,pointerIndex:o,interaction:this}),o}},{key:"removePointer",value:function(e,t){var n=this.getPointerIndex(e);if(-1!==n){var i=this.pointers[n];this._scopeFire("interactions:remove-pointer",{pointer:e,event:t,eventTarget:null,pointerIndex:n,pointerInfo:i,interaction:this}),this.pointers.splice(n,1),this.pointerIsDown=!1}}},{key:"_updateLatestPointer",value:function(e,t,n){this._latestPointer.pointer=e,this._latestPointer.event=t,this._latestPointer.eventTarget=n}},{key:"destroy",value:function(){this._latestPointer.pointer=null,this._latestPointer.event=null,this._latestPointer.eventTarget=null}},{key:"_createPreparedEvent",value:function(e,t,n,i){return new _t.InteractEvent(this,e,this.prepared.name,t,this.element,n,i)}},{key:"_fireEvent",value:function(e){var t;null==(t=this.interactable)||t.fire(e),(!this.prevEvent||e.timeStamp>=this.prevEvent.timeStamp)&&(this.prevEvent=e)}},{key:"_doPhase",value:function(e){var t=e.event,n=e.phase,i=e.preEnd,r=e.type,o=this.rect;if(o&&"move"===n&&(T.addEdges(this.edges,o,this.coords.delta[this.interactable.options.deltaSource]),o.width=o.right-o.left,o.height=o.bottom-o.top),!1===this._scopeFire("interactions:before-action-".concat(n),e))return!1;var s=e.iEvent=this._createPreparedEvent(t,n,i,r);return this._scopeFire("interactions:action-".concat(n),e),"start"===n&&(this.prevEvent=s),this._fireEvent(s),this._scopeFire("interactions:after-action-".concat(n),e),!0}},{key:"_now",value:function(){return Date.now()}}],n&&function(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}(t.prototype,n),Object.defineProperty(t,"prototype",{writable:!1}),e}();Ft.Interaction=Xt;var Ut=Xt;Ft.default=Ut;var Vt={};function $t(e){e.pointerIsDown&&(Zt(e.coords.cur,e.offset.total),e.offset.pending.x=0,e.offset.pending.y=0)}function qt(e){Kt(e.interaction)}function Kt(e){if(!function(e){return!(!e.offset.pending.x&&!e.offset.pending.y)}(e))return!1;var t=e.offset.pending;return Zt(e.coords.cur,t),Zt(e.coords.delta,t),T.addEdges(e.edges,e.rect,t),t.x=0,t.y=0,!0}function Gt(e){var t=e.x,n=e.y;this.offset.pending.x+=t,this.offset.pending.y+=n,this.offset.total.x+=t,this.offset.total.y+=n}function Zt(e,t){var n=e.page,i=e.client,r=t.x,o=t.y;n.x+=r,n.y+=o,i.x+=r,i.y+=o}Object.defineProperty(Vt,"__esModule",{value:!0}),Vt.addTotal=$t,Vt.applyPending=Kt,Vt.default=void 0,Ft._ProxyMethods.offsetBy="";var Jt={id:"offset",before:["modifiers","pointer-events","actions","inertia"],install:function(e){e.Interaction.prototype.offsetBy=Gt},listeners:{"interactions:new":function(e){e.interaction.offset={total:{x:0,y:0},pending:{x:0,y:0}}},"interactions:update-pointer":function(e){return $t(e.interaction)},"interactions:before-action-start":qt,"interactions:before-action-move":qt,"interactions:before-action-end":function(e){var t=e.interaction;if(Kt(t))return t.move({offset:!0}),t.end(),!1},"interactions:stop":function(e){var t=e.interaction;t.offset.total.x=0,t.offset.total.y=0,t.offset.pending.x=0,t.offset.pending.y=0}}},Qt=Jt;Vt.default=Qt;var en={};function tn(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}Object.defineProperty(en,"__esModule",{value:!0}),en.default=en.InertiaState=void 0;var nn=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),tn(this,"active",!1),tn(this,"isModified",!1),tn(this,"smoothEnd",!1),tn(this,"allowResume",!1),tn(this,"modification",void 0),tn(this,"modifierCount",0),tn(this,"modifierArg",void 0),tn(this,"startCoords",void 0),tn(this,"t0",0),tn(this,"v0",0),tn(this,"te",0),tn(this,"targetOffset",void 0),tn(this,"modifiedOffset",void 0),tn(this,"currentOffset",void 0),tn(this,"lambda_v0",0),tn(this,"one_ve_v0",0),tn(this,"timeout",void 0),tn(this,"interaction",void 0),this.interaction=t}var t,n;return t=e,(n=[{key:"start",value:function(e){var t=this.interaction,n=rn(t);if(!n||!n.enabled)return!1;var i=t.coords.velocity.client,r=(0,z.default)(i.x,i.y),o=this.modification||(this.modification=new mt.default(t));if(o.copyFrom(t.modification),this.t0=t._now(),this.allowResume=n.allowResume,this.v0=r,this.currentOffset={x:0,y:0},this.startCoords=t.coords.cur.page,this.modifierArg=o.fillArg({pageCoords:this.startCoords,preEnd:!0,phase:"inertiastart"}),this.t0-t.coords.cur.timeStamp<50&&r>n.minSpeed&&r>n.endSpeed)this.startInertia();else{if(o.result=o.setAll(this.modifierArg),!o.result.changed)return!1;this.startSmoothEnd()}return t.modification.result.rect=null,t.offsetBy(this.targetOffset),t._doPhase({interaction:t,event:e,phase:"inertiastart"}),t.offsetBy({x:-this.targetOffset.x,y:-this.targetOffset.y}),t.modification.result.rect=null,this.active=!0,t.simulation=this,!0}},{key:"startInertia",value:function(){var e=this,t=this.interaction.coords.velocity.client,n=rn(this.interaction),i=n.resistance,r=-Math.log(n.endSpeed/this.v0)/i;this.targetOffset={x:(t.x-r)/i,y:(t.y-r)/i},this.te=r,this.lambda_v0=i/this.v0,this.one_ve_v0=1-n.endSpeed/this.v0;var o=this.modification,s=this.modifierArg;s.pageCoords={x:this.startCoords.x+this.targetOffset.x,y:this.startCoords.y+this.targetOffset.y},o.result=o.setAll(s),o.result.changed&&(this.isModified=!0,this.modifiedOffset={x:this.targetOffset.x+o.result.delta.x,y:this.targetOffset.y+o.result.delta.y}),this.onNextFrame((function(){return e.inertiaTick()}))}},{key:"startSmoothEnd",value:function(){var e=this;this.smoothEnd=!0,this.isModified=!0,this.targetOffset={x:this.modification.result.delta.x,y:this.modification.result.delta.y},this.onNextFrame((function(){return e.smoothEndTick()}))}},{key:"onNextFrame",value:function(e){var t=this;this.timeout=Pe.default.request((function(){t.active&&e()}))}},{key:"inertiaTick",value:function(){var e,t,n,i,r,o=this,s=this.interaction,a=rn(s).resistance,l=(s._now()-this.t0)/1e3;if(l<this.te){var c,d=1-(Math.exp(-a*l)-this.lambda_v0)/this.one_ve_v0;this.isModified?(e=this.targetOffset.x,t=this.targetOffset.y,n=this.modifiedOffset.x,i=this.modifiedOffset.y,c={x:sn(r=d,0,e,n),y:sn(r,0,t,i)}):c={x:this.targetOffset.x*d,y:this.targetOffset.y*d};var u={x:c.x-this.currentOffset.x,y:c.y-this.currentOffset.y};this.currentOffset.x+=u.x,this.currentOffset.y+=u.y,s.offsetBy(u),s.move(),this.onNextFrame((function(){return o.inertiaTick()}))}else s.offsetBy({x:this.modifiedOffset.x-this.currentOffset.x,y:this.modifiedOffset.y-this.currentOffset.y}),this.end()}},{key:"smoothEndTick",value:function(){var e=this,t=this.interaction,n=t._now()-this.t0,i=rn(t).smoothEndDuration;if(n<i){var r={x:an(n,0,this.targetOffset.x,i),y:an(n,0,this.targetOffset.y,i)},o={x:r.x-this.currentOffset.x,y:r.y-this.currentOffset.y};this.currentOffset.x+=o.x,this.currentOffset.y+=o.y,t.offsetBy(o),t.move({skipModifiers:this.modifierCount}),this.onNextFrame((function(){return e.smoothEndTick()}))}else t.offsetBy({x:this.targetOffset.x-this.currentOffset.x,y:this.targetOffset.y-this.currentOffset.y}),this.end()}},{key:"resume",value:function(e){var t=e.pointer,n=e.event,i=e.eventTarget,r=this.interaction;r.offsetBy({x:-this.currentOffset.x,y:-this.currentOffset.y}),r.updatePointer(t,n,i,!0),r._doPhase({interaction:r,event:n,phase:"resume"}),(0,B.copyCoords)(r.coords.prev,r.coords.cur),this.stop()}},{key:"end",value:function(){this.interaction.move(),this.interaction.end(),this.stop()}},{key:"stop",value:function(){this.active=this.smoothEnd=!1,this.interaction.simulation=null,Pe.default.cancel(this.timeout)}}])&&function(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}(t.prototype,n),Object.defineProperty(t,"prototype",{writable:!1}),e}();function rn(e){var t=e.interactable,n=e.prepared;return t&&t.options&&n.name&&t.options[n.name].inertia}en.InertiaState=nn;var on={id:"inertia",before:["modifiers","actions"],install:function(e){var t=e.defaults;e.usePlugin(Vt.default),e.usePlugin(Et.default),e.actions.phases.inertiastart=!0,e.actions.phases.resume=!0,t.perAction.inertia={enabled:!1,resistance:10,minSpeed:100,endSpeed:10,allowResume:!0,smoothEndDuration:300}},listeners:{"interactions:new":function(e){var t=e.interaction;t.inertia=new nn(t)},"interactions:before-action-end":function(e){var t=e.interaction,n=e.event;return(!t._interacting||t.simulation||!t.inertia.start(n))&&null},"interactions:down":function(e){var t=e.interaction,n=e.eventTarget,i=t.inertia;if(i.active)for(var r=n;o.default.element(r);){if(r===t.element){i.resume(e);break}r=E.parentNode(r)}},"interactions:stop":function(e){var t=e.interaction.inertia;t.active&&t.stop()},"interactions:before-action-resume":function(e){var t=e.interaction.modification;t.stop(e),t.start(e,e.interaction.coords.cur.page),t.applyToInteraction(e)},"interactions:before-action-inertiastart":function(e){return e.interaction.modification.setAndApply(e)},"interactions:action-resume":Et.addEventModifiers,"interactions:action-inertiastart":Et.addEventModifiers,"interactions:after-action-inertiastart":function(e){return e.interaction.modification.restoreInteractionCoords(e)},"interactions:after-action-resume":function(e){return e.interaction.modification.restoreInteractionCoords(e)}}};function sn(e,t,n,i){var r=1-e;return r*r*t+2*r*e*n+e*e*i}function an(e,t,n,i){return-n*(e/=i)*(e-2)+t}var ln=on;en.default=ln;var cn={};function dn(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function un(e,t){for(var n=0;n<t.length;n++){var i=t[n];if(e.immediatePropagationStopped)break;i(e)}}Object.defineProperty(cn,"__esModule",{value:!0}),cn.Eventable=void 0;var hn=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),dn(this,"options",void 0),dn(this,"types",{}),dn(this,"propagationStopped",!1),dn(this,"immediatePropagationStopped",!1),dn(this,"global",void 0),this.options=(0,k.default)({},t||{})}var t,n;return t=e,(n=[{key:"fire",value:function(e){var t,n=this.global;(t=this.types[e.type])&&un(e,t),!e.propagationStopped&&n&&(t=n[e.type])&&un(e,t)}},{key:"on",value:function(e,t){var n=(0,D.default)(e,t);for(e in n)this.types[e]=q.merge(this.types[e]||[],n[e])}},{key:"off",value:function(e,t){var n=(0,D.default)(e,t);for(e in n){var i=this.types[e];if(i&&i.length)for(var r=0;r<n[e].length;r++){var o=n[e][r],s=i.indexOf(o);-1!==s&&i.splice(s,1)}}}},{key:"getRect",value:function(e){return null}}])&&function(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}(t.prototype,n),Object.defineProperty(t,"prototype",{writable:!1}),e}();cn.Eventable=hn;var fn={};Object.defineProperty(fn,"__esModule",{value:!0}),fn.default=function(e,t){if(t.phaselessTypes[e])return!0;for(var n in t.map)if(0===e.indexOf(n)&&e.substr(n.length)in t.phases)return!0;return!1};var pn={};Object.defineProperty(pn,"__esModule",{value:!0}),pn.createInteractStatic=function(e){var t=function t(n,i){var r=e.interactables.get(n,i);return r||((r=e.interactables.new(n,i)).events.global=t.globalEvents),r};return t.getPointerAverage=B.pointerAverage,t.getTouchBBox=B.touchBBox,t.getTouchDistance=B.touchDistance,t.getTouchAngle=B.touchAngle,t.getElementRect=E.getElementRect,t.getElementClientRect=E.getElementClientRect,t.matchesSelector=E.matchesSelector,t.closest=E.closest,t.globalEvents={},t.version="1.10.17",t.scope=e,t.use=function(e,t){return this.scope.usePlugin(e,t),this},t.isSet=function(e,t){return!!this.scope.interactables.get(e,t&&t.context)},t.on=(0,ze.warnOnce)((function(e,t,n){if(o.default.string(e)&&-1!==e.search(" ")&&(e=e.trim().split(/ +/)),o.default.array(e)){for(var i=0;i<e.length;i++){var r=e[i];this.on(r,t,n)}return this}if(o.default.object(e)){for(var s in e)this.on(s,e[s],t);return this}return(0,fn.default)(e,this.scope.actions)?this.globalEvents[e]?this.globalEvents[e].push(t):this.globalEvents[e]=[t]:this.scope.events.add(this.scope.document,e,t,{options:n}),this}),"The interact.on() method is being deprecated"),t.off=(0,ze.warnOnce)((function(e,t,n){if(o.default.string(e)&&-1!==e.search(" ")&&(e=e.trim().split(/ +/)),o.default.array(e)){for(var i=0;i<e.length;i++){var r=e[i];this.off(r,t,n)}return this}if(o.default.object(e)){for(var s in e)this.off(s,e[s],t);return this}var a;return(0,fn.default)(e,this.scope.actions)?e in this.globalEvents&&-1!==(a=this.globalEvents[e].indexOf(t))&&this.globalEvents[e].splice(a,1):this.scope.events.remove(this.scope.document,e,t,n),this}),"The interact.off() method is being deprecated"),t.debug=function(){return this.scope},t.supportsTouch=function(){return b.default.supportsTouch},t.supportsPointerEvent=function(){return b.default.supportsPointerEvent},t.stop=function(){for(var e=0;e<this.scope.interactions.list.length;e++)this.scope.interactions.list[e].stop();return this},t.pointerMoveTolerance=function(e){return o.default.number(e)?(this.scope.interactions.pointerMoveTolerance=e,this):this.scope.interactions.pointerMoveTolerance},t.addDocument=function(e,t){this.scope.addDocument(e,t)},t.removeDocument=function(e){this.scope.removeDocument(e)},t};var mn={};function vn(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}Object.defineProperty(mn,"__esModule",{value:!0}),mn.Interactable=void 0;var gn=function(){function e(n,i,r,o){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),vn(this,"options",void 0),vn(this,"_actions",void 0),vn(this,"target",void 0),vn(this,"events",new cn.Eventable),vn(this,"_context",void 0),vn(this,"_win",void 0),vn(this,"_doc",void 0),vn(this,"_scopeEvents",void 0),vn(this,"_rectChecker",void 0),this._actions=i.actions,this.target=n,this._context=i.context||r,this._win=(0,t.getWindow)((0,E.trySelector)(n)?this._context:n),this._doc=this._win.document,this._scopeEvents=o,this.set(i)}var n,i;return n=e,(i=[{key:"_defaults",get:function(){return{base:{},perAction:{},actions:{}}}},{key:"setOnEvents",value:function(e,t){return o.default.func(t.onstart)&&this.on("".concat(e,"start"),t.onstart),o.default.func(t.onmove)&&this.on("".concat(e,"move"),t.onmove),o.default.func(t.onend)&&this.on("".concat(e,"end"),t.onend),o.default.func(t.oninertiastart)&&this.on("".concat(e,"inertiastart"),t.oninertiastart),this}},{key:"updatePerActionListeners",value:function(e,t,n){(o.default.array(t)||o.default.object(t))&&this.off(e,t),(o.default.array(n)||o.default.object(n))&&this.on(e,n)}},{key:"setPerAction",value:function(e,t){var n=this._defaults;for(var i in t){var r=i,s=this.options[e],a=t[r];"listeners"===r&&this.updatePerActionListeners(e,s.listeners,a),o.default.array(a)?s[r]=q.from(a):o.default.plainObject(a)?(s[r]=(0,k.default)(s[r]||{},(0,pt.default)(a)),o.default.object(n.perAction[r])&&"enabled"in n.perAction[r]&&(s[r].enabled=!1!==a.enabled)):o.default.bool(a)&&o.default.object(n.perAction[r])?s[r].enabled=a:s[r]=a}}},{key:"getRect",value:function(e){return e=e||(o.default.element(this.target)?this.target:null),o.default.string(this.target)&&(e=e||this._context.querySelector(this.target)),(0,E.getElementRect)(e)}},{key:"rectChecker",value:function(e){var t=this;return o.default.func(e)?(this._rectChecker=e,this.getRect=function(e){var n=(0,k.default)({},t._rectChecker(e));return"width"in n||(n.width=n.right-n.left,n.height=n.bottom-n.top),n},this):null===e?(delete this.getRect,delete this._rectChecker,this):this.getRect}},{key:"_backCompatOption",value:function(e,t){if((0,E.trySelector)(t)||o.default.object(t)){for(var n in this.options[e]=t,this._actions.map)this.options[n][e]=t;return this}return this.options[e]}},{key:"origin",value:function(e){return this._backCompatOption("origin",e)}},{key:"deltaSource",value:function(e){return"page"===e||"client"===e?(this.options.deltaSource=e,this):this.options.deltaSource}},{key:"context",value:function(){return this._context}},{key:"inContext",value:function(e){return this._context===e.ownerDocument||(0,E.nodeContains)(this._context,e)}},{key:"testIgnoreAllow",value:function(e,t,n){return!this.testIgnore(e.ignoreFrom,t,n)&&this.testAllow(e.allowFrom,t,n)}},{key:"testAllow",value:function(e,t,n){return!e||!!o.default.element(n)&&(o.default.string(e)?(0,E.matchesUpTo)(n,e,t):!!o.default.element(e)&&(0,E.nodeContains)(e,n))}},{key:"testIgnore",value:function(e,t,n){return!(!e||!o.default.element(n))&&(o.default.string(e)?(0,E.matchesUpTo)(n,e,t):!!o.default.element(e)&&(0,E.nodeContains)(e,n))}},{key:"fire",value:function(e){return this.events.fire(e),this}},{key:"_onOff",value:function(e,t,n,i){o.default.object(t)&&!o.default.array(t)&&(i=n,n=null);var r="on"===e?"add":"remove",s=(0,D.default)(t,n);for(var a in s){"wheel"===a&&(a=b.default.wheelEvent);for(var l=0;l<s[a].length;l++){var c=s[a][l];(0,fn.default)(a,this._actions)?this.events[e](a,c):o.default.string(this.target)?this._scopeEvents["".concat(r,"Delegate")](this.target,this._context,a,c,i):this._scopeEvents[r](this.target,a,c,i)}}return this}},{key:"on",value:function(e,t,n){return this._onOff("on",e,t,n)}},{key:"off",value:function(e,t,n){return this._onOff("off",e,t,n)}},{key:"set",value:function(e){var t=this._defaults;for(var n in o.default.object(e)||(e={}),this.options=(0,pt.default)(t.base),this._actions.methodDict){var i=n,r=this._actions.methodDict[i];this.options[i]={},this.setPerAction(i,(0,k.default)((0,k.default)({},t.perAction),t.actions[i])),this[r](e[i])}for(var s in e)o.default.func(this[s])&&this[s](e[s]);return this}},{key:"unset",value:function(){if(o.default.string(this.target))for(var e in this._scopeEvents.delegatedEvents)for(var t=this._scopeEvents.delegatedEvents[e],n=t.length-1;n>=0;n--){var i=t[n],r=i.selector,s=i.context,a=i.listeners;r===this.target&&s===this._context&&t.splice(n,1);for(var l=a.length-1;l>=0;l--)this._scopeEvents.removeDelegate(this.target,this._context,e,a[l][0],a[l][1])}else this._scopeEvents.remove(this.target,"all")}}])&&function(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}(n.prototype,i),Object.defineProperty(n,"prototype",{writable:!1}),e}();mn.Interactable=gn;var yn={};function bn(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}Object.defineProperty(yn,"__esModule",{value:!0}),yn.InteractableSet=void 0;var wn=function(){function e(t){var n=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),bn(this,"list",[]),bn(this,"selectorMap",{}),bn(this,"scope",void 0),this.scope=t,t.addListeners({"interactable:unset":function(e){var t=e.interactable,i=t.target,r=t._context,s=o.default.string(i)?n.selectorMap[i]:i[n.scope.id],a=q.findIndex(s,(function(e){return e.context===r}));s[a]&&(s[a].context=null,s[a].interactable=null),s.splice(a,1)}})}var t,n;return t=e,(n=[{key:"new",value:function(e,t){t=(0,k.default)(t||{},{actions:this.scope.actions});var n=new this.scope.Interactable(e,t,this.scope.document,this.scope.events),i={context:n._context,interactable:n};return this.scope.addDocument(n._doc),this.list.push(n),o.default.string(e)?(this.selectorMap[e]||(this.selectorMap[e]=[]),this.selectorMap[e].push(i)):(n.target[this.scope.id]||Object.defineProperty(e,this.scope.id,{value:[],configurable:!0}),e[this.scope.id].push(i)),this.scope.fire("interactable:new",{target:e,options:t,interactable:n,win:this.scope._win}),n}},{key:"get",value:function(e,t){var n=t&&t.context||this.scope.document,i=o.default.string(e),r=i?this.selectorMap[e]:e[this.scope.id];if(!r)return null;var s=q.find(r,(function(t){return t.context===n&&(i||t.interactable.inContext(e))}));return s&&s.interactable}},{key:"forEachMatch",value:function(e,t){for(var n=0;n<this.list.length;n++){var i=this.list[n],r=void 0;if((o.default.string(i.target)?o.default.element(e)&&E.matchesSelector(e,i.target):e===i.target)&&i.inContext(e)&&(r=t(i)),void 0!==r)return r}}}])&&function(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}(t.prototype,n),Object.defineProperty(t,"prototype",{writable:!1}),e}();yn.InteractableSet=wn;var xn={};function En(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Sn(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var i,r,o=[],s=!0,a=!1;try{for(n=n.call(e);!(s=(i=n.next()).done)&&(o.push(i.value),!t||o.length!==t);s=!0);}catch(e){a=!0,r=e}finally{try{s||null==n.return||n.return()}finally{if(a)throw r}}return o}}(e,t)||function(e,t){if(e){if("string"==typeof e)return Cn(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Cn(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Cn(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,i=Array(t);n<t;n++)i[n]=e[n];return i}Object.defineProperty(xn,"__esModule",{value:!0}),xn.default=void 0;var Pn=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),En(this,"currentTarget",void 0),En(this,"originalEvent",void 0),En(this,"type",void 0),this.originalEvent=t,(0,A.default)(this,t)}var t,n;return t=e,(n=[{key:"preventOriginalDefault",value:function(){this.originalEvent.preventDefault()}},{key:"stopPropagation",value:function(){this.originalEvent.stopPropagation()}},{key:"stopImmediatePropagation",value:function(){this.originalEvent.stopImmediatePropagation()}}])&&function(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}(t.prototype,n),Object.defineProperty(t,"prototype",{writable:!1}),e}();function On(e){if(!o.default.object(e))return{capture:!!e,passive:!1};var t=(0,k.default)({},e);return t.capture=!!e.capture,t.passive=!!e.passive,t}var _n={id:"events",install:function(e){var t,n=[],i={},r=[],s={add:a,remove:l,addDelegate:function(e,t,n,o,s){var l=On(s);if(!i[n]){i[n]=[];for(var u=0;u<r.length;u++){var h=r[u];a(h,n,c),a(h,n,d,!0)}}var f=i[n],p=q.find(f,(function(n){return n.selector===e&&n.context===t}));p||(p={selector:e,context:t,listeners:[]},f.push(p)),p.listeners.push([o,l])},removeDelegate:function(e,t,n,r,o){var s,a=On(o),u=i[n],h=!1;if(u)for(s=u.length-1;s>=0;s--){var f=u[s];if(f.selector===e&&f.context===t){for(var p=f.listeners,m=p.length-1;m>=0;m--){var v=Sn(p[m],2),g=v[0],y=v[1],b=y.capture,w=y.passive;if(g===r&&b===a.capture&&w===a.passive){p.splice(m,1),p.length||(u.splice(s,1),l(t,n,c),l(t,n,d,!0)),h=!0;break}}if(h)break}}},delegateListener:c,delegateUseCapture:d,delegatedEvents:i,documents:r,targets:n,supportsOptions:!1,supportsPassive:!1};function a(e,t,i,r){var o=On(r),a=q.find(n,(function(t){return t.eventTarget===e}));a||(a={eventTarget:e,events:{}},n.push(a)),a.events[t]||(a.events[t]=[]),e.addEventListener&&!q.contains(a.events[t],i)&&(e.addEventListener(t,i,s.supportsOptions?o:o.capture),a.events[t].push(i))}function l(e,t,i,r){var o=On(r),a=q.findIndex(n,(function(t){return t.eventTarget===e})),c=n[a];if(c&&c.events)if("all"!==t){var d=!1,u=c.events[t];if(u){if("all"===i){for(var h=u.length-1;h>=0;h--)l(e,t,u[h],o);return}for(var f=0;f<u.length;f++)if(u[f]===i){e.removeEventListener(t,i,s.supportsOptions?o:o.capture),u.splice(f,1),0===u.length&&(delete c.events[t],d=!0);break}}d&&!Object.keys(c.events).length&&n.splice(a,1)}else for(t in c.events)c.events.hasOwnProperty(t)&&l(e,t,"all")}function c(e,t){for(var n=On(t),r=new Pn(e),s=i[e.type],a=Sn(B.getEventTargets(e),1)[0],l=a;o.default.element(l);){for(var c=0;c<s.length;c++){var d=s[c],u=d.selector,h=d.context;if(E.matchesSelector(l,u)&&E.nodeContains(h,a)&&E.nodeContains(h,l)){var f=d.listeners;r.currentTarget=l;for(var p=0;p<f.length;p++){var m=Sn(f[p],2),v=m[0],g=m[1],y=g.capture,b=g.passive;y===n.capture&&b===n.passive&&v(r)}}}l=E.parentNode(l)}}function d(e){return c(e,!0)}return null==(t=e.document)||t.createElement("div").addEventListener("test",null,{get capture(){return s.supportsOptions=!0},get passive(){return s.supportsPassive=!0}}),e.events=s,s}};xn.default=_n;var jn={};Object.defineProperty(jn,"__esModule",{value:!0}),jn.default=void 0;var kn={methodOrder:["simulationResume","mouseOrPen","hasPointer","idle"],search:function(e){for(var t=0;t<kn.methodOrder.length;t++){var n;n=kn.methodOrder[t];var i=kn[n](e);if(i)return i}return null},simulationResume:function(e){var t=e.pointerType,n=e.eventType,i=e.eventTarget,r=e.scope;if(!/down|start/i.test(n))return null;for(var o=0;o<r.interactions.list.length;o++){var s=r.interactions.list[o],a=i;if(s.simulation&&s.simulation.allowResume&&s.pointerType===t)for(;a;){if(a===s.element)return s;a=E.parentNode(a)}}return null},mouseOrPen:function(e){var t,n=e.pointerId,i=e.pointerType,r=e.eventType,o=e.scope;if("mouse"!==i&&"pen"!==i)return null;for(var s=0;s<o.interactions.list.length;s++){var a=o.interactions.list[s];if(a.pointerType===i){if(a.simulation&&!Tn(a,n))continue;if(a.interacting())return a;t||(t=a)}}if(t)return t;for(var l=0;l<o.interactions.list.length;l++){var c=o.interactions.list[l];if(!(c.pointerType!==i||/down/i.test(r)&&c.simulation))return c}return null},hasPointer:function(e){for(var t=e.pointerId,n=e.scope,i=0;i<n.interactions.list.length;i++){var r=n.interactions.list[i];if(Tn(r,t))return r}return null},idle:function(e){for(var t=e.pointerType,n=e.scope,i=0;i<n.interactions.list.length;i++){var r=n.interactions.list[i];if(1===r.pointers.length){var o=r.interactable;if(o&&(!o.options.gesture||!o.options.gesture.enabled))continue}else if(r.pointers.length>=2)continue;if(!r.interacting()&&t===r.pointerType)return r}return null}};function Tn(e,t){return e.pointers.some((function(e){return e.id===t}))}var Mn=kn;jn.default=Mn;var In={};function Ln(e){return Ln="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ln(e)}function Dn(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var i,r,o=[],s=!0,a=!1;try{for(n=n.call(e);!(s=(i=n.next()).done)&&(o.push(i.value),!t||o.length!==t);s=!0);}catch(e){a=!0,r=e}finally{try{s||null==n.return||n.return()}finally{if(a)throw r}}return o}}(e,t)||function(e,t){if(e){if("string"==typeof e)return Rn(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Rn(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Rn(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,i=Array(t);n<t;n++)i[n]=e[n];return i}function zn(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function An(e,t){return An=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},An(e,t)}function Bn(e,t){if(t&&("object"===Ln(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function Nn(e){return Nn=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},Nn(e)}Object.defineProperty(In,"__esModule",{value:!0}),In.default=void 0;var Wn=["pointerDown","pointerMove","pointerUp","updatePointer","removePointer","windowBlur"];function Fn(e,t){return function(n){var i=t.interactions.list,r=B.getPointerType(n),o=Dn(B.getEventTargets(n),2),s=o[0],a=o[1],l=[];if(/^touch/.test(n.type)){t.prevTouchTime=t.now();for(var c=0;c<n.changedTouches.length;c++){var d=n.changedTouches[c],u={pointer:d,pointerId:B.getPointerId(d),pointerType:r,eventType:n.type,eventTarget:s,curEventTarget:a,scope:t},h=Yn(u);l.push([u.pointer,u.eventTarget,u.curEventTarget,h])}}else{var f=!1;if(!b.default.supportsPointerEvent&&/mouse/.test(n.type)){for(var p=0;p<i.length&&!f;p++)f="mouse"!==i[p].pointerType&&i[p].pointerIsDown;f=f||t.now()-t.prevTouchTime<500||0===n.timeStamp}if(!f){var m={pointer:n,pointerId:B.getPointerId(n),pointerType:r,eventType:n.type,curEventTarget:a,eventTarget:s,scope:t},v=Yn(m);l.push([m.pointer,m.eventTarget,m.curEventTarget,v])}}for(var g=0;g<l.length;g++){var y=Dn(l[g],4),w=y[0],x=y[1],E=y[2];y[3][e](w,n,x,E)}}}function Yn(e){var t=e.pointerType,n=e.scope,i={interaction:jn.default.search(e),searchDetails:e};return n.fire("interactions:find",i),i.interaction||n.interactions.new({pointerType:t})}function Hn(e,t){var n=e.doc,i=e.scope,r=e.options,o=i.interactions.docEvents,s=i.events,a=s[t];for(var l in i.browser.isIOS&&!r.events&&(r.events={passive:!1}),s.delegatedEvents)a(n,l,s.delegateListener),a(n,l,s.delegateUseCapture,!0);for(var c=r&&r.events,d=0;d<o.length;d++){var u=o[d];a(n,u.type,u.listener,c)}}var Xn={id:"core/interactions",install:function(e){for(var t={},n=0;n<Wn.length;n++){var i=Wn[n];t[i]=Fn(i,e)}var r,o=b.default.pEventTypes;function s(){for(var t=0;t<e.interactions.list.length;t++){var n=e.interactions.list[t];if(n.pointerIsDown&&"touch"===n.pointerType&&!n._interacting)for(var i=function(){var t=n.pointers[r];e.documents.some((function(e){var n=e.doc;return(0,E.nodeContains)(n,t.downTarget)}))||n.removePointer(t.pointer,t.event)},r=0;r<n.pointers.length;r++)i()}}(r=m.default.PointerEvent?[{type:o.down,listener:s},{type:o.down,listener:t.pointerDown},{type:o.move,listener:t.pointerMove},{type:o.up,listener:t.pointerUp},{type:o.cancel,listener:t.pointerUp}]:[{type:"mousedown",listener:t.pointerDown},{type:"mousemove",listener:t.pointerMove},{type:"mouseup",listener:t.pointerUp},{type:"touchstart",listener:s},{type:"touchstart",listener:t.pointerDown},{type:"touchmove",listener:t.pointerMove},{type:"touchend",listener:t.pointerUp},{type:"touchcancel",listener:t.pointerUp}]).push({type:"blur",listener:function(t){for(var n=0;n<e.interactions.list.length;n++)e.interactions.list[n].documentBlur(t)}}),e.prevTouchTime=0,e.Interaction=function(t){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&An(e,t)}(a,t);var n,i,r,o,s=(r=a,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=Nn(r);if(o){var n=Nn(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return Bn(this,e)});function a(){return zn(this,a),s.apply(this,arguments)}return n=a,(i=[{key:"pointerMoveTolerance",get:function(){return e.interactions.pointerMoveTolerance},set:function(t){e.interactions.pointerMoveTolerance=t}},{key:"_now",value:function(){return e.now()}}])&&function(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}(n.prototype,i),Object.defineProperty(n,"prototype",{writable:!1}),a}(Ft.default),e.interactions={list:[],new:function(t){t.scopeFire=function(t,n){return e.fire(t,n)};var n=new e.Interaction(t);return e.interactions.list.push(n),n},listeners:t,docEvents:r,pointerMoveTolerance:1},e.usePlugin(st.default)},listeners:{"scope:add-document":function(e){return Hn(e,"add")},"scope:remove-document":function(e){return Hn(e,"remove")},"interactable:unset":function(e,t){for(var n=e.interactable,i=t.interactions.list.length-1;i>=0;i--){var r=t.interactions.list[i];r.interactable===n&&(r.stop(),t.fire("interactions:destroy",{interaction:r}),r.destroy(),t.interactions.list.length>2&&t.interactions.list.splice(i,1))}}},onDocSignal:Hn,doOnInteractions:Fn,methodNames:Wn},Un=Xn;In.default=Un;var Vn={};function $n(e){return $n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},$n(e)}function qn(){return qn="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(e,t,n){var i=Kn(e,t);if(i){var r=Object.getOwnPropertyDescriptor(i,t);return r.get?r.get.call(arguments.length<3?e:n):r.value}},qn.apply(this,arguments)}function Kn(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=Jn(e)););return e}function Gn(e,t){return Gn=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},Gn(e,t)}function Zn(e,t){if(t&&("object"===$n(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function Jn(e){return Jn=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},Jn(e)}function Qn(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function ei(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}function ti(e,t,n){return t&&ei(e.prototype,t),n&&ei(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function ni(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}Object.defineProperty(Vn,"__esModule",{value:!0}),Vn.Scope=void 0,Vn.initScope=ri;var ii=function(){function e(){var t=this;Qn(this,e),ni(this,"id","__interact_scope_".concat(Math.floor(100*Math.random()))),ni(this,"isInitialized",!1),ni(this,"listenerMaps",[]),ni(this,"browser",b.default),ni(this,"defaults",(0,pt.default)(Ot.defaults)),ni(this,"Eventable",cn.Eventable),ni(this,"actions",{map:{},phases:{start:!0,move:!0,end:!0},methodDict:{},phaselessTypes:{}}),ni(this,"interactStatic",(0,pn.createInteractStatic)(this)),ni(this,"InteractEvent",_t.InteractEvent),ni(this,"Interactable",void 0),ni(this,"interactables",new yn.InteractableSet(this)),ni(this,"_win",void 0),ni(this,"document",void 0),ni(this,"window",void 0),ni(this,"documents",[]),ni(this,"_plugins",{list:[],map:{}}),ni(this,"onWindowUnload",(function(e){return t.removeDocument(e.target)}));var n=this;this.Interactable=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Gn(e,t)}(o,e);var t,i,r=(t=o,i=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,n=Jn(t);if(i){var r=Jn(this).constructor;e=Reflect.construct(n,arguments,r)}else e=n.apply(this,arguments);return Zn(this,e)});function o(){return Qn(this,o),r.apply(this,arguments)}return ti(o,[{key:"_defaults",get:function(){return n.defaults}},{key:"set",value:function(e){return qn(Jn(o.prototype),"set",this).call(this,e),n.fire("interactable:set",{options:e,interactable:this}),this}},{key:"unset",value:function(){qn(Jn(o.prototype),"unset",this).call(this);var e=n.interactables.list.indexOf(this);e<0||(qn(Jn(o.prototype),"unset",this).call(this),n.interactables.list.splice(e,1),n.fire("interactable:unset",{interactable:this}))}}]),o}(mn.Interactable)}return ti(e,[{key:"addListeners",value:function(e,t){this.listenerMaps.push({id:t,map:e})}},{key:"fire",value:function(e,t){for(var n=0;n<this.listenerMaps.length;n++){var i=this.listenerMaps[n].map[e];if(i&&!1===i(t,this,e))return!1}}},{key:"init",value:function(e){return this.isInitialized?this:ri(this,e)}},{key:"pluginIsInstalled",value:function(e){return this._plugins.map[e.id]||-1!==this._plugins.list.indexOf(e)}},{key:"usePlugin",value:function(e,t){if(!this.isInitialized)return this;if(this.pluginIsInstalled(e))return this;if(e.id&&(this._plugins.map[e.id]=e),this._plugins.list.push(e),e.install&&e.install(this,t),e.listeners&&e.before){for(var n=0,i=this.listenerMaps.length,r=e.before.reduce((function(e,t){return e[t]=!0,e[oi(t)]=!0,e}),{});n<i;n++){var o=this.listenerMaps[n].id;if(r[o]||r[oi(o)])break}this.listenerMaps.splice(n,0,{id:e.id,map:e.listeners})}else e.listeners&&this.listenerMaps.push({id:e.id,map:e.listeners});return this}},{key:"addDocument",value:function(e,n){if(-1!==this.getDocIndex(e))return!1;var i=t.getWindow(e);n=n?(0,k.default)({},n):{},this.documents.push({doc:e,options:n}),this.events.documents.push(e),e!==this.document&&this.events.add(i,"unload",this.onWindowUnload),this.fire("scope:add-document",{doc:e,window:i,scope:this,options:n})}},{key:"removeDocument",value:function(e){var n=this.getDocIndex(e),i=t.getWindow(e),r=this.documents[n].options;this.events.remove(i,"unload",this.onWindowUnload),this.documents.splice(n,1),this.events.documents.splice(n,1),this.fire("scope:remove-document",{doc:e,window:i,scope:this,options:r})}},{key:"getDocIndex",value:function(e){for(var t=0;t<this.documents.length;t++)if(this.documents[t].doc===e)return t;return-1}},{key:"getDocOptions",value:function(e){var t=this.getDocIndex(e);return-1===t?null:this.documents[t].options}},{key:"now",value:function(){return(this.window.Date||Date).now()}}]),e}();function ri(e,n){return e.isInitialized=!0,o.default.window(n)&&t.init(n),m.default.init(n),b.default.init(n),Pe.default.init(n),e.window=n,e.document=n.document,e.usePlugin(In.default),e.usePlugin(xn.default),e}function oi(e){return e&&e.replace(/\/.*$/,"")}Vn.Scope=ii;var si={};Object.defineProperty(si,"__esModule",{value:!0}),si.default=void 0;var ai=new Vn.Scope,li=ai.interactStatic;si.default=li;var ci="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:void 0;ai.init(ci);var di={};Object.defineProperty(di,"__esModule",{value:!0}),di.default=void 0,di.default=function(){};var ui={};Object.defineProperty(ui,"__esModule",{value:!0}),ui.default=void 0,ui.default=function(){};var hi={};function fi(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var i,r,o=[],s=!0,a=!1;try{for(n=n.call(e);!(s=(i=n.next()).done)&&(o.push(i.value),!t||o.length!==t);s=!0);}catch(e){a=!0,r=e}finally{try{s||null==n.return||n.return()}finally{if(a)throw r}}return o}}(e,t)||function(e,t){if(e){if("string"==typeof e)return pi(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?pi(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function pi(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,i=Array(t);n<t;n++)i[n]=e[n];return i}Object.defineProperty(hi,"__esModule",{value:!0}),hi.default=void 0,hi.default=function(e){var t=[["x","y"],["left","top"],["right","bottom"],["width","height"]].filter((function(t){var n=fi(t,2),i=n[0],r=n[1];return i in e||r in e})),n=function(n,i){for(var r=e.range,o=e.limits,s=void 0===o?{left:-1/0,right:1/0,top:-1/0,bottom:1/0}:o,a=e.offset,l=void 0===a?{x:0,y:0}:a,c={range:r,grid:e,x:null,y:null},d=0;d<t.length;d++){var u=fi(t[d],2),h=u[0],f=u[1],p=Math.round((n-l.x)/e[h]),m=Math.round((i-l.y)/e[f]);c[h]=Math.max(s.left,Math.min(s.right,p*e[h]+l.x)),c[f]=Math.max(s.top,Math.min(s.bottom,m*e[f]+l.y))}return c};return n.grid=e,n.coordFields=t,n};var mi={};Object.defineProperty(mi,"__esModule",{value:!0}),Object.defineProperty(mi,"edgeTarget",{enumerable:!0,get:function(){return di.default}}),Object.defineProperty(mi,"elements",{enumerable:!0,get:function(){return ui.default}}),Object.defineProperty(mi,"grid",{enumerable:!0,get:function(){return hi.default}});var vi={};Object.defineProperty(vi,"__esModule",{value:!0}),vi.default=void 0;var gi={id:"snappers",install:function(e){var t=e.interactStatic;t.snappers=(0,k.default)(t.snappers||{},mi),t.createSnapGrid=t.snappers.grid}},yi=gi;vi.default=yi;var bi={};function wi(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function xi(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?wi(Object(n),!0).forEach((function(t){Ei(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):wi(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Ei(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}Object.defineProperty(bi,"__esModule",{value:!0}),bi.default=bi.aspectRatio=void 0;var Si={start:function(e){var t=e.state,n=e.rect,i=e.edges,r=e.pageCoords,o=t.options.ratio,s=t.options,a=s.equalDelta,l=s.modifiers;"preserve"===o&&(o=n.width/n.height),t.startCoords=(0,k.default)({},r),t.startRect=(0,k.default)({},n),t.ratio=o,t.equalDelta=a;var c=t.linkedEdges={top:i.top||i.left&&!i.bottom,left:i.left||i.top&&!i.right,bottom:i.bottom||i.right&&!i.top,right:i.right||i.bottom&&!i.left};if(t.xIsPrimaryAxis=!(!i.left&&!i.right),t.equalDelta){var d=(c.left?1:-1)*(c.top?1:-1);t.edgeSign={x:d,y:d}}else t.edgeSign={x:c.left?-1:1,y:c.top?-1:1};if((0,k.default)(e.edges,c),l&&l.length){var u=new mt.default(e.interaction);u.copyFrom(e.interaction.modification),u.prepareStates(l),t.subModification=u,u.startAll(xi({},e))}},set:function(e){var t=e.state,n=e.rect,i=e.coords,r=(0,k.default)({},i),o=t.equalDelta?Ci:Pi;if(o(t,t.xIsPrimaryAxis,i,n),!t.subModification)return null;var s=(0,k.default)({},n);(0,T.addEdges)(t.linkedEdges,s,{x:i.x-r.x,y:i.y-r.y});var a=t.subModification.setAll(xi(xi({},e),{},{rect:s,edges:t.linkedEdges,pageCoords:i,prevCoords:i,prevRect:s})),l=a.delta;return a.changed&&(o(t,Math.abs(l.x)>Math.abs(l.y),a.coords,a.rect),(0,k.default)(i,a.coords)),a.eventProps},defaults:{ratio:"preserve",equalDelta:!1,modifiers:[],enabled:!1}};function Ci(e,t,n){var i=e.startCoords,r=e.edgeSign;t?n.y=i.y+(n.x-i.x)*r.y:n.x=i.x+(n.y-i.y)*r.x}function Pi(e,t,n,i){var r=e.startRect,o=e.startCoords,s=e.ratio,a=e.edgeSign;if(t){var l=i.width/s;n.y=o.y+(l-r.height)*a.y}else{var c=i.height*s;n.x=o.x+(c-r.width)*a.x}}bi.aspectRatio=Si;var Oi=(0,Et.makeModifier)(Si,"aspectRatio");bi.default=Oi;var _i={};Object.defineProperty(_i,"__esModule",{value:!0}),_i.default=void 0;var ji=function(){};ji._defaults={};var ki=ji;_i.default=ki;var Ti={};Object.defineProperty(Ti,"__esModule",{value:!0}),Object.defineProperty(Ti,"default",{enumerable:!0,get:function(){return _i.default}});var Mi={};function Ii(e,t,n){return o.default.func(e)?T.resolveRectLike(e,t.interactable,t.element,[n.x,n.y,t]):T.resolveRectLike(e,t.interactable,t.element)}Object.defineProperty(Mi,"__esModule",{value:!0}),Mi.default=void 0,Mi.getRestrictionRect=Ii,Mi.restrict=void 0;var Li={start:function(e){var t=e.rect,n=e.startOffset,i=e.state,r=e.interaction,o=e.pageCoords,s=i.options,a=s.elementRect,l=(0,k.default)({left:0,top:0,right:0,bottom:0},s.offset||{});if(t&&a){var c=Ii(s.restriction,r,o);if(c){var d=c.right-c.left-t.width,u=c.bottom-c.top-t.height;d<0&&(l.left+=d,l.right+=d),u<0&&(l.top+=u,l.bottom+=u)}l.left+=n.left-t.width*a.left,l.top+=n.top-t.height*a.top,l.right+=n.right-t.width*(1-a.right),l.bottom+=n.bottom-t.height*(1-a.bottom)}i.offset=l},set:function(e){var t=e.coords,n=e.interaction,i=e.state,r=i.options,o=i.offset,s=Ii(r.restriction,n,t);if(s){var a=T.xywhToTlbr(s);t.x=Math.max(Math.min(a.right-o.right,t.x),a.left+o.left),t.y=Math.max(Math.min(a.bottom-o.bottom,t.y),a.top+o.top)}},defaults:{restriction:null,elementRect:null,offset:null,endOnly:!1,enabled:!1}};Mi.restrict=Li;var Di=(0,Et.makeModifier)(Li,"restrict");Mi.default=Di;var Ri={};Object.defineProperty(Ri,"__esModule",{value:!0}),Ri.restrictEdges=Ri.default=void 0;var zi={top:1/0,left:1/0,bottom:-1/0,right:-1/0},Ai={top:-1/0,left:-1/0,bottom:1/0,right:1/0};function Bi(e,t){for(var n=["top","left","bottom","right"],i=0;i<n.length;i++){var r=n[i];r in e||(e[r]=t[r])}return e}var Ni={noInner:zi,noOuter:Ai,start:function(e){var t,n=e.interaction,i=e.startOffset,r=e.state,o=r.options;if(o){var s=(0,Mi.getRestrictionRect)(o.offset,n,n.coords.start.page);t=T.rectToXY(s)}t=t||{x:0,y:0},r.offset={top:t.y+i.top,left:t.x+i.left,bottom:t.y-i.bottom,right:t.x-i.right}},set:function(e){var t=e.coords,n=e.edges,i=e.interaction,r=e.state,o=r.offset,s=r.options;if(n){var a=(0,k.default)({},t),l=(0,Mi.getRestrictionRect)(s.inner,i,a)||{},c=(0,Mi.getRestrictionRect)(s.outer,i,a)||{};Bi(l,zi),Bi(c,Ai),n.top?t.y=Math.min(Math.max(c.top+o.top,a.y),l.top+o.top):n.bottom&&(t.y=Math.max(Math.min(c.bottom+o.bottom,a.y),l.bottom+o.bottom)),n.left?t.x=Math.min(Math.max(c.left+o.left,a.x),l.left+o.left):n.right&&(t.x=Math.max(Math.min(c.right+o.right,a.x),l.right+o.right))}},defaults:{inner:null,outer:null,offset:null,endOnly:!1,enabled:!1}};Ri.restrictEdges=Ni;var Wi=(0,Et.makeModifier)(Ni,"restrictEdges");Ri.default=Wi;var Fi={};Object.defineProperty(Fi,"__esModule",{value:!0}),Fi.restrictRect=Fi.default=void 0;var Yi=(0,k.default)({get elementRect(){return{top:0,left:0,bottom:1,right:1}},set elementRect(e){}},Mi.restrict.defaults),Hi={start:Mi.restrict.start,set:Mi.restrict.set,defaults:Yi};Fi.restrictRect=Hi;var Xi=(0,Et.makeModifier)(Hi,"restrictRect");Fi.default=Xi;var Ui={};Object.defineProperty(Ui,"__esModule",{value:!0}),Ui.restrictSize=Ui.default=void 0;var Vi={width:-1/0,height:-1/0},$i={width:1/0,height:1/0},qi={start:function(e){return Ri.restrictEdges.start(e)},set:function(e){var t=e.interaction,n=e.state,i=e.rect,r=e.edges,o=n.options;if(r){var s=T.tlbrToXywh((0,Mi.getRestrictionRect)(o.min,t,e.coords))||Vi,a=T.tlbrToXywh((0,Mi.getRestrictionRect)(o.max,t,e.coords))||$i;n.options={endOnly:o.endOnly,inner:(0,k.default)({},Ri.restrictEdges.noInner),outer:(0,k.default)({},Ri.restrictEdges.noOuter)},r.top?(n.options.inner.top=i.bottom-s.height,n.options.outer.top=i.bottom-a.height):r.bottom&&(n.options.inner.bottom=i.top+s.height,n.options.outer.bottom=i.top+a.height),r.left?(n.options.inner.left=i.right-s.width,n.options.outer.left=i.right-a.width):r.right&&(n.options.inner.right=i.left+s.width,n.options.outer.right=i.left+a.width),Ri.restrictEdges.set(e),n.options=o}},defaults:{min:null,max:null,endOnly:!1,enabled:!1}};Ui.restrictSize=qi;var Ki=(0,Et.makeModifier)(qi,"restrictSize");Ui.default=Ki;var Gi={};Object.defineProperty(Gi,"__esModule",{value:!0}),Object.defineProperty(Gi,"default",{enumerable:!0,get:function(){return _i.default}});var Zi={};Object.defineProperty(Zi,"__esModule",{value:!0}),Zi.snap=Zi.default=void 0;var Ji={start:function(e){var t,n=e.interaction,i=e.interactable,r=e.element,o=e.rect,s=e.state,a=e.startOffset,l=s.options,c=l.offsetWithOrigin?function(e){var t=e.interaction.element;return(0,T.rectToXY)((0,T.resolveRectLike)(e.state.options.origin,null,null,[t]))||(0,L.default)(e.interactable,t,e.interaction.prepared.name)}(e):{x:0,y:0};if("startCoords"===l.offset)t={x:n.coords.start.page.x,y:n.coords.start.page.y};else{var d=(0,T.resolveRectLike)(l.offset,i,r,[n]);(t=(0,T.rectToXY)(d)||{x:0,y:0}).x+=c.x,t.y+=c.y}var u=l.relativePoints;s.offsets=o&&u&&u.length?u.map((function(e,n){return{index:n,relativePoint:e,x:a.left-o.width*e.x+t.x,y:a.top-o.height*e.y+t.y}})):[{index:0,relativePoint:null,x:t.x,y:t.y}]},set:function(e){var t=e.interaction,n=e.coords,i=e.state,r=i.options,s=i.offsets,a=(0,L.default)(t.interactable,t.element,t.prepared.name),l=(0,k.default)({},n),c=[];r.offsetWithOrigin||(l.x-=a.x,l.y-=a.y);for(var d=0;d<s.length;d++)for(var u=s[d],h=l.x-u.x,f=l.y-u.y,p=0,m=r.targets.length;p<m;p++){var v,g=r.targets[p];(v=o.default.func(g)?g(h,f,t._proxy,u,p):g)&&c.push({x:(o.default.number(v.x)?v.x:h)+u.x,y:(o.default.number(v.y)?v.y:f)+u.y,range:o.default.number(v.range)?v.range:r.range,source:g,index:p,offset:u})}for(var y={target:null,inRange:!1,distance:0,range:0,delta:{x:0,y:0}},b=0;b<c.length;b++){var w=c[b],x=w.range,E=w.x-l.x,S=w.y-l.y,C=(0,z.default)(E,S),P=C<=x;x===1/0&&y.inRange&&y.range!==1/0&&(P=!1),y.target&&!(P?y.inRange&&x!==1/0?C/x<y.distance/y.range:x===1/0&&y.range!==1/0||C<y.distance:!y.inRange&&C<y.distance)||(y.target=w,y.distance=C,y.range=x,y.inRange=P,y.delta.x=E,y.delta.y=S)}return y.inRange&&(n.x=y.target.x,n.y=y.target.y),i.closest=y,y},defaults:{range:1/0,targets:null,offset:null,offsetWithOrigin:!0,origin:null,relativePoints:null,endOnly:!1,enabled:!1}};Zi.snap=Ji;var Qi=(0,Et.makeModifier)(Ji,"snap");Zi.default=Qi;var er={};function tr(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,i=Array(t);n<t;n++)i[n]=e[n];return i}Object.defineProperty(er,"__esModule",{value:!0}),er.snapSize=er.default=void 0;var nr={start:function(e){var t=e.state,n=e.edges,i=t.options;if(!n)return null;e.state={options:{targets:null,relativePoints:[{x:n.left?0:1,y:n.top?0:1}],offset:i.offset||"self",origin:{x:0,y:0},range:i.range}},t.targetFields=t.targetFields||[["width","height"],["x","y"]],Zi.snap.start(e),t.offsets=e.state.offsets,e.state=t},set:function(e){var t,n=e.interaction,i=e.state,r=e.coords,s=i.options,a=i.offsets,l={x:r.x-a[0].x,y:r.y-a[0].y};i.options=(0,k.default)({},s),i.options.targets=[];for(var c=0;c<(s.targets||[]).length;c++){var d=(s.targets||[])[c],u=void 0;if(u=o.default.func(d)?d(l.x,l.y,n):d){for(var h=0;h<i.targetFields.length;h++){var f=(2,function(e){if(Array.isArray(e))return e}(t=i.targetFields[h])||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var i,r,o=[],s=!0,a=!1;try{for(n=n.call(e);!(s=(i=n.next()).done)&&(o.push(i.value),2!==o.length);s=!0);}catch(e){a=!0,r=e}finally{try{s||null==n.return||n.return()}finally{if(a)throw r}}return o}}(t)||function(e,t){if(e){if("string"==typeof e)return tr(e,2);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?tr(e,2):void 0}}(t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),p=f[0],m=f[1];if(p in u||m in u){u.x=u[p],u.y=u[m];break}}i.options.targets.push(u)}}var v=Zi.snap.set(e);return i.options=s,v},defaults:{range:1/0,targets:null,offset:null,endOnly:!1,enabled:!1}};er.snapSize=nr;var ir=(0,Et.makeModifier)(nr,"snapSize");er.default=ir;var rr={};Object.defineProperty(rr,"__esModule",{value:!0}),rr.snapEdges=rr.default=void 0;var or={start:function(e){var t=e.edges;return t?(e.state.targetFields=e.state.targetFields||[[t.left?"left":"right",t.top?"top":"bottom"]],er.snapSize.start(e)):null},set:er.snapSize.set,defaults:(0,k.default)((0,pt.default)(er.snapSize.defaults),{targets:null,range:null,offset:{x:0,y:0}})};rr.snapEdges=or;var sr=(0,Et.makeModifier)(or,"snapEdges");rr.default=sr;var ar={};Object.defineProperty(ar,"__esModule",{value:!0}),Object.defineProperty(ar,"default",{enumerable:!0,get:function(){return _i.default}});var lr={};Object.defineProperty(lr,"__esModule",{value:!0}),Object.defineProperty(lr,"default",{enumerable:!0,get:function(){return _i.default}});var cr={};Object.defineProperty(cr,"__esModule",{value:!0}),cr.default=void 0;var dr={aspectRatio:bi.default,restrictEdges:Ri.default,restrict:Mi.default,restrictRect:Fi.default,restrictSize:Ui.default,snapEdges:rr.default,snap:Zi.default,snapSize:er.default,spring:ar.default,avoid:Ti.default,transform:lr.default,rubberband:Gi.default};cr.default=dr;var ur={};Object.defineProperty(ur,"__esModule",{value:!0}),ur.default=void 0;var hr={id:"modifiers",install:function(e){var t=e.interactStatic;for(var n in e.usePlugin(Et.default),e.usePlugin(vi.default),t.modifiers=cr.default,cr.default){var i=cr.default[n],r=i._defaults,o=i._methods;r._methods=o,e.defaults.perAction[n]=r}}},fr=hr;ur.default=fr;var pr={};function mr(e){return mr="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},mr(e)}function vr(e,t){return vr=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},vr(e,t)}function gr(e,t){if(t&&("object"===mr(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return yr(e)}function yr(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function br(e){return br=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},br(e)}Object.defineProperty(pr,"__esModule",{value:!0}),pr.default=pr.PointerEvent=void 0;var wr=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&vr(e,t)}(s,e);var t,n,i,r,o=(i=s,r=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=br(i);if(r){var n=br(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return gr(this,e)});function s(e,t,n,i,r,a){var l;if(function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,s),l=o.call(this,r),B.pointerExtend(yr(l),n),n!==t&&B.pointerExtend(yr(l),t),l.timeStamp=a,l.originalEvent=n,l.type=e,l.pointerId=B.getPointerId(t),l.pointerType=B.getPointerType(t),l.target=i,l.currentTarget=null,"tap"===e){var c=r.getPointerIndex(t);l.dt=l.timeStamp-r.pointers[c].downTime;var d=l.timeStamp-r.tapTime;l.double=!!r.prevTap&&"doubletap"!==r.prevTap.type&&r.prevTap.target===l.target&&d<500}else"doubletap"===e&&(l.dt=t.timeStamp-r.tapTime,l.double=!0);return l}return t=s,(n=[{key:"_subtractOrigin",value:function(e){var t=e.x,n=e.y;return this.pageX-=t,this.pageY-=n,this.clientX-=t,this.clientY-=n,this}},{key:"_addOrigin",value:function(e){var t=e.x,n=e.y;return this.pageX+=t,this.pageY+=n,this.clientX+=t,this.clientY+=n,this}},{key:"preventDefault",value:function(){this.originalEvent.preventDefault()}}])&&function(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}(t.prototype,n),Object.defineProperty(t,"prototype",{writable:!1}),s}(U.BaseEvent);pr.PointerEvent=pr.default=wr;var xr={};Object.defineProperty(xr,"__esModule",{value:!0}),xr.default=void 0;var Er={id:"pointer-events/base",before:["inertia","modifiers","auto-start","actions"],install:function(e){e.pointerEvents=Er,e.defaults.actions.pointerEvents=Er.defaults,(0,k.default)(e.actions.phaselessTypes,Er.types)},listeners:{"interactions:new":function(e){var t=e.interaction;t.prevTap=null,t.tapTime=0},"interactions:update-pointer":function(e){var t=e.down,n=e.pointerInfo;!t&&n.hold||(n.hold={duration:1/0,timeout:null})},"interactions:move":function(e,t){var n=e.interaction,i=e.pointer,r=e.event,o=e.eventTarget;e.duplicate||n.pointerIsDown&&!n.pointerWasMoved||(n.pointerIsDown&&Pr(e),Sr({interaction:n,pointer:i,event:r,eventTarget:o,type:"move"},t))},"interactions:down":function(e,t){!function(e,t){for(var n=e.interaction,i=e.pointer,r=e.event,o=e.eventTarget,s=e.pointerIndex,a=n.pointers[s].hold,l=E.getPath(o),c={interaction:n,pointer:i,event:r,eventTarget:o,type:"hold",targets:[],path:l,node:null},d=0;d<l.length;d++){var u=l[d];c.node=u,t.fire("pointerEvents:collect-targets",c)}if(c.targets.length){for(var h=1/0,f=0;f<c.targets.length;f++){var p=c.targets[f].eventable.options.holdDuration;p<h&&(h=p)}a.duration=h,a.timeout=setTimeout((function(){Sr({interaction:n,eventTarget:o,pointer:i,event:r,type:"hold"},t)}),h)}}(e,t),Sr(e,t)},"interactions:up":function(e,t){Pr(e),Sr(e,t),function(e,t){var n=e.interaction,i=e.pointer,r=e.event,o=e.eventTarget;n.pointerWasMoved||Sr({interaction:n,eventTarget:o,pointer:i,event:r,type:"tap"},t)}(e,t)},"interactions:cancel":function(e,t){Pr(e),Sr(e,t)}},PointerEvent:pr.PointerEvent,fire:Sr,collectEventTargets:Cr,defaults:{holdDuration:600,ignoreFrom:null,allowFrom:null,origin:{x:0,y:0}},types:{down:!0,move:!0,up:!0,cancel:!0,tap:!0,doubletap:!0,hold:!0}};function Sr(e,t){var n=e.interaction,i=e.pointer,r=e.event,o=e.eventTarget,s=e.type,a=e.targets,l=void 0===a?Cr(e,t):a,c=new pr.PointerEvent(s,i,r,o,n,t.now());t.fire("pointerEvents:new",{pointerEvent:c});for(var d={interaction:n,pointer:i,event:r,eventTarget:o,targets:l,type:s,pointerEvent:c},u=0;u<l.length;u++){var h=l[u];for(var f in h.props||{})c[f]=h.props[f];var p=(0,L.default)(h.eventable,h.node);if(c._subtractOrigin(p),c.eventable=h.eventable,c.currentTarget=h.node,h.eventable.fire(c),c._addOrigin(p),c.immediatePropagationStopped||c.propagationStopped&&u+1<l.length&&l[u+1].node!==c.currentTarget)break}if(t.fire("pointerEvents:fired",d),"tap"===s){var m=c.double?Sr({interaction:n,pointer:i,event:r,eventTarget:o,type:"doubletap"},t):c;n.prevTap=m,n.tapTime=m.timeStamp}return c}function Cr(e,t){var n=e.interaction,i=e.pointer,r=e.event,o=e.eventTarget,s=e.type,a=n.getPointerIndex(i),l=n.pointers[a];if("tap"===s&&(n.pointerWasMoved||!l||l.downTarget!==o))return[];for(var c=E.getPath(o),d={interaction:n,pointer:i,event:r,eventTarget:o,type:s,path:c,targets:[],node:null},u=0;u<c.length;u++){var h=c[u];d.node=h,t.fire("pointerEvents:collect-targets",d)}return"hold"===s&&(d.targets=d.targets.filter((function(e){var t;return e.eventable.options.holdDuration===(null==(t=n.pointers[a])?void 0:t.hold.duration)}))),d.targets}function Pr(e){var t=e.interaction,n=e.pointerIndex,i=t.pointers[n].hold;i&&i.timeout&&(clearTimeout(i.timeout),i.timeout=null)}var Or=Er;xr.default=Or;var _r={};function jr(e){var t=e.interaction;t.holdIntervalHandle&&(clearInterval(t.holdIntervalHandle),t.holdIntervalHandle=null)}Object.defineProperty(_r,"__esModule",{value:!0}),_r.default=void 0;var kr={id:"pointer-events/holdRepeat",install:function(e){e.usePlugin(xr.default);var t=e.pointerEvents;t.defaults.holdRepeatInterval=0,t.types.holdrepeat=e.actions.phaselessTypes.holdrepeat=!0},listeners:["move","up","cancel","endall"].reduce((function(e,t){return e["pointerEvents:".concat(t)]=jr,e}),{"pointerEvents:new":function(e){var t=e.pointerEvent;"hold"===t.type&&(t.count=(t.count||0)+1)},"pointerEvents:fired":function(e,t){var n=e.interaction,i=e.pointerEvent,r=e.eventTarget,o=e.targets;if("hold"===i.type&&o.length){var s=o[0].eventable.options.holdRepeatInterval;s<=0||(n.holdIntervalHandle=setTimeout((function(){t.pointerEvents.fire({interaction:n,eventTarget:r,type:"hold",pointer:i,event:i},t)}),s))}}})},Tr=kr;_r.default=Tr;var Mr={};function Ir(e){return(0,k.default)(this.events.options,e),this}Object.defineProperty(Mr,"__esModule",{value:!0}),Mr.default=void 0;var Lr={id:"pointer-events/interactableTargets",install:function(e){var t=e.Interactable;t.prototype.pointerEvents=Ir;var n=t.prototype._backCompatOption;t.prototype._backCompatOption=function(e,t){var i=n.call(this,e,t);return i===this&&(this.events.options[e]=t),i}},listeners:{"pointerEvents:collect-targets":function(e,t){var n=e.targets,i=e.node,r=e.type,o=e.eventTarget;t.interactables.forEachMatch(i,(function(e){var t=e.events,s=t.options;t.types[r]&&t.types[r].length&&e.testIgnoreAllow(s,i,o)&&n.push({node:i,eventable:t,props:{interactable:e}})}))},"interactable:new":function(e){var t=e.interactable;t.events.getRect=function(e){return t.getRect(e)}},"interactable:set":function(e,t){var n=e.interactable,i=e.options;(0,k.default)(n.events.options,t.pointerEvents.defaults),(0,k.default)(n.events.options,i.pointerEvents||{})}}},Dr=Lr;Mr.default=Dr;var Rr={};Object.defineProperty(Rr,"__esModule",{value:!0}),Rr.default=void 0;var zr={id:"pointer-events",install:function(e){e.usePlugin(xr),e.usePlugin(_r.default),e.usePlugin(Mr.default)}},Ar=zr;Rr.default=Ar;var Br={};function Nr(e){var t=e.Interactable;e.actions.phases.reflow=!0,t.prototype.reflow=function(t){return function(e,t,n){for(var i=o.default.string(e.target)?q.from(e._context.querySelectorAll(e.target)):[e.target],r=n.window.Promise,s=r?[]:null,a=function(){var o=i[l],a=e.getRect(o);if(!a)return"break";var c=q.find(n.interactions.list,(function(n){return n.interacting()&&n.interactable===e&&n.element===o&&n.prepared.name===t.name})),d=void 0;if(c)c.move(),s&&(d=c._reflowPromise||new r((function(e){c._reflowResolve=e})));else{var u=(0,T.tlbrToXywh)(a),h={page:{x:u.x,y:u.y},client:{x:u.x,y:u.y},timeStamp:n.now()},f=B.coordsToEvent(h);d=function(e,t,n,i,r){var o=e.interactions.new({pointerType:"reflow"}),s={interaction:o,event:r,pointer:r,eventTarget:n,phase:"reflow"};o.interactable=t,o.element=n,o.prevEvent=r,o.updatePointer(r,r,n,!0),B.setZeroCoords(o.coords.delta),(0,ze.copyAction)(o.prepared,i),o._doPhase(s);var a=e.window.Promise,l=a?new a((function(e){o._reflowResolve=e})):void 0;return o._reflowPromise=l,o.start(i,t,n),o._interacting?(o.move(s),o.end(r)):(o.stop(),o._reflowResolve()),o.removePointer(r,r),l}(n,e,o,t,f)}s&&s.push(d)},l=0;l<i.length&&"break"!==a();l++);return s&&r.all(s).then((function(){return e}))}(this,t,e)}}Object.defineProperty(Br,"__esModule",{value:!0}),Br.default=void 0,Br.install=Nr;var Wr={id:"reflow",install:Nr,listeners:{"interactions:stop":function(e,t){var n=e.interaction;"reflow"===n.pointerType&&(n._reflowResolve&&n._reflowResolve(),q.remove(t.interactions.list,n))}}},Fr=Wr;Br.default=Fr;var Yr={exports:{}};function Hr(e){return Hr="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Hr(e)}Object.defineProperty(Yr.exports,"__esModule",{value:!0}),Yr.exports.default=void 0,si.default.use(st.default),si.default.use(Vt.default),si.default.use(Rr.default),si.default.use(en.default),si.default.use(ur.default),si.default.use(rt.default),si.default.use(Se.default),si.default.use(Te.default),si.default.use(Br.default);var Xr=si.default;if(Yr.exports.default=Xr,"object"===Hr(Yr)&&Yr)try{Yr.exports=si.default}catch(e){}si.default.default=si.default,Se.default,Te.default,rt.default,st.default,ft.default,en.default,si.default,ur.default,Vt.default,Rr.default,Br.default,Yr=Yr.exports;var Ur={exports:{}};function Vr(e){return Vr="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Vr(e)}Object.defineProperty(Ur.exports,"__esModule",{value:!0}),Ur.exports.default=void 0;var $r=Yr.default;if(Ur.exports.default=$r,"object"===Vr(Ur)&&Ur)try{Ur.exports=Yr.default}catch(e){}return Yr.default.default=Yr.default,Ur.exports}()},119:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>i});const i=class{constructor(){this.handlers={}}on(e,t){this.handlers[e]||(this.handlers[e]=[]),this.handlers[e].find((e=>e===t))||this.handlers[e].push(t)}off(e,t){this.handlers[e]&&(this.handlers[e]=this.handlers[e].filter((e=>e!==t)))}async triggerListeners(e,t){const n=this.handlers[e]||[];if(0===n.length)return[];const i=[];for(let r in n)i.push(await this.handlers[e][r](this,t));return i}destroy(){this.triggerListeners("destroy"),this.handlers={}}}}},t={};function n(i){var r=t[i];if(void 0!==r)return r.exports;var o=t[i]={exports:{}};return e[i](o,o.exports,n),o.exports}n.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return n.d(t,{a:t}),t},n.d=(e,t)=>{for(var i in t)n.o(t,i)&&!n.o(e,i)&&Object.defineProperty(e,i,{enumerable:!0,get:t[i]})},n.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),n.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},(()=>{"use strict";class e{constructor(e){this.listControl=e,this.originPoint={left:0,top:0},this.selectionRectangle=this.resetSelectionRectangle(),this.isMouseDown=!1,this.selectionRectangleElement=null,this.attachEvents()}getElement(){let e=this.listControl.element;return"table"===e.nodeName.toLowerCase()&&(e=e.parentNode),e}attachEvents(){const e=this.getElement();e&&(e.addEventListener("mousedown",this.mouseDown.bind(this)),e.addEventListener("mousemove",this.mouseMove.bind(this)),e.addEventListener("mouseup",this.mouseUp.bind(this)))}mouseDown(e){if(e.button>0)return;this.isMouseDown=!0;const t=this.getElement();if(!t)return;const n=t.getBoundingClientRect();this.originPoint={left:e.clientX+t.scrollLeft-n.left,top:e.clientY+t.scrollTop-n.top},this.selectionRectangle=this.normalizeSelectionRectangle({...this.originPoint,right:this.originPoint.left,bottom:this.originPoint.top})}mouseMove(e){if(!this.isMouseDown)return;const t=this.getElement();if(!t)return;const n=t.getBoundingClientRect(),i={right:e.clientX+t.scrollLeft-n.left,bottom:e.clientY+t.scrollTop-n.top};this.selectionRectangle=this.normalizeSelectionRectangle({left:this.originPoint.left,top:this.originPoint.top,...i}),(Math.abs(this.selectionRectangle.right-this.selectionRectangle.left)>5||Math.abs(this.selectionRectangle.bottom-this.selectionRectangle.top)>5)&&(this.listControl.clearSelection(),this.drawSelectionRectangle(),this.listControl.selectItemsByDrag(this.selectionRectangleElement.getBoundingClientRect()))}mouseUp(){this.isMouseDown=!1,this.selectionRectangleElement&&(this.listControl.selectItemsByDrag(this.selectionRectangleElement.getBoundingClientRect()),this.hideSelectionRectangle()),window.getSelection()?.removeAllRanges()}hideSelectionRectangle(){this.selectionRectangle=this.resetSelectionRectangle(),this.selectionRectangleElement&&(this.selectionRectangleElement.parentNode.removeChild(this.selectionRectangleElement),this.selectionRectangleElement=null,this.originPoint={left:0,top:0})}drawSelectionRectangle(){this.selectionRectangleElement||(this.selectionRectangleElement=document.createElement("div"),this.selectionRectangleElement.classList.add("selection-rectangle"),this.getElement().appendChild(this.selectionRectangleElement)),this.selectionRectangleElement.style.left=this.selectionRectangle.left+"px",this.selectionRectangleElement.style.top=this.selectionRectangle.top+"px",this.selectionRectangleElement.style.width=this.selectionRectangle.right-this.selectionRectangle.left+"px",this.selectionRectangleElement.style.height=this.selectionRectangle.bottom-this.selectionRectangle.top+"px"}normalizeSelectionRectangle(e){return{left:Math.min(e.left,e.right),top:Math.min(e.top,e.bottom),right:Math.max(e.left,e.right),bottom:Math.max(e.top,e.bottom)}}resetSelectionRectangle(){return{left:0,top:0,right:0,bottom:0}}destroy(){this.selectionRectangleElement&&this.selectionRectangleElement.parentNode.removeChild(this.selectionRectangleElement)}}var t=n(119);const i=(e,t)=>!(e.right<t.left||t.right<e.left||e.bottom<t.top||t.bottom<e.top);class r extends t.default{constructor(e,t){super(),this.element=document.createElement("div"),this.element.classList.add("nj-icon"),this.iconElement=document.createElement("span"),this.iconElement.classList.add("nj-icon-picture"),this.element.appendChild(this.iconElement),this.textElement=document.createElement("span"),this.textElement.classList.add("nj-icon-text"),this.element.append(this.textElement),this.setTitle(t.title),this.setIcon(t.icon),this.setSelected(!1),t.dblclick&&this.on("dblclick",t.dblclick),this.element.addEventListener("click",(e=>{this.triggerListeners("click",{nativeEvent:e})})),this.element.addEventListener("dblclick",(e=>{this.triggerListeners("dblclick",{nativeEvent:e})})),e.appendChild(this.element),this.metadata=t.metadata??{},this.tileKey=t.tileDetailKey;const n=document.createElement("span");n.classList.add("tile-info"),n.innerText=this.metadata[this.tileKey]??"",this.textElement.appendChild(n)}setTitle(e){this.title=e,this.textElement.innerText=this.title}setIcon(e){this.icon=e,this.iconElement.style.backgroundImage=e}setParent(e){e.appendChild(this.element)}setSelected(e){this.selected=e,e?this.element.classList.add("nj-selected"):this.element.classList.remove("nj-selected")}toggleSelection(){this.setSelected(!this.isSelected())}isSelected(){return this.selected}destroy(){super.destroy(),this.element.parentElement.removeChild(this.element)}}const o=r,s={HORIZONTAL:"horizontal",VERTICAL:"vertical"},a={XL:"xl",L:"l",M:"m",S:"s",TILE:"tile"},l=class extends t.default{constructor(t,n){super(),this.element=document.createElement("div"),this.element.classList.add("nj-icon-list"),this.element.classList.add(n?.orientation??s.VERTICAL),n?.preventScroll&&this.element.classList.add("nj-prevent-scroll"),this.setView(n?.view??a.M),this.icons=[],t&&t.appendChild(this.element),(n.dragDropSelect??1)&&(this.dragSelection=new e(this))}selectItemsByDrag(e){for(let t in this.icons){const n=this.icons[t].element.getBoundingClientRect();this.icons[t].setSelected(i(n,e))}}addIcon(e){const t=new o(this.element,e);return t.on("click",((e,t)=>{if(!t.nativeEvent.ctrlKey&&!t.nativeEvent.shiftKey){const t=this.icons.filter((e=>e.isSelected()));if(1===t.length&&t[0]===e)return;this.clearSelection()}if(t.nativeEvent.shiftKey){const t=this.icons.indexOf(e);for(let e=Math.min(this.lastSelectionIndex??0,t);e<=Math.max(this.lastSelectionIndex??0,t);e++)this.icons[e].setSelected(!0)}else t.nativeEvent.ctrlKey?e.toggleSelection():e.setSelected(!0);this.lastSelectionIndex=this.icons.indexOf(e),this.triggerListeners("onselect",this.icons.filter((e=>e.isSelected())))})),t.on("dblclick",((e,t)=>{this.clearSelection(),e.setSelected(!0),this.lastSelectionIndex=this.icons.indexOf(e),this.triggerListeners("input",{...t,item:e})})),this.icons.push(t),t}removeIcon(e){this.icons=this.icons.filter((t=>t===e)),e.destroy()}setView(e){this.element.classList.remove("nj-"+this.view),this.view=e,this.element.classList.add("nj-"+this.view)}setParent(e){e.appendChild(this.element)}clearSelection(){this.icons.forEach((e=>e.setSelected(!1)))}clear(){this.icons.forEach((e=>e.destroy())),this.icons=[]}destroy(){super.destroy(),this.dragSelection&&this.dragSelection.destroy(),this.icons.forEach((e=>e.destroy())),this.element.parentElement.removeChild(this.element)}},c=l,d=class extends t.default{constructor(){super(),this.element=document.createElement("div"),this.element.classList.add("nj-menu"),this.items=[]}addItem(e){this.items.push(e),e.setParent(this.element)}removeItem(e){this.items=this.items.filter((t=>t!==e)),e.destroy()}has(){return this.items.length>0}setParent(e){e.appendChild(this.element)}getComputedHeight(){const e=window.getComputedStyle(this.element).height.replace("px","");return parseInt(e)}getTop(){return this.element.scrollTop}destroy(){super.destroy(),this.items.forEach((e=>e.destroy())),this.element.parentNode.removeChild(this.element)}},u=d;class h extends t.default{constructor(e){super(),this.element=document.createElement("div"),this.element.classList.add("nj-taskbar-button-list"),this.leftButtonElement=document.createElement("button"),this.leftButtonElement.classList.add("nj-taskbar-button-list-nav"),this.leftButtonElement.classList.add("nj-taskbar-button-list-nav-left"),this.rightButtonElement=document.createElement("button"),this.rightButtonElement.classList.add("nj-taskbar-button-list-nav"),this.rightButtonElement.classList.add("nj-taskbar-button-list-nav-right"),this.buttonContainer=document.createElement("div"),this.buttonContainer.classList.add("nj-taskbar-button-list-container"),this.element.appendChild(this.leftButtonElement),this.element.appendChild(this.buttonContainer),this.element.appendChild(this.rightButtonElement),e.appendChild(this.element),this.buttons=[]}addWindowButton(e){const t=document.createElement("button");t.innerText=e.getTitle(),t.addEventListener("click",(()=>{const t=this.buttons.find((t=>t.njWindow===e));t.njWindow.isMinimized()&&t.njWindow.restore(),t.focused?t.focused&&t.njWindow.minimize():e.focus()}));const n={button:t,njWindow:e,focused:!1};this.buttons.push(n),this.buttonContainer.appendChild(t),e.on("titleUpdated",this.windowUpdated.bind(this)),e.on("stateChange",this.windowStateUpdated.bind(this)),e.on("close",this.windowRemoved.bind(this)),e.on("focus",this.windowFocused.bind(this)),e.on("blur",this.windowBlurred.bind(this)),this.leftButtonElement.addEventListener("click",(()=>{this.buttonContainer.scrollBy({top:0,left:-100,behavior:"smooth"})})),this.rightButtonElement.addEventListener("click",(()=>{this.buttonContainer.scrollBy({top:0,left:100,behavior:"smooth"})}))}windowRemoved(e){const t=this.buttons.find((t=>t.njWindow===e));t.button.parentNode.removeChild(t.button),this.buttons=this.buttons.filter((t=>t.njWindow!==e))}windowFocused(e){const t=this.buttons.find((t=>t.njWindow===e));t.focused=!0,t.button.classList.add("focused"),t.button.scrollIntoView()}windowBlurred(e){const t=this.buttons.find((t=>t.njWindow===e));t.focused=!1,t.button.classList.remove("focused")}windowStateUpdated(e){}windowUpdated(e,t){const n=this.buttons.find((t=>t.njWindow===e));n.button.innerText=t,n.button.setAttribute("title",t)}destroy(){super.destroy(),this.buttons=[],this.element.parentNode.removeChild(this.element)}}const f=h,p="nj-toolbutton-text",m=class extends t.default{constructor(e,t){super(),this.config=t,this._value=t.value??"",this.enabled=!0,"nj-toolbutton-input"===t.type?this.createInput(e):this.createButton(e),this.config.classes&&this.element.classList.add(...this.config.classes)}createButton(e){this.element=document.createElement("button"),this.element.classList.add("nj-tool-button"),this.element.classList.add(this.config.type??p),this.config.icon&&(this.element.style.backgroundImage=this.config.icon),this.element.setAttribute("title",this.config.title??""),this.element.innerText=this.config.title??"",this.config.click&&this.on("click",this.config.click),this.element.addEventListener("click",(e=>{this.triggerListeners("click",{nativeEvent:e})})),e.appendChild(this.element)}createInput(e){this.element=document.createElement("input"),this.element.classList.add("nj-tool-button"),this.element.classList.add("nj-tool-button-text"),this.element.classList.add("nj-tool-button-input"),this.element.setAttribute("type",this.config.inputType??"text"),this.element.setAttribute("value",this._value),e.appendChild(this.element),this.element.addEventListener("input",(e=>{this.inputChange(e.target.value)})),this.config.change&&this.on("change",this.config.change)}setEnabled(e){this.enabled=e,this.enabled?this.element.removeAttribute("disabled"):this.element.setAttribute("disabled",!0)}inputChange(e){this._value=e,this.triggerListeners("change",e)}getValue(){return this._value}destroy(){super.destroy(),this.element.parentElement.removeChild(this.element)}},v=class extends t.default{constructor(e,t){super(),this.element=document.createElement("div"),this.element.classList.add("nj-toolbar"),t&&t.classes&&this.element.classList.add(...t.classes),e&&e.appendChild(this.element),this.toolButtons=[]}getElement(){return this.element}addToolButton(e){const t=new m(this.element,e);return this.toolButtons.push(t),t}addMenu(e){this.toolButtons.push(e),e.setParent(this.element)}getComputedHeight(){const e=window.getComputedStyle(this.element).height.replace("px","");return parseInt(e)}destroy(){super.destroy(),this.toolButtons.forEach((e=>e.destroy())),this.element.parentNode.removeChild(this.element)}};class g extends t.default{constructor(e){super(),this.element=document.createElement("div"),this.element.classList.add("nj-taskbar"),this.toolbar=new v(this.element),this.buttonList=new f(this.element),e.appendChild(this.element)}addWindowButton(e){this.buttonList.addWindowButton(e)}removeWindowButton(e){this.buttonList.removeWindowButton(njWindowButton)}getToolbar(){return this.toolbar}destroy(){super.destroy(),this.buttonList.destroy(),this.toolbar.destroy(),this.element.parentElement.removeChild(this.element)}}const y=g;var b,w=new Uint8Array(16);function x(){if(!b&&!(b="undefined"!=typeof crypto&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)||"undefined"!=typeof msCrypto&&"function"==typeof msCrypto.getRandomValues&&msCrypto.getRandomValues.bind(msCrypto)))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return b(w)}const E=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i,S=function(e){return"string"==typeof e&&E.test(e)};for(var C=[],P=0;P<256;++P)C.push((P+256).toString(16).substr(1));const O=function(e,t,n){var i=(e=e||{}).random||(e.rng||x)();if(i[6]=15&i[6]|64,i[8]=63&i[8]|128,t){n=n||0;for(var r=0;r<16;++r)t[n+r]=i[r];return t}return function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=(C[e[t+0]]+C[e[t+1]]+C[e[t+2]]+C[e[t+3]]+"-"+C[e[t+4]]+C[e[t+5]]+"-"+C[e[t+6]]+C[e[t+7]]+"-"+C[e[t+8]]+C[e[t+9]]+"-"+C[e[t+10]]+C[e[t+11]]+C[e[t+12]]+C[e[t+13]]+C[e[t+14]]+C[e[t+15]]).toLowerCase();if(!S(n))throw TypeError("Stringified UUID is invalid");return n}(i)},_=class extends t.default{constructor(e,t){super(),this.element=document.createElement("button"),this.element.setAttribute("tabindex",-1),this.element.classList.add("nj-window-header-button");let n="";switch(t){case 0:n="nj-minimize";break;case 1:n="nj-maximize";break;case 3:n="nj-restore";break;case 2:n="nj-close"}n&&this.element.classList.add(n),e.appendChild(this.element),this.element.addEventListener("click",this.handleClick.bind(this))}show(){this.element.classList.remove("nj-hidden")}hide(){this.element.classList.add("nj-hidden")}handleClick(){super.triggerListeners("click")}destroy(){super.destroy(),this.element.parentNode.removeChild(this.element)}};class j extends t.default{constructor(e,t,n){super(),this.id=O(),this.state=n,this.element=document.createElement("div"),this.element.setAttribute("id",this.id),this.element.classList.add("nj-window-header-buttons"),e.appendChild(this.element),this.availableButtons=t||[0,1,2],this.buttons=this.createButtons()}createButtons(){const e=[];if(this.availableButtons.indexOf(0)>=0){const t=new _(this.element,0);t.on("click",this.minimize.bind(this)),e.push(t)}if(this.availableButtons.indexOf(1)>=0){const t=new _(this.element,1);t.on("click",this.maximize.bind(this)),e.push(t),this.maximizeButton=t;const n=new _(this.element,3);n.on("click",this.restore.bind(this)),e.push(n),this.restoreButton=n,2===this.state&&this.maximizeButton.hide(),1===this.state&&this.restoreButton.hide()}if(this.availableButtons.indexOf(2)>=0){const t=new _(this.element,2);t.on("click",this.close.bind(this)),e.push(t)}return e}minimize(){this.availableButtons.indexOf(0)<0||super.triggerListeners("minimize")}maximize(){this.availableButtons.indexOf(1)<0||(this.maximizeButton.hide(),this.restoreButton.show(),super.triggerListeners("maximize"))}restore(){this.maximizeButton.show(),this.restoreButton.hide(),super.triggerListeners("restore")}close(){super.triggerListeners("close")}updateState(e){switch(this.state=e,this.state){case 2:this.maximizeButton.hide(),this.restoreButton.show();break;case 1:this.maximizeButton.show(),this.restoreButton.hide()}}destroy(){super.destroy();for(let e in this.buttons)this.buttons[e].destroy();this.buttons=[],this.element.parentNode.removeChild(this.element),this.availableButtons=null,this.id=null}}const k=j,T=class extends t.default{constructor(e,t,n,i){super(),this.title=t,this.id=O(),this.element=document.createElement("div"),this.element.classList.add("nj-window-header"),this.element.setAttribute("id",this.id),this.titleText=document.createElement("div"),this.titleText.classList.add("nj-window-header-title"),this.titleText.addEventListener("dblclick",(()=>{if(!(n.indexOf(1)<0))return 1===this.state?(this.updateState(2),void this.maximize()):void(2===this.state&&this.restore())})),this.titleText.innerText=this.title,this.state=i,this.element.appendChild(this.titleText),this.parentElement=e,this.parentElement.appendChild(this.element),this.headerButtons=this.createHeaderButtons(n),this.headerButtons.on("minimize",this.minimize.bind(this)),this.headerButtons.on("maximize",this.maximize.bind(this)),this.headerButtons.on("restore",this.restore.bind(this)),this.headerButtons.on("close",this.close.bind(this))}setTitle(e){this.title=e,this.titleText.innerText=this.title}createHeaderButtons(e){return new k(this.element,e,this.state)}minimize(){super.triggerListeners("stateChange",0)}maximize(){super.triggerListeners("stateChange",2)}restore(){super.triggerListeners("stateChange",1)}close(){super.triggerListeners("close")}updateState(e){this.state=e,this.headerButtons.updateState(e)}destroy(){super.destroy(),this.headerButtons.destroy(),this.element.parentNode.removeChild(this.element),this.titleText=null}getComputedHeight(){const e=window.getComputedStyle(this.element).height.replace("px","");return parseInt(e)}};var M=n(496),I=n.n(M);const L=[0,1,2],D=class extends t.default{constructor(e,t,n,i,r){super(),this.rect=t,this.id=O(),this.title=n,this.element=document.createElement("div"),this.element.setAttribute("id",this.id),this.element.classList.add("nj-window"),this.element.addEventListener("mousedown",this.focus.bind(this)),this.menuContainer=document.createElement("div"),this.menuContainer.classList.add("nj-menu-container"),this.toolbarContainer=document.createElement("div"),this.toolbarContainer.classList.add("nj-toolbar-container"),this.setLeft(t.x),this.setTop(t.y),this.setWidth(t.width),this.setHeight(t.height),e.appendChild(this.element),this.visible=!0,this.changeState(i||1),this.header=this.createHeader(r||L),this.header.on("stateChange",this.headerStateChange.bind(this)),this.header.on("close",this.closeQuery.bind(this)),this.element.appendChild(this.menuContainer),this.element.appendChild(this.toolbarContainer),this.contentContainer=document.createElement("div"),this.contentContainer.classList.add("nj-window-content"),this.element.appendChild(this.contentContainer),this.toolbars=[],this.footerContainer=document.createElement("div"),this.footerContainer.classList.add("nj-footer-container"),this.footer=null,this.element.appendChild(this.footerContainer),this.initInteract(),this.on("stateChange",((e,t)=>{switch(t){case 0:this.triggerListeners("minimize");break;case 2:this.triggerListeners("maximize");break;case 1:this.triggerListeners("restore")}"".length>0&&this.triggerListeners("")}))}setMenu(e){this.menu=e,this.menu.setParent(this.menuContainer)}addClass(e){this.element.classList.add(e)}removeClass(e){this.element.classList.remove(e)}addToolbar(e){this.toolbars.push(e),this.toolbarContainer.appendChild(e.getElement())}removeToolbar(e){e.destroy(),this.toolbars=this.toolbars.filter((t=>t!==e))}setTitle(e){this.title=e,this.header.setTitle(this.title),this.triggerListeners("titleUpdated",this.title)}getTitle(){return this.title}setWidth(e){this.rect.width=e,this.element.style.width=e+"px"}width(){return this.rect.width}setHeight(e){this.rect.height=e,this.element.style.height=e+"px"}height(){return this.rect.height}setLeft(e){this.rect.x=e,this.element.style.transform=`translate(${this.rect.x}px, ${this.rect.y}px)`}setTop(e){this.rect.y=e,this.element.style.transform=`translate(${this.rect.x}px, ${this.rect.y}px)`}createHeader(e){return new T(this.element,this.title,e,this.state)}minimize(){this.headerStateChange(null,0),super.triggerListeners("stateChange",this.state)}isMinimized(){return 0===this.state}maximize(){this.changeState(2),super.triggerListeners("stateChange",this.state)}hide(){this.visible=!1,this.element.classList.add("nj-hidden"),super.triggerListeners("hide")}show(){this.visible=!0,this.element.classList.remove("nj-hidden"),super.triggerListeners("show")}setZIndex(e){this.element.style.zIndex=e}zIndex(){return this.element.style.zIndex}restore(){this.state=this.previousState,this.visible||this.show(),this.header.updateState(this.state),this.updateClasses(),super.triggerListeners("stateChange",this.state)}headerStateChange(e,t){this.changeState(t),this.header.updateState(t),super.triggerListeners("stateChange",this.state)}changeState(e){this.previousState=this.state,this.state=e,this.updateClasses(),0===this.state&&setTimeout((()=>{this.blur(),this.hide()}),200)}getState(){return this.state}async closeQuery(){const e=await super.triggerListeners("beforeClose");0!==e.length&&!0!==e[e.length-1]||this.close()}async close(){await this.triggerListeners("close"),this.destroy()}updateClasses(){switch(this.state){case 2:this.element.classList.remove("nj-minimized"),this.element.classList.add("nj-maximized");break;case 0:this.element.classList.remove("nj-maximized"),this.element.classList.add("nj-minimized");break;case 1:this.element.classList.remove("nj-maximized"),this.element.classList.remove("nj-minimized")}}focus(){this.element.classList.contains("focused")||(this.element.classList.add("focused"),this.triggerListeners("focus"))}blur(){this.element.classList.remove("focused"),this.triggerListeners("blur")}initInteract(){let e={...this.rect},t={...this.rect};I()(this.element).draggable({allowFrom:".nj-window-header",ignoreFrom:".nj-window-header .nj-window-header-buttons",modifiers:[I().modifiers.restrictRect({restriction:"parent"})],listeners:{start:()=>{e={...this.rect},this.element.classList.add("moving")},move:e=>{const t={...this.rect};this.setLeft(this.rect.x+e.dx),this.setTop(this.rect.y+e.dy),this.triggerListeners("move",{oldRect:t,rect:this.rect})},end:()=>{this.element.classList.remove("moving"),this.triggerListeners("moved",{oldRect:t,rect:this.rect})}}}).resizable({edges:{bottom:!0,right:!0},listeners:{start:()=>{t={...this.rect},this.element.classList.add("resizing")},move:e=>{const t={...this.rect};e.rect.width>=150&&this.setWidth(e.rect.width);let n=0;n+=this.header.getComputedHeight(),n+=this.menu?.getComputedHeight()??0,this.toolbars.forEach((e=>n+=e.getComputedHeight())),n+=this.footer?.getComputedHeight()??0,n+=30,n<50&&(n=50),e.rect.height>=n&&this.setHeight(e.rect.height),this.triggerListeners("resize",{oldRect:t,rect:this.rect})},end:()=>{this.element.classList.remove("resizing"),this.triggerListeners("resized",{oldRect:e,rect:this.rect})}}})}setContentElement(e){this.contentContainer.innerHTML="",this.contentContainer.appendChild(e)}setContentObject(e){"object"==typeof this.contentObject&&void 0!==this.contentObject.destroy?this.contentObject.destroy():this.contentContainer.innerHTML="",this.contentObject=e,this.contentObject.setParent(this.contentContainer)}setFooter(e){this.footer=e,this.footer.setParent(this.footerContainer)}getFooter(){return this.footer}clearFooter(){this.footer.destroy(),this.footer=null}destroy(){super.destroy(),this.header.destroy(),this.contentObject&&this.contentObject.destroy(),this.element.parentNode.removeChild(this.element)}},R=class extends t.default{constructor(){super(),this.windowList=[],this.lastPosition={x:0,y:0},this.lastZIndex=0,this.focusedWindow=null}add(e){this.windowList.push(e),e.on("focus",this.focus.bind(this)),super.triggerListeners("windowAdded",e),e.focus()}remove(e){this.windowList=this.windowList.filter((t=>t!==e)).sort(((e,t)=>e.zIndex>t.zIndex)),super.triggerListeners("windowRemoved",e),0!==this.windowList.length&&this.windowList[this.windowList.length-1].focus()}getNextPosition(){return{x:this.lastPosition.x+20,y:this.lastPosition.y+20}}setLastPosition(e){this.lastPosition={x:e.x,y:e.y}}focus(e){this.focusedWindow&&this.focusedWindow!==e&&this.focusedWindow.blur(),this.focusedWindow=e,parseInt(this.focusedWindow.zIndex())!==parseInt(this.lastZIndex)&&(this.lastZIndex+=1,this.focusedWindow.setZIndex(this.lastZIndex))}tile(e,t){if(0===this.windowList.length)return;const n=this.windowList.length;let i=Math.ceil(Math.sqrt(n)),r=Math.floor(Math.sqrt(n)),o=n%i>0,s=t/r;3===n?(i=3,r=1,o=!1):o&&(r*s===t&&(r+1)*i-n<=i&&(r+=1),s=t/r),s=t/r;let a=e/i,l=0,c=0,d=0;this.windowList.forEach((t=>{const u={...t.rect};l>e-a&&(l=0,d++,c=d*s),d+1===r&&o&&(a=e/Math.ceil(n%i)),t.setWidth(a),t.setHeight(s),t.setLeft(l),t.setTop(c),t.triggerListeners("moved",{oldRect:u,rect:t.rect}),t.triggerListeners("resized",{oldRect:u,rect:t.rect}),l+=a}))}cascade(e,t){0!==this.windowList.length&&(this.windowList.sort(((e,t)=>{const n=parseInt(e.zIndex()),i=parseInt(t.zIndex());return n===i?0:n>i?1:-1})),this.lastPosition={x:0,y:0},this.windowList.forEach((n=>{1!==n.getState()&&n.restore();const i={...n.rect};n.setLeft(this.lastPosition.x),n.setTop(this.lastPosition.y),n.setWidth(500),n.setHeight(360),this.lastZIndex++,n.setZIndex(this.lastZIndex);const r=this.getNextPosition();r.y+360>t&&(r.y=0),r.x+500>e&&(r.x=0,r.y=0),this.lastPosition=r,n.triggerListeners("moved",{oldRect:i,rect:n.rect}),n.triggerListeners("resized",{oldRect:i,rect:n.rect})})))}destroy(){super.destroy(),this.windowList=null}},z=R;class A extends t.default{constructor(e){super(),this.element=document.createElement("div"),this.element.classList.add("nj-dialog-footer"),this.actionContainer=document.createElement("div"),this.actionContainer.classList.add("nj-actions"),this.explanationContainer=document.createElement("div"),this.explanationContainer.classList.add("nj-explanation"),this.element.appendChild(this.explanationContainer),this.element.appendChild(this.actionContainer),this.actions=[],e&&e.appendChild(this.element)}setParent(e){e.appendChild(this.element)}addAction(e){this.actions.push(e),e.setParent(this.actionContainer)}getExplanationContainer(){return this.explanationContainer}getComputedHeight(){const e=window.getComputedStyle(this.element);return parseInt(e.height.replace("px",""))}destroy(){super.destroy(),this.actions.forEach((e=>e.destroy())),this.element.parentElement.removeChild(this.element)}}const B=A;class N extends t.default{constructor(e){super(),this.element=document.createElement("div"),this.element.classList.add("nj-notification-area"),this.parent=e,this.parent.appendChild(this.element),this.widgets=[]}addWidget(e){this.widgets.push(e),e.setParent(this.element)}removeWidget(e){e.destroy(),this.widgets=this.widgets.filter((t=>t!==e))}destroy(){super.destroy(),this.element.parentNode.removeChild(this.element);for(let e in this.widgets)this.widgets[e].destroy();this.widgets=[]}}const W=N,F=class extends t.default{constructor(e){super(),this.element=document.createElement("div"),this.element.classList.add("nj-menu-item"),this.title="",this.buttonElement=document.createElement("button"),this.iconElement=document.createElement("div"),this.iconElement.classList.add("nj-menu-icon"),this.buttonTextElement=document.createElement("div"),this.buttonTextElement.classList.add("nj-menu-text"),this.buttonElement.appendChild(this.iconElement),this.buttonElement.appendChild(this.buttonTextElement),this.buttonElement.classList.add("text"),e.iconOnly&&this.buttonElement.classList.add("icon-only"),this.setTitle(e.title??""),e.icon&&this.setIcon(e.icon),e.click&&this.on("click",e.click),this.buttonElement.addEventListener("click",(e=>{this.triggerListeners("click",{nativeEvent:e})})),this.buttonElement.addEventListener("mouseenter",(()=>{setTimeout((()=>{this.element.getBoundingClientRect().top+this.childMenu.getComputedHeight()+60>document.querySelector("html").clientHeight?this.element.classList.add("low"):this.element.classList.remove("low")}),10)})),this.element.appendChild(this.buttonElement),this.childMenu=new u(this.element),this.childMenu.setParent(this.element)}setTitle(e){this.title=e,this.buttonTextElement.innerText=e,this.buttonElement.setAttribute("title",e)}setIcon(e){this.iconElement.style.backgroundImage=e,e?this.buttonElement.classList.remove("text"):this.buttonElement.classList.add("text")}addItem(e){this.childMenu.addItem(e),this.updateClasses()}removeItem(e){this.childMenu.removeItem(e),this.updateClasses()}updateClasses(){this.childMenu.has()?this.element.classList.add("has-children"):this.element.classList.remove("has-children")}getElement(){return this.element}setParent(e){e.appendChild(this.element)}destroy(){super.destroy(),this.items.forEach((e=>e.destroy())),this.element.parentElement.removeChild(this.element)}},Y=F;class H extends t.default{constructor(e,t){super(),this.element=document.createElement("button"),this.element.classList.add("nj-dialog-action"),this.setTitle(t?.title??""),t?.click&&this.on("click",t.click),this.element.addEventListener("click",(e=>{this.triggerListeners("click",{nativeEvent:e})})),e&&e.appendChild(this.element)}setTitle(e){this.title=e,this.element.innerText=e}setParent(e){e.appendChild(this.element)}destroy(){super.destroy(),this.parentElement.removeChild(this.element)}}const X=H;class U extends t.default{constructor(e,t){super(),this.element=document.createElement("button"),this.element.classList.add("nj-header-button"),e.appendChild(this.element),this.textContainer=document.createElement("span"),this.element.appendChild(this.textContainer),this.columnId=t.columnId,this.sortDirection=t.sortDirection??null,this.updateClass(),this.setText(t.text),t.sort&&this.on("sort",t.sort),this.on("click",(()=>{t.click&&this.config.click(this),this.toggleSort()})),this.element.addEventListener("click",(e=>{this.triggerListeners("click",{nativeEvent:e})}))}clearSort(){this.setSort(null)}toggleSort(){"asc"===this.sortDirection?this.setSort("desc"):this.setSort("asc")}setSort(e,t=!0){this.sortDirection=e,this.updateClass(),t&&this.triggerListeners("sort",{direction:this.sortDirection,columnId:this.columnId})}setText(e){this.text=e,this.textContainer.innerText=e}updateClass(){switch(this.sortDirection){default:return this.element.classList.remove("sorted"),this.element.classList.remove("asc"),void this.element.classList.remove("desc");case"asc":this.element.classList.remove("desc");break;case"desc":this.element.classList.remove("asc")}this.sortDirection&&(this.element.classList.add(this.sortDirection),this.element.classList.add("sorted"))}destroy(){parent.destroy(),this.element.parentNode.removeChild(this.element)}}const V=U,$=class extends t.default{constructor(e,t){super(),this.element=document.createElement("thead"),this.row=document.createElement("tr"),this.row.classList.add("nj-listview-header"),this.element.appendChild(this.row),this.columns=[],t.columns.forEach((e=>{const n=document.createElement("th");this.row.appendChild(n);const i=new V(n,{text:e.value,columnId:e.columnId,sortDirection:e.columnId===t.sortedBy?t.sortDirection:null,click:e.click??null,sort:(t,n)=>{e.sort&&e.sort(i,n),this.columns.forEach((e=>{e!==t&&e.setSort(null,!1)})),this.sorted(n.columnId,n.direction)}});this.columns.push(i)})),t.sort&&this.on("sort",t.sort),t.sortedBy&&this.sortBy(t.sortedBy,t.sortDirection),e.appendChild(this.element),this.preventSortEvents=!1}sortBy(e,t){this.preventSortEvents=!0,this.columns.forEach((n=>{n.setSort(e,t)})),this.preventSortEvents=!1,this.sorted(e,t)}sorted(e,t){this.triggerListeners("sort",{columnId:e,direction:t})}destroy(){super.destroy(),this.columns.forEach((e=>e.destroy)),this.element.parentNode.removeChild(this.element)}},q=$;class K extends t.default{constructor(e,t){super(),this.element=document.createElement("tr"),this.element.classList.add("nj-listview-item"),t.classes&&this.element.classList.add(...t.classes),this.columns=[],this.item={...t},this.item.columns.forEach((e=>{const t=document.createElement("td");e.columnElement=t,this.item.icon&&(this.item.iconColumn??"")===e.columnId&&(this.icon=document.createElement("div"),this.icon.classList.add("list-icon"),this.icon.style.backgroundImage=this.item.icon,this.textContainer=document.createElement("span"),e.columnElement.appendChild(this.icon),e.columnElement.appendChild(this.textContainer)),this.setColumnText(e,e.value,this.item),this.element.appendChild(t)})),this.element.addEventListener("click",(e=>{this.triggerListeners("click",{nativeEvent:e})})),this.element.addEventListener("dblclick",(e=>{this.triggerListeners("dblclick",{nativeEvent:e})})),e.appendChild(this.element)}setSelected(e){this.selected=e,e?this.element.classList.add("nj-selected"):this.element.classList.remove("nj-selected")}toggleSelection(){this.setSelected(!this.isSelected())}isSelected(){return this.selected}column(e){return this.item.columns.find((t=>t.columnId===e))?.value??null}setColumn(e,t){const n=this.item.columns.find((t=>t.columnId===e));n&&(n.value=t,this.setColumnText(n,t,this.item))}setColumnText(e,t,n){e.customRender?e.customRender(e,t,n):this.item.icon&&e.columnId===(this.item.iconColumn??"")?this.textContainer.innerText=t:e.columnElement.innerText=t}setParent(e){null===e&&this.element.parentElement?this.element.parentElement.removeChild(this.element):e.appendChild(this.element)}destroy(){super.destroy(),this.element.parentElement&&this.element.parentElement.removeChild(this.element)}}const G=K;class Z extends t.default{constructor(t,n){super(),this.config=n,this.element=document.createElement("table"),this.element.classList.add("nj-listview"),this.header=new q(this.element,n.headers),this.header.on("sort",this.sort.bind(this)),this.bodyElement=document.createElement("tbody"),this.element.appendChild(this.bodyElement),this.items=[],this.fillItems(n.items),t&&t.appendChild(this.element),(n.dragDropSelect??1)&&(this.dragSelection=new e(this))}selectItemsByDrag(e){for(let t in this.items){const n=this.items[t].element.getBoundingClientRect();this.items[t].setSelected(i(n,e))}}setParent(e){e.appendChild(this.element),this.dragSelection&&this.dragSelection.attachEvents()}clear(){this.items.forEach((e=>e.destroy())),this.items=[]}fillItems(e){this.clear(),e&&e.forEach((e=>{this.addItem(e)}))}addItem(e){const t=new G(this.bodyElement,e);t.on("click",((e,t)=>{if(!t.nativeEvent.ctrlKey&&!t.nativeEvent.shiftKey){const t=this.items.filter((e=>e.isSelected()));if(1===t.length&&t[0]===e)return;this.clearSelection()}if(t.nativeEvent.shiftKey){const t=this.items.indexOf(e);for(let e=Math.min(this.lastSelectionIndex??0,t);e<=Math.max(this.lastSelectionIndex??0,t);e++)this.items[e].setSelected(!0)}else t.nativeEvent.ctrlKey?e.toggleSelection():e.setSelected(!0);this.lastSelectionIndex=this.items.indexOf(e),this.triggerListeners("onselect",this.items.filter((e=>e.isSelected())))})),t.on("dblclick",((e,t)=>{this.clearSelection(),e.setSelected(!0),this.lastSelectionIndex=this.items.indexOf(e),this.triggerListeners("input",{...t,item:e})})),this.items.push(t)}removeItem(e){e.destroy(),this.items=this.items.filter((t=>t!==e))}clearSelection(){this.items.forEach((e=>e.setSelected(!1)))}getCustomSortCompare(e){const t=this.config?.headers?.columns?.find((t=>t.columnId===e));return t?.customSortCompare??null}sort(e,t){this.bodyElement.classList.add("nj-hidden");const n=this.getCustomSortCompare(t.columnId);this.items.sort(((e,i)=>{const r=e.column(t.columnId),o=i.column(t.columnId);return n?"asc"===t.direction?n(r,o):n(o,r):r===o?0:"asc"===t.direction?r>o?1:-1:o>r?1:-1})),this.items.forEach((e=>{e.setParent(null),e.setParent(this.bodyElement)})),this.bodyElement.style.display,this.bodyElement.classList.remove("nj-hidden"),this.triggerListeners("sort",t)}destroy(){super.destroy(),this.header.destroy(),this.clear(),this.element.parentNode.removeChild(this.element)}}const J=Z;class Q extends t.default{constructor(e){super(),this.options=Object.assign({},{locale:"en"},e),this.element=document.createElement("div"),this.element.classList.add("nj-notification-widget"),this.updateTime(),this.interval=setInterval(this.updateTime.bind(this),1e3),this.element.addEventListener("click",(()=>{this.triggerListeners("click",{sender:this})}))}updateTime(){const e=new Date;this.element.innerText=e.toLocaleTimeString([this.options.locale],{hour:"2-digit",minute:"2-digit",second:"2-digit"}),this.element.title=e.toLocaleDateString([this.options.locale],{weekday:"long",year:"numeric",month:"long",day:"numeric"})}setParent(e){e.appendChild(this.element)}destroy(){super.destroy(),clearInterval(this.interval),this.element.parentNode.removeChild()}}const ee=Q,te=(e,t)=>{const n=Math.floor(e/t)*t;let i=Math.ceil(e/t)*t-1;return i<n&&(i+=t),{start:n,end:i}},ne=e=>te(e,10),ie=e=>te(e,100),re=e=>te(e,1e3),{default:oe}=n(119),se="millennia",ae="century",le="decade",ce="year",de="month",ue="full",he=class extends oe{constructor(e,t,n){super(),this.element=document.createElement("div"),this.element.classList.add("nj-epoch-selector");const i=n?.month??(new Date).getMonth();for(let e in t){const r=document.createElement("button");t[e].selected&&r.classList.add("selected"),r.innerText=t[e].label,r.addEventListener("click",(()=>{this.triggerListeners("input",{year:t[e].year,month:i,display:n.display,locale:n.locale})})),this.element.appendChild(r)}e.appendChild(this.element)}destroy(){super.destroy(),this.element.parentNode.removeChild(this.element)}};class fe extends t.default{constructor(e,t){if(super(),this.element=document.createElement("button"),this.element.classList.add("nj-calendar-day"),this.locale=t.locale??"en",e&&(this.parentElement=e,e.appendChild(this.element)),t.dummy)return this.element.setAttribute("disabled",!0),this.element.classList.add("dummy"),void(this.element.innerText=".");this.data=t.data;const n=new Date;n.setHours(0,0,0,0);const i=new Date(this.data.date.getTime());i.setHours(0,0,0,0),n.getTime()===i.getTime()&&this.element.classList.add("current-date");const r=document.createElement("span");r.innerText=i.getDate(),this.element.appendChild(r),this.element.addEventListener("click",this.handleClick.bind(this)),this.selected=t?.selected??!1}setSelected(e){this.selected=e,!this.selected&&this.element.classList.contains("selected")?this.element.classList.remove("selected"):this.element.classList.add("selected")}isSelected(){return this.selected}handleClick(){this.setSelected(!0),this.triggerListeners("click",{...this.data,sender:this})}destroy(){super.destroy(),this.element.removeEventListener("click",this.handleClick),this.element.parentNode.removeChild(this.element)}}const pe=fe;class me extends t.default{constructor(e,t){super(),this.parentElement=e,this.year=t.year,this.month=t.month,this.locale=t.locale??"en",this.selected=t.selected??null,this.days=[],this.drawMonth()}drawMonth(){this.element&&(this.clearDays(),this.removElement()),this.createElement(),this.currentDate=new Date;const e=new Date(this.year,this.month),t=e.getDate(),n=e.getDay(),i=this.daysInMonth(this.year,this.month);for(let e=0;e<=n-1;e++){const e=document.createElement("td");this.days.push(new pe(e,{dummy:!0}))}for(let e=t;e<=i;e++){const t=document.createElement("td"),n=new Date(this.year,this.month,e);n.setHours(0,0,0,0);const i=new pe(t,{data:{date:n,year:this.year,month:this.month,locale:this.locale},locale:this.locale});this.selected?.getTime()===n.getTime()&&i.setSelected(!0),i.on("click",this.handleDayClick.bind(this)),this.days.push(i)}let r;for(let e=0;e<this.days.length;e++)if(r||(r=document.createElement("tr")),r.appendChild(this.days[e].parentElement),(e+1)%7==0&&(this.element.appendChild(r),r=document.createElement("tr")),e===this.days.length-1){const t=7-e%7;for(let e=0;e<t-1;e++){const e=document.createElement("td");this.days.push(new pe(e,{dummy:!0})),r.appendChild(e)}this.element.appendChild(r);break}this.parentElement.appendChild(this.element)}daysInMonth(){return 32-new Date(this.year,this.month,32).getDate()}createElement(){this.element=document.createElement("table"),this.element.classList.add("nj-calendar-month");const e=document.createElement("tr");e.classList.add("day-row");for(let t=1;t<=7;t++){const n=document.createElement("th");n.innerText=(void 0,void 0,new Date("2020-03-"+t).toLocaleDateString(["en"],{weekday:"short"})),e.appendChild(n)}this.element.appendChild(e)}removElement(){this.element.parentNode.removeChild(this.element),this.element=null}handleDayClick(e,t){for(let e in this.days)this.days[e].isSelected()&&this.days[e].setSelected(!1),t.sender.setSelected(!0);this.triggerListeners("input",{...t,selected:t.date})}clearDays(){for(let e in this.days)this.days[e].off("click",this.handleDayClick),this.days[e].destroy();this.days=[]}destroy(){super.destroy(),this.clearDays(),this.removElement()}}const ve=me,{default:ge}=n(119),ye=class extends ge{constructor(e,t){super(),this.element=document.createElement("div"),this.element.classList.add("nj-epoch-selector");const n=(new Date).getFullYear(),i=t?.year??n;for(let e=0;e<=11;e++){const n=new Date(i,e),r=document.createElement("button");r.innerText=n.toLocaleDateString(t.locale??"en",{month:"long"}),e===t.month&&r.classList.add("selected"),r.addEventListener("click",(()=>{this.triggerListeners("input",{year:i,month:e,display:de,locale:t.locale})})),this.element.appendChild(r)}e.appendChild(this.element)}destroy(){super.destroy(),this.element.parentNode.removeChild(this.element)}},be=class extends t.default{constructor(e,t){super();const n=new Date;this.year=t.year??n.getFullYear(),this.month=t.month??n.getMonth(),this.locale=t.locale??"en",this.display=t.display??ue,this.element=document.createElement("div"),this.element.classList.add("nj-calendar-nav"),this.jumpMonthBack=document.createElement("button"),this.jumpMonthBack.classList.add("jump-month-back"),this.jumpMonthBack.innerText=t.monthBackText??"<",this.jumpMonthBack.addEventListener("click",this.jumpMonthBackClick.bind(this)),this.jumpMonthForward=document.createElement("button"),this.jumpMonthForward.classList.add("jump-month-forward"),this.jumpMonthForward.innerText=t.monthForwardText??">",this.jumpMonthForward.addEventListener("click",this.jumpMonthForwardClick.bind(this)),this.selectedMonthYear=document.createElement("button"),this.selectedMonthYear.classList.add("selected-month"),this.selectedMonthYear.addEventListener("click",this.selectedMonthYearClick.bind(this)),this.updateSelectedMonthYear(),this.element.appendChild(this.jumpMonthBack),this.element.appendChild(this.selectedMonthYear),this.element.appendChild(this.jumpMonthForward),e.appendChild(this.element)}updateSelectedMonthYear(){const e=new Date(this.year,this.month);switch(this.display){case se:this.selectedMonthYear.innerText="...";break;case ae:const t=re(this.year);this.selectedMonthYear.innerText=`${t.start} - ${t.end}`;break;case le:const n=ie(this.year);this.selectedMonthYear.innerText=`${n.start} - ${n.end}`;break;case ce:const i=ne(this.year);this.selectedMonthYear.innerText=`${i.start} - ${i.end}`;break;case de:this.selectedMonthYear.innerText=e.toLocaleDateString(this.locale,{year:"numeric"});break;default:this.selectedMonthYear.innerText=e.toLocaleDateString(this.locale,{year:"numeric",month:"long"})}}set(e={}){isNaN(e.year)||(this.year=e.year),!isNaN(e.month)&&e.month>=0&&e.month<=11&&(this.month=e.month),e.display&&(this.display=e.display),e.locale&&(this.locale=e.locale),e.preventUpdateEvent||this.triggerInputEvent(),this.updateSelectedMonthYear()}triggerInputEvent(){this.triggerListeners("input",{year:this.year,month:this.month,locale:this.locale,display:this.display})}jumpMonthBackClick(){switch(this.display){case se:break;case ae:this.year-=1e3;break;case le:this.year-=100;break;case ce:this.year-=10;break;case de:this.year--;break;default:0===this.month?(this.month=11,this.year-=1):this.month-=1}this.triggerInputEvent(),this.updateSelectedMonthYear()}jumpMonthForwardClick(){switch(this.display){case se:break;case ae:this.year+=1e3;break;case le:this.year+=100;break;case ce:this.year+=10;break;case de:this.year++;break;default:11===this.month?(this.month=0,this.year+=1):this.month+=1}this.triggerInputEvent(),this.updateSelectedMonthYear()}selectedMonthYearClick(){switch(this.display){case se:return;case ae:this.display=se;break;case le:this.display=ae;break;case ce:this.display=le;break;case de:this.display=ce;break;case ue:this.display=de}this.updateSelectedMonthYear(),this.triggerListeners("displayStateChange",{year:this.year,month:this.month,locale:this.locale,display:this.display})}destroy(){super.destroy(),this.element.parentNode.removeChild(this.element)}};class we extends t.default{constructor(e,t){super(),this.options=Object.assign({},{locale:"en",date:new Date},t),this.element=document.createElement("div"),this.element.classList.add("nj-calendar"),this.currentDate=this.options.date,this.currentDate.setHours(0,0,0,0),this.selectedMonth=this.currentDate.getMonth(),this.selectedYear=this.currentDate.getFullYear();const n={locale:this.options.locale,year:this.selectedYear,month:this.selectedMonth,display:ue};this.navigation=new be(this.element,n),this.displayState=ue,this.createSelector(n),e&&e.appendChild(this.element),this.navigation.on("input",this.navDisplayStateChange.bind(this)),this.navigation.on("displayStateChange",this.navDisplayStateChange.bind(this))}setParent(e){e.appendChild(this.element)}selectorInput(e,t){const n=this.nextState(t.display);this.navigation.set({...t,display:n,preventUpdateEvent:!0}),n===ue&&(this.currentDate=t.selected??this.currentDate,this.triggerListeners("input",this.currentDate)),this.createSelector({...t,display:n})}nextState(e){switch(e){case se:return ae;case ae:return le;case le:return ce;case ce:return de;default:return ue}}navDisplayStateChange(e,t){this.createSelector(t)}createSelector(e){switch(this.selector&&this.destroySelector(),e.display){case se:this.selector=new he(this.element,((e,t=1,n=2)=>{const i=re(e),r=[];for(let e=t;e<=n;e++){const t=1e3*e,n=t+999;r.push({label:`${t} - ${n}`,year:t,selected:t===i.start})}return r})(e.year),{...e,selected:this.currentDate});break;case ae:this.selector=new he(this.element,(e=>{const t=re(e),n=ie(e),i=[];for(let e=0;e<=9;e++){const r=t.start+100*e,o=r+99;i.push({label:`${r} - ${o}`,year:r,selected:r===n.start})}return i})(e.year),{...e,selected:this.currentDate});break;case le:this.selector=new he(this.element,(e=>{const t=ie(e),n=ne(e),i=[];for(let e=0;e<=9;e++){const r=t.start+10*e,o=r+9;i.push({label:`${r} - ${o}`,year:r,selected:r===n.start})}return i})(e.year),{...e,selected:this.currentDate});break;case ce:this.selector=new he(this.element,(e=>{const t=ne(e),n=[];for(let i=t.start;i<=t.end;i++)n.push({label:i,year:i,selected:e===i});return n})(e.year),{...e,selected:this.currentDate});break;case de:this.selector=new ye(this.element,{...e,selected:this.currentDate});break;case ue:this.selector=new ve(this.element,{...e,selected:this.currentDate})}this.selector.on("input",this.selectorInput.bind(this))}destroySelector(){this.selector.off("input",this.selectorInput.bind),this.selector.destroy()}destroy(){super.destroy(),this.destroySelector(),this.element.parentNode.removeChild(this.element)}}const xe=we,Ee=class extends G{constructor(e,t){super(e,t),this.treeButton=document.createElement("button"),this.treeButton.classList.add("nj-treeview-button"),this.levelDepth=document.createElement("div"),this.levelDepth.classList.add("level-depth");const n=this.element.querySelector("td:first-child");n.appendChild(this.levelDepth),n.appendChild(this.treeButton),this.treeButton.addEventListener("click",this.treeButtonClick.bind(this)),this.parent=t.parent,this.children=[],this.setExpanded(t.expanded??!1),this.setHidden(t.hidden??!1),this.element.addEventListener("dblclick",this.treeButtonClick.bind(this)),this.parentItem=null,this.element.querySelector("td:first-child").appendChild(this.levelDepth),this.updateButton()}setExpanded(e){this.expanded=e,this.expanded?this.element.classList.add("expanded"):this.element.classList.remove("expanded");for(let e in this.children)this.children[e].setHidden(!this.expanded);this.updateButton(),this.triggerListeners("expand",this.expanded)}setHidden(e){if(this.hidden=e,this.hidden?this.element.classList.add("hidden"):this.element.classList.remove("hidden"),this.isExpanded())for(let t in this.children)this.children[t].setHidden(e)}setParentItem(e){this.parentItem=e}treeButtonClick(e){e.stopPropagation(),this.setExpanded(!this.expanded)}collapse(){this.setExpanded(!1)}expand(){this.setExpanded(!0)}isExpanded(){return this.expanded}show(){this.setHidden(!1)}hide(){this.setHidden(!0)}destroy(){super.destroy()}addChild(e,t=!0){if(this.children=[...this.children,e],e.setParentItem(this),t){let t=this.children.find((e=>e.element.classList.contains("last-item")));t||(t=this),this.element.parentElement.insertBefore(e.element,t.element.nextSibling)}this.updateButton()}removeChild(e){for(let t in this.children){if(this.children[t]===e){this.children[t].destroy(),this.children=this.children.filter((t=>t!==e));break}this.children[t].removeChild(e)}this.updateButton()}getLastChild(){return this.children.length>0?null:this.children[this.children.length-1]}addClass(e){this.element.classList.add(e)}removeClass(e){this.element.classList.remove(e)}updateButton(){0===this.children.length?this.treeButton.classList.add("hidden"):this.treeButton.classList.remove("hidden"),this.treeButton.classList.remove("expanded"),this.expanded&&this.treeButton.classList.add("expanded")}destroy(){for(let e in this.children)this.children[e].destroy();super.destroy()}},Se=class extends t.default{constructor(e,t){super(),this.element=document.createElement("table"),this.element.classList.add("nj-treeview"),this.element.classList.add("nj-listview"),t.headers&&(this.header=new q(this.element,t.headers??{})),this.bodyElement=document.createElement("tbody"),this.element.appendChild(this.bodyElement),this.items=[],this.fillItems(t.items),this.renderBranch(this.items,0,null),e&&this.setParent(e)}findSelected(e){const t=e?.children??this.items;for(let e in t){if(t[e].isSelected())return t[e];const n=this.findSelected(t[e]);if(n)return n}}selectWith(e,t=null){const n=t?.children??this.items;for(let t in n){if(e(n[t]))return this.itemClick(n[t]),void this.expandParents(n[t]);this.selectWith(e,n[t])}}expandParents(e){let t=e.parentItem;for(;t;)t.setExpanded(!0),t=t.parentItem}renderBranch(e,t,n){for(let i in e){let r="middle-item";switch(parseInt(i)){case 0:r="first-item";break;case e.length-1:r="last-item"}const o=["level-"+t,"nj-treeview-item",r];let s=!0;n&&!n.isExpanded()||(s=!1);const a={...e[i]};delete a.items;const l=new Ee(this.bodyElement,{...a,classes:o,parent:n,level:t,expanded:e[i].expanded??!1,hidden:s});l.on("click",this.itemClick.bind(this)),e[i].items.length>0&&this.renderBranch(e[i].items,t+1,l),n?n.addChild(l,!1):this.items.push(l)}}itemClick(e,t){const n=this.findSelected();if(n){if(n===e)return;n.setSelected(!1)}e.setSelected(!0),this.triggerListeners("input",{source:this,item:e})}addItem(e,t){let n=0;e&&(n=e.item.level+1);const i=new Ee(this.bodyElement,{...t,level:n,parent:e,classes:["level-"+n,"nj-treeview-item"],expanded:t.expanded??!1,hidden:!(!e||e.isExpanded())});i.on("click",this.itemClick.bind(this)),e?e.addChild(i):this.items=[...this.items,i],this.reRenderLevelOf(e)}removeItem(e){const t=e.parentItem;for(let t in this.items){if(this.items[t]===e){this.items[t].destroy(),this.items=this.items.filter((t=>t!==e));break}this.items[t].removeChild(e)}this.reRenderLevelOf(t)}reRenderLevelOf(e){let t=0;const n=e?.children??this.items;for(let e in n)n[e].removeClass("first-item"),n[e].removeClass("middle-item"),n[e].removeClass("last-item"),0===t&&n[e].addClass("first-item"),t===n.length-1&&n[e].addClass("last-item"),t>0&&t<n.length-1&&n[e].addClass("middle-item"),t++}fillItems(e){this.clear(),e&&this.renderBranch(e,0)}clear(){for(let e in this.items)this.items[e].destroy()}setParent(e){e.appendChild(this.element)}destroy(){super.destroy(),this.clear(),this.header&&this.header.destroy(),this.element.parentNode.removeChild(this.element)}},Ce=Se,Pe=class extends t.default{constructor(e){super(),this.element=document.createElement("div"),this.element.classList.add("window-footer-pane"),this.element.addEventListener("click",(e=>{this.triggerListeners("click",{nativeEvent:e})})),e.appendChild(this.element)}setContentText(e){this.element.innerText=e}setContent(e){this.element.appendChild(e)}setContentObject(e){this.contentObject=e,this.contentObject.setParent(this.element)}destroy(){this.contentObject&&this.contentObject.destroy(),this.element.parentElement.removeChild(this.element),super.destroy()}},Oe=class extends t.default{constructor(){super(),this.element=document.createElement("div"),this.element.classList.add("nj-window-footer"),this.panes=[]}setParent(e){e.appendChild(this.element)}addPane(){const e=new Pe(this.element);return this.panes.push(e),e}removePane(e){this.panes=this.panes.filter((t=>t!==e)),e.destroy()}getComputedHeight(){const e=window.getComputedStyle(this.element);return parseInt(e.height.replace("px",""))}destroy(){this.parentNode.removeChild(this.element),super.destroy()}};!window.NjDesktop||function(){throw new Error("Cannot load NjDesktop. Variable already used.")}(),window.NjDesktop={NjDesktop:class{constructor(e,t){this.element=e,this.element.classList.add("nj-desktop"),this.config={backgroundImage:"",backgroundPosition:"center center",backgroundSize:"auto",...t},this.updateBackground(),this.setTheme(t?.theme??"redmond7"),this.topContainer=document.createElement("div"),this.topContainer.classList.add("nj-desktop-top"),this.element.appendChild(this.topContainer),this.windowContainer=document.createElement("div"),this.windowContainer.classList.add("nj-desktop-window-container"),this.element.appendChild(this.windowContainer),this.taskBar=new y(this.element),this.setMenu(new u(this.topContainer)),this.notificationArea=new W(this.topContainer),this.windowManager=new z,this.windowManager.on("windowAdded",this.windowAdded.bind(this)),this.windowManager.on("windowRemoved",this.windowRemoved.bind(this)),this.iconList=new c(this.windowContainer,{orientation:s.HORIZONTAL,preventScroll:!0,view:a.M})}setTheme(e){this.theme&&this.element.classList.remove(this.theme),this.theme=e,this.theme&&this.element.classList.add(this.theme)}updateBackground(){this.element.style.backgroundImage=this.config.backgroundImage,this.element.style.backgroundPosition=this.config.backgroundPosition,this.element.style.backgroundSize=this.config.backgroundSize}setBackgroundImage(e){this.config.backgroundImage=e,this.updateBackground()}getElement(){return this.element}getWindowContainer(){return this.windowContainer}windowAdded(e,t){this.taskBar.addWindowButton(t)}windowRemoved(e,t){}addWindow(e){this.windowManager.add(e)}removeWindow(e){this.windowManager.removeWindow(e)}createWindow(e,t,n){const i=this.windowManager.getNextPosition();i.y+480>this.getWindowContainer().offsetHeight&&(i.y=0),i.x+640>this.getWindowContainer().offsetWidth&&(i.x=0,i.y=0);const r=new D(this.getWindowContainer(),{...i,width:640,height:480},e||"New window",t,n);return r.on("close",this.windowClosed.bind(this)),this.windowManager.setLastPosition(i),this.windowManager.add(r),r}createDialog(e){const t=window.getComputedStyle(this.getWindowContainer()),n=parseInt(t.width.replace("px","")),i=parseInt(t.height.replace("px","")),r=new D(this.getWindowContainer(),{x:parseInt(n/2)-parseInt(e.width/2),y:parseInt(i/2)-parseInt(e.height/2),width:e.width,height:e.height},e.title,1,[2]);return r.addClass("nj-dialog"),r.setFooter(new B),r.on("close",this.windowClosed.bind(this)),this.windowManager.add(r),r}windowClosed(e){this.windowManager.remove(e)}destroy(){this.element.classList.remove(".nj-desktop"),this.windowManager.destroy(),this.taskBar.destroy(),this.notificationArea.destroy(),this.iconList.destroy(),this.menu.destroy()}addTaskbarToolButton(e){return this.taskBar.getToolbar().addToolButton(e)}addTaskbarSubMenu(e){this.taskBar.getToolbar().addMenu(e)}setMenu(e){this.menu=e,e.setParent(this.topContainer)}getMenu(){return this.menu}getIconList(){return this.iconList}getNotificationArea(){return this.notificationArea}tile(){const e=this.getWindowContainer();this.windowManager.tile(e.offsetWidth,e.offsetHeight)}cascade(){const e=this.getWindowContainer();this.windowManager.cascade(e.offsetWidth,e.offsetHeight)}},NjWindow:D,ToolBar:v,ToolButton:m,NjMenu:u,NjMenuItem:Y,NjIconList:c,NjDialogFooter:B,NjDialogAction:X,NjListView:J,NJ_CLOSE:2,NJ_MAXIMIZE:1,NJ_MINIMIZE:0,NJ_RESTORE:3,WS_MAXIMIZED:2,WS_NORMAL:1,WS_MINIMIZED:0,NJ_TOOLBUTTON_ICON:"nj-toolbutton-icon",NJ_TOOLBUTTON_TEXT:p,NjIconlistOrientation:s,NjIconlistView:a,NjNotificationClock:ee,NjCalendar:xe,NjCalendarMonth:ve,NjTreeview:Ce,NjTreeViewItem:Ee,NjWindowFooter:Oe}})()})();