<!DOCTYPE html>
<html>
    <head>
        <title>NjDesktop 2 Demo</title>
        <link href="njDesktop.css" rel="stylesheet" type="text/css" />
        <style>
            body {
                position: relative;
                padding: 0;
                margin: 0;
            }

            .nj-desktop {
                width: 100vw;
                height: 100vh;
            }
        </style>
    </head>
    <body>
        <div id="desktop">

        </div>
        <script src="njDesktop.js"></script>
        <script>
            const desktop = new NjDesktop.NjDesktop(document.querySelector('#desktop'));

            const stch = (origin, state) => {
                console.log(origin, state);
            }
            const aWindow = desktop.createWindow('Test window name');
            aWindow.on('stateChange', stch);

            const toolbar = new NjDesktop.ToolBar();
            aWindow.addToolbar(toolbar);
            for (let i = 0; i<= 10; i++) {
                toolbar.addToolButton({
                    title: 'A tool button',
                    type: NjDesktop.NjToolButtonTypes.NJ_TOOLBUTTON_TEXT
                });
            }

            const toolButton = desktop.addTaskbarToolButton({
                title: "New window",
                type: NjDesktop.NjToolButtonTypes.NJ_TOOLBUTTON_TEXT
            });

            toolButton.on('click', () => {
                desktop.createWindow("Test Window name");
            })

            const toolButton2 = desktop.addTaskbarToolButton({
                title: "Redmond 7 theme",
                type: NjDesktop.NjToolButtonTypes.NJ_TOOLBUTTON_TEXT
            });

            toolButton2.on('click', () => {
                desktop.setTheme('redmond7');
            })

            const toolButton3 = desktop.addTaskbarToolButton({
                title: "Default theme",
                type: NjDesktop.NjToolButtonTypes.NJ_TOOLBUTTON_TEXT
            });

            toolButton3.on('click', () => {
                desktop.setTheme(null);
            })


            
            setTimeout(() => {
                aWindow.setTitle('Title changed after 3 seconds');
            }, 3000);
        </script>
    </body>
</html>