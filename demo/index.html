<!DOCTYPE html>
<html>
    <head>
        <title>NjDesktop 2 Demo</title>
        <link href="njDesktop.css" rel="stylesheet" type="text/css" />
        <style>
            body {
                position: relative;
                padding: 0;
                margin: 0;
            }

            .nj-desktop {
                width: 100vw;
                height: 100vh;
            }
        </style>
    </head>
    <body>
        <div id="desktop">

        </div>
        <script src="njDesktop.js"></script>
        <script>
            const desktop = new NjDesktop.NjDesktop(document.querySelector('#desktop'));

            const stch = (origin, state) => {
                console.log(origin, state);
            }
            const aWindow = desktop.createWindow('Test window name');
            aWindow.on('stateChange', stch);

            const toolbar = new NjDesktop.ToolBar();
            const toolbarMenu = new NjDesktop.NjMenu();
            const toolbarMenuItem = new NjDesktop.NjMenuItem({title: "Menu item 1"})
            toolbarMenu.addItem(toolbarMenuItem);
            const toolbarMenuItem2 = new NjDesktop.NjMenuItem({title: "Menu item 1"})
            toolbarMenuItem.addItem(toolbarMenuItem2);
            const toolbarMenuItem3 = new NjDesktop.NjMenuItem({title: "Menu item 1"})
            toolbarMenuItem.addItem(toolbarMenuItem3);
            toolbar.addMenu(toolbarMenu);
            aWindow.addToolbar(toolbar);
            for (let i = 0; i<= 10; i++) {
                toolbar.addToolButton({
                    title: 'A tool button',
                    type: NjDesktop.NjToolButtonTypes.NJ_TOOLBUTTON_TEXT
                });
            }

            const toolButton = desktop.addTaskbarToolButton({
                title: "New window",
                type: NjDesktop.NjToolButtonTypes.NJ_TOOLBUTTON_TEXT
            });

            toolButton.on('click', () => {
                desktop.createWindow("Test Window name");
            })

            const taskbarSubMenu = new NjDesktop.NjMenu();
            const themeMenu = new NjDesktop.NjMenuItem({title: "Choose theme"});
            taskbarSubMenu.addItem(themeMenu);
            const redmond7MenuItem = new NjDesktop.NjMenuItem({
                title: "redmond 7 theme"
            })

            redmond7MenuItem.on('click', () => {
                desktop.setTheme('redmond7');
            })
            themeMenu.addItem(redmond7MenuItem);


            const defaultThemeMenuItem = new NjDesktop.NjMenuItem({
                title: "Default theme",
            });

            defaultThemeMenuItem.on('click', () => {
                desktop.setTheme(null);
            });

            themeMenu.addItem(defaultThemeMenuItem);
            
            desktop.addTaskbarSubMenu(taskbarSubMenu);


            const menuItem = new NjDesktop.NjMenuItem({
                title: 'A menu'
            });

            const menuItem2 = new NjDesktop.NjMenuItem({
                title: 'A second menu'
            });
            menuItem.addItem(menuItem2)
            const menuItem3 = new NjDesktop.NjMenuItem({
                title: 'A third menu'
            });
            menuItem.addItem(menuItem3)
            const menuItem4 = new NjDesktop.NjMenuItem({
                title: 'A fourth menu'
            });
            menuItem2.addItem(menuItem4)

            desktop.getMenu().addItem(menuItem);

            const windowMenu = new NjDesktop.NjMenu();
            aWindow.setMenu(windowMenu);
            const fileMenu = new NjDesktop.NjMenuItem({title: 'File'});
            windowMenu.addItem(fileMenu);
            const newMenu = new NjDesktop.NjMenuItem({title: 'New...'});
            fileMenu.addItem(newMenu);
            const openMenu = new NjDesktop.NjMenuItem({title: 'Open...'});
            fileMenu.addItem(openMenu);
            const openRecent = new NjDesktop.NjMenuItem({title: 'Open recent'});
            fileMenu.addItem(openRecent);
            const recentItem1 = new NjDesktop.NjMenuItem({title: 'Recent item 1'});
            openRecent.addItem(recentItem1);
            const recentItem2 = new NjDesktop.NjMenuItem({title: 'Recent item 2'});
            openRecent.addItem(recentItem2);
            const recentItem3 = new NjDesktop.NjMenuItem({title: 'Recent item 3'});
            openRecent.addItem(recentItem3);
            
            
            
            setTimeout(() => {
                aWindow.setTitle('Title changed after 3 seconds');
            }, 3000);
        </script>
    </body>
</html>